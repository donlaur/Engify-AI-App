{
  "statistics": {
    "detectionDate": "2025-11-17T20:24:50.709Z",
    "formats": {
      "typescript": {
        "sources": {
          "src/app/api/v2/users/api-keys/[keyId]/rotate/route.ts": {
            "lines": 101,
            "tokens": 837,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 46,
            "duplicatedTokens": 421,
            "percentage": 45.54,
            "percentageTokens": 50.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/users/api-keys/[keyId]/revoke/route.ts": {
            "lines": 86,
            "tokens": 696,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 46,
            "duplicatedTokens": 421,
            "percentage": 53.49,
            "percentageTokens": 60.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/users/api-keys/usage/route.ts": {
            "lines": 108,
            "tokens": 1029,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 53,
            "duplicatedTokens": 534,
            "percentage": 49.07,
            "percentageTokens": 51.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/revisions/compare/route.ts": {
            "lines": 155,
            "tokens": 1282,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 277,
            "percentage": 20,
            "percentageTokens": 21.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/prompts/[id]/image/route.ts": {
            "lines": 114,
            "tokens": 1115,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 78,
            "duplicatedTokens": 740,
            "percentage": 68.42,
            "percentageTokens": 66.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/generation-status/[jobId]/route.ts": {
            "lines": 163,
            "tokens": 1262,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 69,
            "duplicatedTokens": 832,
            "percentage": 42.33,
            "percentageTokens": 65.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/generate/batch/route.ts": {
            "lines": 148,
            "tokens": 1205,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 41,
            "duplicatedTokens": 421,
            "percentage": 27.7,
            "percentageTokens": 34.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/ai-models/sync/replicate/route.ts": {
            "lines": 229,
            "tokens": 1778,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 85,
            "duplicatedTokens": 959,
            "percentage": 37.12,
            "percentageTokens": 53.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/users/api-keys/route.ts": {
            "lines": 103,
            "tokens": 928,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 813,
            "percentage": 88.35,
            "percentageTokens": 87.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/users/[id]/route.ts": {
            "lines": 377,
            "tokens": 2672,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 199,
            "percentage": 7.96,
            "percentageTokens": 7.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/ai/execute/route.ts": {
            "lines": 316,
            "tokens": 2403,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 166,
            "percentage": 6.33,
            "percentageTokens": 6.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/view/route.ts": {
            "lines": 101,
            "tokens": 817,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/test-results/route.ts": {
            "lines": 174,
            "tokens": 1672,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 39,
            "duplicatedTokens": 433,
            "percentage": 22.41,
            "percentageTokens": 25.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/share/route.ts": {
            "lines": 73,
            "tokens": 574,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/revisions/route.ts": {
            "lines": 71,
            "tokens": 588,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/audit/route.ts": {
            "lines": 183,
            "tokens": 1590,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 277,
            "percentage": 16.94,
            "percentageTokens": 17.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/messaging/gamification-events/process/route.ts": {
            "lines": 51,
            "tokens": 368,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/messaging/[queueName]/process/route.ts": {
            "lines": 156,
            "tokens": 1002,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/messaging/[queueName]/callback/route.ts": {
            "lines": 81,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/manager/team/[teamId]/route.ts": {
            "lines": 92,
            "tokens": 716,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 147,
            "percentage": 18.48,
            "percentageTokens": 20.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/webhook/route.ts": {
            "lines": 83,
            "tokens": 746,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/verify/route.ts": {
            "lines": 78,
            "tokens": 639,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 49,
            "duplicatedTokens": 449,
            "percentage": 62.82,
            "percentageTokens": 70.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/status/route.ts": {
            "lines": 34,
            "tokens": 279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/send-code/route.ts": {
            "lines": 77,
            "tokens": 623,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 244,
            "percentage": 37.66,
            "percentageTokens": 39.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/enable/route.ts": {
            "lines": 87,
            "tokens": 623,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 244,
            "percentage": 33.33,
            "percentageTokens": 39.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mfa/disable/route.ts": {
            "lines": 44,
            "tokens": 347,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/prompts/[id]/route.ts": {
            "lines": 103,
            "tokens": 1025,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 66,
            "duplicatedTokens": 648,
            "percentage": 64.08,
            "percentageTokens": 63.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/review/route.ts": {
            "lines": 164,
            "tokens": 1702,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 92,
            "duplicatedTokens": 850,
            "percentage": 56.1,
            "percentageTokens": 49.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/regenerate/route.ts": {
            "lines": 167,
            "tokens": 1324,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 29,
            "duplicatedTokens": 266,
            "percentage": 17.37,
            "percentageTokens": 20.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/quality/route.ts": {
            "lines": 281,
            "tokens": 2837,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 29,
            "duplicatedTokens": 313,
            "percentage": 10.32,
            "percentageTokens": 11.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/manage/route.ts": {
            "lines": 328,
            "tokens": 3145,
            "sources": 1,
            "clones": 21,
            "duplicatedLines": 244,
            "duplicatedTokens": 2089,
            "percentage": 74.39,
            "percentageTokens": 66.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/index/route.ts": {
            "lines": 86,
            "tokens": 820,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 54,
            "duplicatedTokens": 454,
            "percentage": 62.79,
            "percentageTokens": 55.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/content/generate/route.ts": {
            "lines": 153,
            "tokens": 1285,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 41,
            "duplicatedTokens": 391,
            "percentage": 26.8,
            "percentageTokens": 30.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/ai-models/sync/route.ts": {
            "lines": 422,
            "tokens": 5064,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 42,
            "duplicatedTokens": 507,
            "percentage": 9.95,
            "percentageTokens": 10.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/ai-models/migrate/route.ts": {
            "lines": 43,
            "tokens": 373,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 121,
            "percentage": 27.91,
            "percentageTokens": 32.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/interfaces/IContentReviewer.ts": {
            "lines": 65,
            "tokens": 303,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/interfaces/IContentPublisher.ts": {
            "lines": 73,
            "tokens": 364,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/interfaces/IContentGenerator.ts": {
            "lines": 60,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/implementations/SingleAgentContentGenerator.ts": {
            "lines": 110,
            "tokens": 909,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 21,
            "duplicatedTokens": 195,
            "percentage": 19.09,
            "percentageTokens": 21.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/implementations/MultiAgentContentGenerator.ts": {
            "lines": 115,
            "tokens": 902,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 85,
            "percentage": 9.57,
            "percentageTokens": 9.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/implementations/ContentReviewService.ts": {
            "lines": 95,
            "tokens": 707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/implementations/ContentPublishingServiceAdapter.ts": {
            "lines": 71,
            "tokens": 462,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 176,
            "percentage": 30.99,
            "percentageTokens": 38.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/utils/provider-harness.ts": {
            "lines": 133,
            "tokens": 979,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/interfaces/AIProvider.ts": {
            "lines": 85,
            "tokens": 270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/factory/AIProviderFactoryWithRegistry.ts": {
            "lines": 174,
            "tokens": 1400,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/factory/AIProviderFactory.ts": {
            "lines": 118,
            "tokens": 912,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/adapters/ReplicateAdapter.ts": {
            "lines": 193,
            "tokens": 1820,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/adapters/OpenAIAdapter.ts": {
            "lines": 115,
            "tokens": 806,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 91,
            "duplicatedTokens": 672,
            "percentage": 79.13,
            "percentageTokens": 83.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/adapters/GroqAdapter.ts": {
            "lines": 110,
            "tokens": 772,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 76,
            "duplicatedTokens": 569,
            "percentage": 69.09,
            "percentageTokens": 73.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/adapters/GeminiAdapter.ts": {
            "lines": 126,
            "tokens": 848,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 91,
            "percentage": 10.32,
            "percentageTokens": 10.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/v2/adapters/ClaudeAdapter.ts": {
            "lines": 105,
            "tokens": 731,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 36,
            "duplicatedTokens": 244,
            "percentage": 34.29,
            "percentageTokens": 33.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/hireme/files/[[...filename]]/route.ts": {
            "lines": 74,
            "tokens": 566,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/webhooks/twilio/route.ts": {
            "lines": 209,
            "tokens": 1388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/webhooks/sendgrid/route.ts": {
            "lines": 299,
            "tokens": 1942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/webhooks/gamification/route.ts": {
            "lines": 133,
            "tokens": 1018,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 81,
            "percentage": 5.26,
            "percentageTokens": 7.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/webhooks/content-updated/route.ts": {
            "lines": 152,
            "tokens": 1238,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 130,
            "percentage": 9.21,
            "percentageTokens": 10.5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/users/route.ts": {
            "lines": 233,
            "tokens": 1751,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 103,
            "percentage": 6.87,
            "percentageTokens": 5.88,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/v2/execution/route.ts": {
            "lines": 264,
            "tokens": 2363,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/user/stats/route.ts": {
            "lines": 90,
            "tokens": 749,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 53,
            "duplicatedTokens": 495,
            "percentage": 58.89,
            "percentageTokens": 66.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/user/onboarding/route.ts": {
            "lines": 61,
            "tokens": 539,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 40,
            "duplicatedTokens": 392,
            "percentage": 65.57,
            "percentageTokens": 72.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/user/notification-preferences/route.ts": {
            "lines": 145,
            "tokens": 1156,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 88,
            "duplicatedTokens": 768,
            "percentage": 60.69,
            "percentageTokens": 66.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/trpc/[trpc]/route.ts": {
            "lines": 18,
            "tokens": 112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/stats/invalidate/route.ts": {
            "lines": 136,
            "tokens": 1006,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 51,
            "duplicatedTokens": 448,
            "percentage": 37.5,
            "percentageTokens": 44.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/research/gemini/route.ts": {
            "lines": 102,
            "tokens": 652,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 204,
            "percentage": 27.45,
            "percentageTokens": 31.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/quality-scores/route.ts": {
            "lines": 148,
            "tokens": 1361,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 222,
            "percentage": 14.86,
            "percentageTokens": 16.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/metrics/route.ts": {
            "lines": 141,
            "tokens": 1243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/history/route.ts": {
            "lines": 106,
            "tokens": 989,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 39,
            "duplicatedTokens": 442,
            "percentage": 36.79,
            "percentageTokens": 44.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/favorites/route.ts": {
            "lines": 137,
            "tokens": 1225,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 31,
            "duplicatedTokens": 348,
            "percentage": 22.63,
            "percentageTokens": 28.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/collections/route.ts": {
            "lines": 167,
            "tokens": 1361,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/audit/route.ts": {
            "lines": 175,
            "tokens": 1031,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 209,
            "percentage": 16,
            "percentageTokens": 20.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/[id]/route.ts": {
            "lines": 241,
            "tokens": 1991,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 38,
            "duplicatedTokens": 388,
            "percentage": 15.77,
            "percentageTokens": 19.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/performance/metrics/route.ts": {
            "lines": 97,
            "tokens": 800,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/observability/metrics/route.ts": {
            "lines": 65,
            "tokens": 547,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 193,
            "percentage": 27.69,
            "percentageTokens": 35.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/mcp-auth/token/route.ts": {
            "lines": 167,
            "tokens": 1417,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 90,
            "percentage": 5.99,
            "percentageTokens": 6.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/mcp-auth/generate-token/route.ts": {
            "lines": 58,
            "tokens": 507,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/mcp-auth/authorize/route.ts": {
            "lines": 123,
            "tokens": 1062,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 84,
            "percentage": 5.69,
            "percentageTokens": 7.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/manager/dashboard/route.ts": {
            "lines": 70,
            "tokens": 536,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 147,
            "percentage": 24.29,
            "percentageTokens": 27.43,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/learning/[slug]/route.ts": {
            "lines": 68,
            "tokens": 518,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jobs/weekly-digest/route.ts": {
            "lines": 126,
            "tokens": 1164,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 107,
            "percentage": 11.11,
            "percentageTokens": 9.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jobs/monthly-analytics/route.ts": {
            "lines": 157,
            "tokens": 1149,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jobs/daily-usage-report/route.ts": {
            "lines": 94,
            "tokens": 722,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 107,
            "percentage": 13.83,
            "percentageTokens": 14.82,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jobs/cleanup/route.ts": {
            "lines": 68,
            "tokens": 505,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 107,
            "percentage": 19.12,
            "percentageTokens": 21.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jobs/check-usage-alerts/route.ts": {
            "lines": 151,
            "tokens": 1288,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 107,
            "percentage": 9.27,
            "percentageTokens": 8.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/jira/connect/route.ts": {
            "lines": 179,
            "tokens": 1377,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 43,
            "duplicatedTokens": 448,
            "percentage": 24.02,
            "percentageTokens": 32.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/github/repos/route.ts": {
            "lines": 72,
            "tokens": 558,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 280,
            "percentage": 43.06,
            "percentageTokens": 50.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/github/connect/route.ts": {
            "lines": 44,
            "tokens": 303,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/github/code-context/route.ts": {
            "lines": 78,
            "tokens": 625,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 184,
            "percentage": 28.21,
            "percentageTokens": 29.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/github/callback/route.ts": {
            "lines": 71,
            "tokens": 567,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/gamification/stats/route.ts": {
            "lines": 82,
            "tokens": 596,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 104,
            "percentage": 14.63,
            "percentageTokens": 17.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/feedback/rating/route.ts": {
            "lines": 283,
            "tokens": 2752,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 23,
            "duplicatedTokens": 247,
            "percentage": 8.13,
            "percentageTokens": 8.98,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/feedback/quick/route.ts": {
            "lines": 92,
            "tokens": 823,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 294,
            "percentage": 33.7,
            "percentageTokens": 35.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/feedback/article/route.ts": {
            "lines": 78,
            "tokens": 652,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 153,
            "percentage": 21.79,
            "percentageTokens": 23.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/email/webhook/route.ts": {
            "lines": 111,
            "tokens": 970,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/warm-isr-cache/route.ts": {
            "lines": 370,
            "tokens": 2854,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 56,
            "duplicatedTokens": 440,
            "percentage": 15.14,
            "percentageTokens": 15.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/update-text-indexes/route.ts": {
            "lines": 130,
            "tokens": 1020,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/update-stats/route.ts": {
            "lines": 71,
            "tokens": 567,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 130,
            "percentage": 19.72,
            "percentageTokens": 22.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/sync-analytics/route.ts": {
            "lines": 62,
            "tokens": 474,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/revalidate-sitemap/route.ts": {
            "lines": 77,
            "tokens": 466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/cron/regenerate-json/route.ts": {
            "lines": 49,
            "tokens": 416,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/content/review/route.ts": {
            "lines": 167,
            "tokens": 1349,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 103,
            "percentage": 11.38,
            "percentageTokens": 7.64,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/content/publish/route.ts": {
            "lines": 134,
            "tokens": 1059,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 19,
            "duplicatedTokens": 103,
            "percentage": 14.18,
            "percentageTokens": 9.73,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/career/recommendations/route.ts": {
            "lines": 69,
            "tokens": 510,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 128,
            "percentage": 30.43,
            "percentageTokens": 25.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/signup/route.ts": {
            "lines": 81,
            "tokens": 684,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/obo-exchange/route.ts": {
            "lines": 167,
            "tokens": 1425,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 90,
            "percentage": 5.99,
            "percentageTokens": 6.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/mcp-token/route.ts": {
            "lines": 51,
            "tokens": 450,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/jwks/route.ts": {
            "lines": 56,
            "tokens": 446,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 84,
            "percentage": 12.5,
            "percentageTokens": 18.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/forgot-password/route.ts": {
            "lines": 224,
            "tokens": 1553,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/auth/[...nextauth]/route.ts": {
            "lines": 16,
            "tokens": 61,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/analytics/track/route.ts": {
            "lines": 102,
            "tokens": 849,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 274,
            "percentage": 33.33,
            "percentageTokens": 32.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/agents/scrum-meeting/route.ts": {
            "lines": 78,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/agents/creator/route.ts": {
            "lines": 153,
            "tokens": 1292,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 103,
            "percentage": 7.19,
            "percentageTokens": 7.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/agents/artifacts/route.ts": {
            "lines": 54,
            "tokens": 572,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/affiliate/click/route.ts": {
            "lines": 88,
            "tokens": 716,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 34,
            "duplicatedTokens": 274,
            "percentage": 38.64,
            "percentageTokens": 38.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/users/route.ts": {
            "lines": 331,
            "tokens": 2975,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 111,
            "duplicatedTokens": 1091,
            "percentage": 33.53,
            "percentageTokens": 36.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/system-settings/route.ts": {
            "lines": 309,
            "tokens": 2728,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 77,
            "duplicatedTokens": 711,
            "percentage": 24.92,
            "percentageTokens": 26.06,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/stats/route.ts": {
            "lines": 192,
            "tokens": 1664,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/settings/route.ts": {
            "lines": 193,
            "tokens": 1535,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 109,
            "percentage": 5.18,
            "percentageTokens": 7.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/prompts/route.ts": {
            "lines": 522,
            "tokens": 4836,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 109,
            "duplicatedTokens": 990,
            "percentage": 20.88,
            "percentageTokens": 20.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/patterns/route.ts": {
            "lines": 316,
            "tokens": 2914,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 103,
            "duplicatedTokens": 907,
            "percentage": 32.59,
            "percentageTokens": 31.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/dlq/route.ts": {
            "lines": 237,
            "tokens": 1836,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 182,
            "percentage": 10.97,
            "percentageTokens": 9.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/audit/route.ts": {
            "lines": 136,
            "tokens": 1500,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 107,
            "percentage": 12.5,
            "percentageTokens": 7.13,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/ai-tools/route.ts": {
            "lines": 272,
            "tokens": 2371,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 99,
            "duplicatedTokens": 1085,
            "percentage": 36.4,
            "percentageTokens": 45.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/ai-models/route.ts": {
            "lines": 242,
            "tokens": 2090,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 54,
            "duplicatedTokens": 590,
            "percentage": 22.31,
            "percentageTokens": 28.23,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/admin/affiliate-links/route.ts": {
            "lines": 278,
            "tokens": 2418,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 64,
            "duplicatedTokens": 768,
            "percentage": 23.02,
            "percentageTokens": 31.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/jobs/ContentGenerationJobQueue.ts": {
            "lines": 338,
            "tokens": 2253,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/content/ContentGenerationService.ts": {
            "lines": 182,
            "tokens": 1021,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/repositories/mongodb/UserRepository.ts": {
            "lines": 259,
            "tokens": 1908,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 197,
            "percentage": 6.95,
            "percentageTokens": 10.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/repositories/mongodb/PromptRepository.ts": {
            "lines": 359,
            "tokens": 2691,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 197,
            "percentage": 5.01,
            "percentageTokens": 7.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/repositories/interfaces/IRepository.ts": {
            "lines": 228,
            "tokens": 703,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/queues/UpstashMessageQueue.ts": {
            "lines": 729,
            "tokens": 5462,
            "sources": 1,
            "clones": 26,
            "duplicatedLines": 745,
            "duplicatedTokens": 5163,
            "percentage": 102.19,
            "percentageTokens": 94.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/queues/RedisMessageQueue.ts": {
            "lines": 940,
            "tokens": 7417,
            "sources": 1,
            "clones": 16,
            "duplicatedLines": 426,
            "duplicatedTokens": 3165,
            "percentage": 45.32,
            "percentageTokens": 42.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/queues/QStashMessageQueue.ts": {
            "lines": 691,
            "tokens": 5124,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 220,
            "duplicatedTokens": 1638,
            "percentage": 31.84,
            "percentageTokens": 31.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/queues/InMemoryMessageQueue.ts": {
            "lines": 412,
            "tokens": 2916,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 214,
            "duplicatedTokens": 1407,
            "percentage": 51.94,
            "percentageTokens": 48.25,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/strategies/StreamingStrategy.ts": {
            "lines": 237,
            "tokens": 1657,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 99,
            "duplicatedTokens": 661,
            "percentage": 41.77,
            "percentageTokens": 39.89,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/strategies/HybridStrategy.ts": {
            "lines": 389,
            "tokens": 2642,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 185,
            "percentage": 7.71,
            "percentageTokens": 7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/strategies/CacheStrategy.ts": {
            "lines": 449,
            "tokens": 3182,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 52,
            "duplicatedTokens": 298,
            "percentage": 11.58,
            "percentageTokens": 9.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/strategies/BatchStrategy.ts": {
            "lines": 447,
            "tokens": 3436,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 108,
            "percentage": 4.92,
            "percentageTokens": 3.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/interfaces/IExecutionStrategy.ts": {
            "lines": 165,
            "tokens": 802,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/factory/ExecutionStrategyFactory.ts": {
            "lines": 112,
            "tokens": 794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/execution/context/ExecutionContextManager.ts": {
            "lines": 147,
            "tokens": 1044,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 82,
            "percentage": 7.48,
            "percentageTokens": 7.85,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/store/EventStore.ts": {
            "lines": 280,
            "tokens": 2002,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 26,
            "duplicatedTokens": 200,
            "percentage": 9.29,
            "percentageTokens": 9.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/store/EventBus.ts": {
            "lines": 127,
            "tokens": 778,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/handlers/UserEventHandlers.ts": {
            "lines": 282,
            "tokens": 1957,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 60,
            "duplicatedTokens": 556,
            "percentage": 21.28,
            "percentageTokens": 28.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/workflow.ts": {
            "lines": 32,
            "tokens": 229,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/user-feedback.ts": {
            "lines": 346,
            "tokens": 2942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/usage.ts": {
            "lines": 147,
            "tokens": 1068,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/testing.ts": {
            "lines": 159,
            "tokens": 1370,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/tags.ts": {
            "lines": 122,
            "tokens": 642,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/prompt-test-results.ts": {
            "lines": 109,
            "tokens": 1096,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/prompt-revision.ts": {
            "lines": 98,
            "tokens": 1008,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/pattern.ts": {
            "lines": 59,
            "tokens": 542,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 132,
            "percentage": 28.81,
            "percentageTokens": 24.35,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/design-pattern.ts": {
            "lines": 78,
            "tokens": 792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/auditLog.ts": {
            "lines": 115,
            "tokens": 752,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/article-research.schema.ts": {
            "lines": 143,
            "tokens": 1434,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 148,
            "percentage": 6.99,
            "percentageTokens": 10.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/ai-tool.ts": {
            "lines": 125,
            "tokens": 1415,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 168,
            "percentage": 11.2,
            "percentageTokens": 11.87,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/ai-model.ts": {
            "lines": 169,
            "tokens": 2053,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 168,
            "percentage": 5.92,
            "percentageTokens": 8.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schemas/affiliate-config.ts": {
            "lines": 42,
            "tokens": 489,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/article-research.repository.ts": {
            "lines": 124,
            "tokens": 948,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 170,
            "percentage": 14.52,
            "percentageTokens": 17.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/WorkflowRepository.ts": {
            "lines": 184,
            "tokens": 1439,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/PromptRepository.ts": {
            "lines": 242,
            "tokens": 2046,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/PatternRepository.ts": {
            "lines": 147,
            "tokens": 1171,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/LearningResourceRepository.ts": {
            "lines": 194,
            "tokens": 1493,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/ContentService.ts": {
            "lines": 105,
            "tokens": 693,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/repositories/BaseRepository.ts": {
            "lines": 211,
            "tokens": 1407,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/models/NotificationHistory.ts": {
            "lines": 77,
            "tokens": 456,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/models/LearningResource.ts": {
            "lines": 100,
            "tokens": 193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/queries/UserQueries.ts": {
            "lines": 173,
            "tokens": 1064,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/handlers/UserQueryHandlers.ts": {
            "lines": 392,
            "tokens": 2658,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 148,
            "duplicatedTokens": 1064,
            "percentage": 37.76,
            "percentageTokens": 40.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/handlers/UserCommandHandlers.ts": {
            "lines": 360,
            "tokens": 2339,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 138,
            "duplicatedTokens": 902,
            "percentage": 38.33,
            "percentageTokens": 38.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/commands/UserCommands.ts": {
            "lines": 139,
            "tokens": 858,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cache/strategies/CacheStrategies.ts": {
            "lines": 487,
            "tokens": 3616,
            "sources": 1,
            "clones": 20,
            "duplicatedLines": 444,
            "duplicatedTokens": 3438,
            "percentage": 91.17,
            "percentageTokens": 95.08,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cache/adapters/RedisAdapter.ts": {
            "lines": 459,
            "tokens": 3431,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cache/adapters/MemoryAdapter.ts": {
            "lines": 341,
            "tokens": 2345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/providers/cognito-password-reset.ts": {
            "lines": 149,
            "tokens": 960,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/providers/CognitoProvider.ts": {
            "lines": 193,
            "tokens": 1452,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/utils/model-cost.ts": {
            "lines": 101,
            "tokens": 711,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/prompts/management/performance-improvement-plans.ts": {
            "lines": 451,
            "tokens": 476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/prompts/management/facilitator-guides.ts": {
            "lines": 736,
            "tokens": 329,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/prompts/management/decision-frameworks.ts": {
            "lines": 757,
            "tokens": 608,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/prompts/management/conflict-resolution.ts": {
            "lines": 674,
            "tokens": 473,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/blog/[[...slug]]/route.ts": {
            "lines": 54,
            "tokens": 423,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/user-stats/route.ts": {
            "lines": 119,
            "tokens": 1033,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/test-connection/route.ts": {
            "lines": 57,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/tags/route.ts": {
            "lines": 43,
            "tokens": 311,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/stats/route.ts": {
            "lines": 71,
            "tokens": 535,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 31,
            "duplicatedTokens": 266,
            "percentage": 43.66,
            "percentageTokens": 49.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/rag/route.ts": {
            "lines": 222,
            "tokens": 1818,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 36,
            "duplicatedTokens": 438,
            "percentage": 16.22,
            "percentageTokens": 24.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/prompts/route.ts": {
            "lines": 171,
            "tokens": 1421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/patterns/route.ts": {
            "lines": 71,
            "tokens": 609,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/multi-agent/route.ts": {
            "lines": 277,
            "tokens": 1432,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/learning/route.ts": {
            "lines": 83,
            "tokens": 646,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/health/route.ts": {
            "lines": 146,
            "tokens": 1164,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 212,
            "percentage": 19.18,
            "percentageTokens": 18.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/favorites/route.ts": {
            "lines": 272,
            "tokens": 2297,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 103,
            "duplicatedTokens": 909,
            "percentage": 37.87,
            "percentageTokens": 39.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/email/route.ts": {
            "lines": 143,
            "tokens": 1115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/debug-session/route.ts": {
            "lines": 19,
            "tokens": 183,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/chat/route.ts": {
            "lines": 311,
            "tokens": 2154,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 13,
            "duplicatedTokens": 123,
            "percentage": 4.18,
            "percentageTokens": 5.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/bug-reports/route.ts": {
            "lines": 193,
            "tokens": 1702,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 30,
            "duplicatedTokens": 180,
            "percentage": 15.54,
            "percentageTokens": 10.58,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api/access-request/route.ts": {
            "lines": 238,
            "tokens": 1778,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/mocks/index.ts": {
            "lines": 41,
            "tokens": 146,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/mocks/http.ts": {
            "lines": 328,
            "tokens": 2607,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/mocks/database.ts": {
            "lines": 376,
            "tokens": 3519,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 148,
            "percentage": 2.66,
            "percentageTokens": 4.21,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/mocks/ai-providers.ts": {
            "lines": 348,
            "tokens": 2383,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 184,
            "percentage": 9.2,
            "percentageTokens": 7.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/fixtures/users.ts": {
            "lines": 209,
            "tokens": 1235,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/fixtures/prompts.ts": {
            "lines": 238,
            "tokens": 1367,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/fixtures/index.ts": {
            "lines": 18,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/fixtures/api-responses.ts": {
            "lines": 213,
            "tokens": 1435,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/examples/comprehensive-test.example.ts": {
            "lines": 516,
            "tokens": 4255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/builders/index.ts": {
            "lines": 14,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/builders/TestDataBuilder.ts": {
            "lines": 277,
            "tokens": 1913,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/routers/user.ts": {
            "lines": 54,
            "tokens": 423,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/routers/prompt.ts": {
            "lines": 111,
            "tokens": 851,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/routers/_app.ts": {
            "lines": 17,
            "tokens": 87,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/middleware/sanitization.ts": {
            "lines": 73,
            "tokens": 509,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/middleware/audit.ts": {
            "lines": 121,
            "tokens": 976,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 393,
            "percentage": 27.27,
            "percentageTokens": 40.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/workflow-schema.ts": {
            "lines": 146,
            "tokens": 1520,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/verified-sources.ts": {
            "lines": 174,
            "tokens": 1011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/recommendation-schema.ts": {
            "lines": 83,
            "tokens": 872,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 97,
            "percentage": 9.64,
            "percentageTokens": 11.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/pain-point-schema.ts": {
            "lines": 74,
            "tokens": 846,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 97,
            "percentage": 10.81,
            "percentageTokens": 11.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/load-workflows-from-json.ts": {
            "lines": 169,
            "tokens": 1256,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/load-recommendations-from-json.ts": {
            "lines": 45,
            "tokens": 421,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/load-pain-points-from-json.ts": {
            "lines": 51,
            "tokens": 497,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workflows/generate-workflows-json.ts": {
            "lines": 72,
            "tokens": 586,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 256,
            "percentage": 27.78,
            "percentageTokens": 43.69,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/workbench/contracts.ts": {
            "lines": 91,
            "tokens": 655,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/validation/schemas.ts": {
            "lines": 174,
            "tokens": 1519,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/validation/middleware.ts": {
            "lines": 87,
            "tokens": 742,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/validation.ts": {
            "lines": 319,
            "tokens": 2408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/tool-links.ts": {
            "lines": 36,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/tag-encoding.ts": {
            "lines": 137,
            "tokens": 791,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/string.ts": {
            "lines": 220,
            "tokens": 1602,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 93,
            "percentage": 5,
            "percentageTokens": 5.81,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/slug.ts": {
            "lines": 95,
            "tokens": 478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/seo.ts": {
            "lines": 64,
            "tokens": 446,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/sanitize-error.ts": {
            "lines": 56,
            "tokens": 310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/role-mapping.ts": {
            "lines": 174,
            "tokens": 1023,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/prompt-duplicate-check.ts": {
            "lines": 160,
            "tokens": 1150,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/pattern-validation.ts": {
            "lines": 141,
            "tokens": 1068,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/index.ts": {
            "lines": 15,
            "tokens": 52,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/ga-events.ts": {
            "lines": 228,
            "tokens": 1218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/format.ts": {
            "lines": 55,
            "tokens": 619,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/date.ts": {
            "lines": 166,
            "tokens": 1540,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 50,
            "duplicatedTokens": 626,
            "percentage": 30.12,
            "percentageTokens": 40.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/array.ts": {
            "lines": 145,
            "tokens": 1036,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils/analytics.ts": {
            "lines": 68,
            "tokens": 487,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/types/user.ts": {
            "lines": 115,
            "tokens": 677,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/trpc/client.ts": {
            "lines": 9,
            "tokens": 46,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/testing/promptGrader.ts": {
            "lines": 252,
            "tokens": 2189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/stats/fetch-platform-stats.ts": {
            "lines": 241,
            "tokens": 1975,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 81,
            "percentage": 3.73,
            "percentageTokens": 4.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/workbenchRuns.ts": {
            "lines": 117,
            "tokens": 1145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/twilioWebhookState.ts": {
            "lines": 22,
            "tokens": 187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/twilioService.ts": {
            "lines": 493,
            "tokens": 3746,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/sendgridTemplates.ts": {
            "lines": 221,
            "tokens": 1295,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/sendgridHealth.ts": {
            "lines": 34,
            "tokens": 264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/scheduledJobs.ts": {
            "lines": 170,
            "tokens": 1006,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/mfaService.ts": {
            "lines": 402,
            "tokens": 2755,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 20,
            "duplicatedTokens": 186,
            "percentage": 4.98,
            "percentageTokens": 6.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/emailService.ts": {
            "lines": 451,
            "tokens": 2238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/emailParser.ts": {
            "lines": 224,
            "tokens": 1488,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/UserService.ts": {
            "lines": 411,
            "tokens": 2818,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/TeamService.ts": {
            "lines": 189,
            "tokens": 1606,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/StatsService.ts": {
            "lines": 249,
            "tokens": 1722,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/SkillTrackingService.ts": {
            "lines": 211,
            "tokens": 1633,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/PromptService.ts": {
            "lines": 442,
            "tokens": 3304,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/NotificationService.ts": {
            "lines": 216,
            "tokens": 1387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ManagerDashboardService.ts": {
            "lines": 292,
            "tokens": 2534,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ImageAssetService.ts": {
            "lines": 186,
            "tokens": 1671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/GitHubConnectionService.ts": {
            "lines": 169,
            "tokens": 1264,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/GamificationService.ts": {
            "lines": 404,
            "tokens": 2907,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 16,
            "duplicatedTokens": 182,
            "percentage": 3.96,
            "percentageTokens": 6.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/FavoriteService.ts": {
            "lines": 164,
            "tokens": 1147,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 172,
            "percentage": 13.41,
            "percentageTokens": 15,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/CareerRecommendationService.ts": {
            "lines": 338,
            "tokens": 2331,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/BaseService.ts": {
            "lines": 156,
            "tokens": 1310,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/AuditLogService.ts": {
            "lines": 200,
            "tokens": 1670,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 15,
            "duplicatedTokens": 163,
            "percentage": 7.5,
            "percentageTokens": 9.76,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ApiUsageNotificationService.ts": {
            "lines": 430,
            "tokens": 3048,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 97,
            "percentage": 3.72,
            "percentageTokens": 3.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ApiKeyUsageService.ts": {
            "lines": 514,
            "tokens": 4347,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 10,
            "duplicatedTokens": 114,
            "percentage": 1.95,
            "percentageTokens": 2.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ApiKeyService.ts": {
            "lines": 424,
            "tokens": 3078,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 33,
            "duplicatedTokens": 306,
            "percentage": 7.78,
            "percentageTokens": 9.94,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/ActivityService.ts": {
            "lines": 206,
            "tokens": 1648,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 22,
            "duplicatedTokens": 172,
            "percentage": 10.68,
            "percentageTokens": 10.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/AIToolService.ts": {
            "lines": 102,
            "tokens": 767,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/AIModelService.ts": {
            "lines": 204,
            "tokens": 1561,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/services/AIModelRegistry.ts": {
            "lines": 142,
            "tokens": 1228,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 160,
            "percentage": 15.49,
            "percentageTokens": 13.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/seo/metadata.ts": {
            "lines": 513,
            "tokens": 3508,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 56,
            "duplicatedTokens": 224,
            "percentage": 10.92,
            "percentageTokens": 6.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/seo/internal-linking.ts": {
            "lines": 403,
            "tokens": 3544,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 32,
            "duplicatedTokens": 396,
            "percentage": 7.94,
            "percentageTokens": 11.17,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/sanitizer.ts": {
            "lines": 204,
            "tokens": 1270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/sanitize.ts": {
            "lines": 91,
            "tokens": 595,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/rateLimiter.ts": {
            "lines": 172,
            "tokens": 1192,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/promptValidator.ts": {
            "lines": 153,
            "tokens": 832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/piiRedaction.ts": {
            "lines": 175,
            "tokens": 1451,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/keyRotation.ts": {
            "lines": 222,
            "tokens": 1535,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 38,
            "duplicatedTokens": 208,
            "percentage": 17.12,
            "percentageTokens": 13.55,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/security/feedback-rate-limit.ts": {
            "lines": 121,
            "tokens": 922,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 105,
            "percentage": 6.61,
            "percentageTokens": 11.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/schemas/user-profile.ts": {
            "lines": 51,
            "tokens": 617,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 10,
            "duplicatedTokens": 238,
            "percentage": 19.61,
            "percentageTokens": 38.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/schemas/prompt.ts": {
            "lines": 266,
            "tokens": 2485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/resilience/types.ts": {
            "lines": 319,
            "tokens": 2061,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/resilience/ResilienceDecorator.ts": {
            "lines": 365,
            "tokens": 2656,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 80,
            "percentage": 4.38,
            "percentageTokens": 3.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/resilience/CircuitBreakerManager.ts": {
            "lines": 326,
            "tokens": 2211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/resilience/CircuitBreaker.ts": {
            "lines": 338,
            "tokens": 2358,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 80,
            "percentage": 4.73,
            "percentageTokens": 3.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/rate-limit/oauth.ts": {
            "lines": 47,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/rag/client.ts": {
            "lines": 113,
            "tokens": 1233,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prompts/soft-skills-prompts.ts": {
            "lines": 398,
            "tokens": 1062,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prompts/mongodb-prompts.ts": {
            "lines": 116,
            "tokens": 739,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prompts/load-prompts-from-json.ts": {
            "lines": 136,
            "tokens": 991,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prompts/generate-prompts-json.ts": {
            "lines": 156,
            "tokens": 1401,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 118,
            "percentage": 5.77,
            "percentageTokens": 8.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/query-optimizer.ts": {
            "lines": 549,
            "tokens": 4301,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/query-monitor.ts": {
            "lines": 582,
            "tokens": 4974,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 28,
            "duplicatedTokens": 98,
            "percentage": 4.81,
            "percentageTokens": 1.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/index.ts": {
            "lines": 80,
            "tokens": 304,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/cache-metrics.ts": {
            "lines": 535,
            "tokens": 4245,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 36,
            "duplicatedTokens": 323,
            "percentage": 6.73,
            "percentageTokens": 7.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/benchmark.ts": {
            "lines": 542,
            "tokens": 4248,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 40,
            "duplicatedTokens": 325,
            "percentage": 7.38,
            "percentageTokens": 7.65,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/performance/api-monitor.ts": {
            "lines": 471,
            "tokens": 3795,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 112,
            "duplicatedTokens": 614,
            "percentage": 23.78,
            "percentageTokens": 16.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/patterns/mongodb-patterns.ts": {
            "lines": 46,
            "tokens": 274,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/patterns/load-patterns-from-json.ts": {
            "lines": 99,
            "tokens": 720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/patterns/generate-patterns-json.ts": {
            "lines": 143,
            "tokens": 1244,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 138,
            "percentage": 7.69,
            "percentageTokens": 11.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/observability/metrics.ts": {
            "lines": 155,
            "tokens": 1320,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/middleware/rbac.ts": {
            "lines": 183,
            "tokens": 1389,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/middleware/rbac-enhanced.ts": {
            "lines": 793,
            "tokens": 4628,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 72,
            "duplicatedTokens": 672,
            "percentage": 9.08,
            "percentageTokens": 14.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/middleware/rateLimit.ts": {
            "lines": 137,
            "tokens": 1112,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/types.ts": {
            "lines": 380,
            "tokens": 2390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/twilio.ts": {
            "lines": 194,
            "tokens": 1478,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/sendgrid.ts": {
            "lines": 24,
            "tokens": 199,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/MessageFactory.ts": {
            "lines": 416,
            "tokens": 2451,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/messaging/MessageBroker.ts": {
            "lines": 384,
            "tokens": 2732,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 7,
            "duplicatedTokens": 81,
            "percentage": 1.82,
            "percentageTokens": 2.96,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/logging/sanitizer.ts": {
            "lines": 67,
            "tokens": 525,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/logging/logger.ts": {
            "lines": 169,
            "tokens": 1034,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/logging/audit.ts": {
            "lines": 372,
            "tokens": 2519,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/learning/mongodb-learning.ts": {
            "lines": 76,
            "tokens": 466,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/learning/generate-learning-json.ts": {
            "lines": 100,
            "tokens": 791,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/integrations/jira.ts": {
            "lines": 572,
            "tokens": 4786,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 45,
            "duplicatedTokens": 458,
            "percentage": 7.87,
            "percentageTokens": 9.57,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/integrations/github.ts": {
            "lines": 368,
            "tokens": 2825,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/integrations/career-integration.ts": {
            "lines": 328,
            "tokens": 2388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/gamification/levels.ts": {
            "lines": 149,
            "tokens": 1023,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/gamification/events.ts": {
            "lines": 116,
            "tokens": 785,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/gamification/achievements.ts": {
            "lines": 267,
            "tokens": 1858,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/features/flags.ts": {
            "lines": 45,
            "tokens": 258,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/factories/ContentGeneratorFactory.ts": {
            "lines": 144,
            "tokens": 691,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/types.ts": {
            "lines": 127,
            "tokens": 807,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/UserEvents.ts": {
            "lines": 345,
            "tokens": 1941,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/events/UserAggregate.ts": {
            "lines": 636,
            "tokens": 4310,
            "sources": 1,
            "clones": 20,
            "duplicatedLines": 326,
            "duplicatedTokens": 2204,
            "percentage": 51.26,
            "percentageTokens": 51.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/types.ts": {
            "lines": 128,
            "tokens": 711,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/sanitize.ts": {
            "lines": 119,
            "tokens": 575,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/registry.ts": {
            "lines": 500,
            "tokens": 3374,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/index.ts": {
            "lines": 86,
            "tokens": 278,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/handler.ts": {
            "lines": 346,
            "tokens": 2140,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 180,
            "percentage": 5.2,
            "percentageTokens": 8.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/factory.ts": {
            "lines": 396,
            "tokens": 2239,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/examples.ts": {
            "lines": 365,
            "tokens": 2772,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/errors/base.ts": {
            "lines": 315,
            "tokens": 2079,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/entitlements/customization.ts": {
            "lines": 36,
            "tokens": 160,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/email/templates.ts": {
            "lines": 115,
            "tokens": 1164,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/di/Container.ts": {
            "lines": 249,
            "tokens": 1727,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 142,
            "percentage": 5.62,
            "percentageTokens": 8.22,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/seed.ts": {
            "lines": 122,
            "tokens": 1083,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/schema.ts": {
            "lines": 420,
            "tokens": 4382,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/prompts.ts": {
            "lines": 107,
            "tokens": 1028,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 34,
            "duplicatedTokens": 364,
            "percentage": 31.78,
            "percentageTokens": 35.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/mongodb.ts": {
            "lines": 16,
            "tokens": 36,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/health.ts": {
            "lines": 64,
            "tokens": 377,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/db/client.ts": {
            "lines": 29,
            "tokens": 102,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data/role-faqs.ts": {
            "lines": 238,
            "tokens": 974,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data/pillar-pages.ts": {
            "lines": 279,
            "tokens": 1680,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data/pillar-page-sections.ts": {
            "lines": 597,
            "tokens": 3530,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data/pillar-faqs.ts": {
            "lines": 53,
            "tokens": 213,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/data/openai-model-data.ts": {
            "lines": 405,
            "tokens": 4561,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 170,
            "duplicatedTokens": 2464,
            "percentage": 41.98,
            "percentageTokens": 54.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/types.ts": {
            "lines": 152,
            "tokens": 755,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/registration.ts": {
            "lines": 155,
            "tokens": 734,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cqrs/bus.ts": {
            "lines": 229,
            "tokens": 1524,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/transform.ts": {
            "lines": 90,
            "tokens": 900,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/topics.ts": {
            "lines": 237,
            "tokens": 1406,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/readability-calculator.ts": {
            "lines": 160,
            "tokens": 1597,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/quality.ts": {
            "lines": 44,
            "tokens": 517,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/provenance.ts": {
            "lines": 20,
            "tokens": 214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/multi-agent-review.ts": {
            "lines": 562,
            "tokens": 2894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/content-quality-scorer.ts": {
            "lines": 478,
            "tokens": 4457,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/content/ai-slop-detector.ts": {
            "lines": 277,
            "tokens": 2707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/soft-skills.ts": {
            "lines": 400,
            "tokens": 2571,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/skills.ts": {
            "lines": 186,
            "tokens": 1266,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/rates.ts": {
            "lines": 158,
            "tokens": 969,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/messages.ts": {
            "lines": 277,
            "tokens": 1470,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants/limits.ts": {
            "lines": 230,
            "tokens": 1302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/utils.ts": {
            "lines": 401,
            "tokens": 3056,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 11,
            "duplicatedTokens": 93,
            "percentage": 2.74,
            "percentageTokens": 3.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/types.ts": {
            "lines": 205,
            "tokens": 994,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/secrets.ts": {
            "lines": 377,
            "tokens": 2506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/schema.ts": {
            "lines": 312,
            "tokens": 2407,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 158,
            "percentage": 4.49,
            "percentageTokens": 6.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/index.ts": {
            "lines": 431,
            "tokens": 2480,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/config/ai-models.ts": {
            "lines": 193,
            "tokens": 1286,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cache/types.ts": {
            "lines": 219,
            "tokens": 1798,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/cache/CacheManager.ts": {
            "lines": 495,
            "tokens": 3296,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/aws/types.ts": {
            "lines": 192,
            "tokens": 851,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/aws/secrets-manager.ts": {
            "lines": 539,
            "tokens": 3712,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 97,
            "percentage": 1.67,
            "percentageTokens": 2.61,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/aws/lambda.ts": {
            "lines": 36,
            "tokens": 312,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/aws/SecretsManager.ts": {
            "lines": 205,
            "tokens": 1396,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 97,
            "percentage": 4.39,
            "percentageTokens": 6.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/verify-cron.ts": {
            "lines": 110,
            "tokens": 631,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/require-auth.ts": {
            "lines": 76,
            "tokens": 476,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/rbac.ts": {
            "lines": 319,
            "tokens": 1946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/index.ts": {
            "lines": 10,
            "tokens": 48,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/config.ts": {
            "lines": 275,
            "tokens": 2240,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/RedisAuthCache.ts": {
            "lines": 435,
            "tokens": 3477,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 40,
            "duplicatedTokens": 442,
            "percentage": 9.2,
            "percentageTokens": 12.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/auth/AuthService.ts": {
            "lines": 544,
            "tokens": 3743,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/audit/PromptPatternAuditor.ts": {
            "lines": 58,
            "tokens": 299,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/articles/article-service.ts": {
            "lines": 225,
            "tokens": 2106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/articles/article-metadata.ts": {
            "lines": 90,
            "tokens": 647,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/articles/article-formatter.ts": {
            "lines": 127,
            "tokens": 1016,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/api/version.ts": {
            "lines": 96,
            "tokens": 569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/api/response.ts": {
            "lines": 146,
            "tokens": 815,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/analytics/redis-tracker.ts": {
            "lines": 186,
            "tokens": 1537,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 20,
            "duplicatedTokens": 143,
            "percentage": 10.75,
            "percentageTokens": 9.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/analytics/ga-events.ts": {
            "lines": 149,
            "tokens": 894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/analytics/affiliate-tracking.ts": {
            "lines": 427,
            "tokens": 3779,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 36,
            "duplicatedTokens": 309,
            "percentage": 8.43,
            "percentageTokens": 8.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/usage-tracker.ts": {
            "lines": 275,
            "tokens": 2032,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/response-parser.ts": {
            "lines": 335,
            "tokens": 2607,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 150,
            "duplicatedTokens": 1240,
            "percentage": 44.78,
            "percentageTokens": 47.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/providers.ts": {
            "lines": 277,
            "tokens": 1798,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/model-selector.ts": {
            "lines": 337,
            "tokens": 2963,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 18,
            "duplicatedTokens": 188,
            "percentage": 5.34,
            "percentageTokens": 6.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/groq-client.ts": {
            "lines": 90,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/gemini-integration-v2.ts": {
            "lines": 316,
            "tokens": 1269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/firewall.ts": {
            "lines": 363,
            "tokens": 2117,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/ai/claude-client.ts": {
            "lines": 77,
            "tokens": 499,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/agents/CreatorAgent.ts": {
            "lines": 387,
            "tokens": 3212,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/examples/prompt-examples.ts": {
            "lines": 133,
            "tokens": 584,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/content/ai-adoption-questions.ts": {
            "lines": 570,
            "tokens": 2792,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/index.ts": {
            "lines": 8,
            "tokens": 66,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/feed.xml/route.ts": {
            "lines": 198,
            "tokens": 1519,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/feed/route.ts": {
            "lines": 104,
            "tokens": 720,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/workbench.ts": {
            "lines": 447,
            "tokens": 2572,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/persona.ts": {
            "lines": 403,
            "tokens": 2181,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/types/next-auth.d.ts": {
            "lines": 34,
            "tokens": 180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/setup.ts": {
            "lines": 342,
            "tokens": 3916,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/server/trpc.ts": {
            "lines": 109,
            "tokens": 645,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/scripts/content-railroad-regenerate-section.ts": {
            "lines": 179,
            "tokens": 1519,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 359,
            "percentage": 15.08,
            "percentageTokens": 23.63,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/scripts/content-railroad-generate.ts": {
            "lines": 301,
            "tokens": 2075,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 359,
            "percentage": 8.97,
            "percentageTokens": 17.3,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/utils.ts": {
            "lines": 83,
            "tokens": 661,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/tokenizer.ts": {
            "lines": 190,
            "tokens": 1274,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/tags-taxonomy.ts": {
            "lines": 549,
            "tokens": 3698,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/stats-cache.ts": {
            "lines": 63,
            "tokens": 434,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/site-stats.ts": {
            "lines": 101,
            "tokens": 530,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/server-stats.ts": {
            "lines": 7,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/seo.ts": {
            "lines": 305,
            "tokens": 1821,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/rate-limit.ts": {
            "lines": 226,
            "tokens": 1680,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/promptOptimizer.ts": {
            "lines": 163,
            "tokens": 1379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/prisma.ts": {
            "lines": 13,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/pattern-constants.ts": {
            "lines": 185,
            "tokens": 1089,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/mongodb.ts": {
            "lines": 285,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/learning-resources.ts": {
            "lines": 214,
            "tokens": 1512,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 66,
            "duplicatedTokens": 596,
            "percentage": 30.84,
            "percentageTokens": 39.42,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/icons.ts": {
            "lines": 370,
            "tokens": 1819,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/env.ts": {
            "lines": 75,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/constants.ts": {
            "lines": 84,
            "tokens": 565,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePrompts.ts": {
            "lines": 258,
            "tokens": 1948,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 101,
            "duplicatedTokens": 829,
            "percentage": 39.15,
            "percentageTokens": 42.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/usePatterns.ts": {
            "lines": 258,
            "tokens": 1972,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 101,
            "duplicatedTokens": 829,
            "percentage": 39.15,
            "percentageTokens": 42.04,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/useAnalytics.ts": {
            "lines": 307,
            "tokens": 2178,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-toast.ts": {
            "lines": 190,
            "tokens": 1417,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-prompt-view.ts": {
            "lines": 34,
            "tokens": 224,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/hooks/use-favorites.ts": {
            "lines": 142,
            "tokens": 1140,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/prompt-patterns.ts": {
            "lines": 156,
            "tokens": 918,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/playbooks.ts": {
            "lines": 27,
            "tokens": 135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/pattern-details.ts": {
            "lines": 632,
            "tokens": 2632,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 132,
            "percentage": 2.69,
            "percentageTokens": 5.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/onboarding-steps.ts": {
            "lines": 62,
            "tokens": 326,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/learning-pathways.ts": {
            "lines": 162,
            "tokens": 907,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/director-prompts.ts": {
            "lines": 314,
            "tokens": 729,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/director-insights.ts": {
            "lines": 140,
            "tokens": 848,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/convert-playbooks.ts": {
            "lines": 163,
            "tokens": 1627,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/career-pathways.ts": {
            "lines": 245,
            "tokens": 1622,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/affiliate-links.ts": {
            "lines": 328,
            "tokens": 1910,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/data/additional-prompts.ts": {
            "lines": 175,
            "tokens": 1024,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/sitemap.ts": {
            "lines": 633,
            "tokens": 4882,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/robots.ts": {
            "lines": 13,
            "tokens": 109,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/manifest.ts": {
            "lines": 48,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/middleware.ts": {
            "lines": 55,
            "tokens": 305,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/instrumentation.ts": {
            "lines": 12,
            "tokens": 99,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/instrumentation-client.ts": {
            "lines": 19,
            "tokens": 89,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 92142,
          "tokens": 658306,
          "sources": 455,
          "clones": 281,
          "duplicatedLines": 4190,
          "duplicatedTokens": 35742,
          "percentage": 4.55,
          "percentageTokens": 5.43,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "javascript": {
        "sources": {
          "src/app/learn/ai-models/compare/[models]/page.tsx": {
            "lines": 188,
            "tokens": 1636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/recommendations/[slug]/page.tsx": {
            "lines": 172,
            "tokens": 1512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/pain-points/[slug]/page.tsx": {
            "lines": 95,
            "tokens": 917,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/[category]/[slug]/page.tsx": {
            "lines": 275,
            "tokens": 2535,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/role/[role]/role-page-client.tsx": {
            "lines": 119,
            "tokens": 1199,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 188,
            "duplicatedTokens": 1788,
            "percentage": 157.98,
            "percentageTokens": 149.12,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/role/[role]/page.tsx": {
            "lines": 2,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/category/[category]/page.tsx": {
            "lines": 2,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/category/[category]/category-page-client.tsx": {
            "lines": 119,
            "tokens": 1116,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 116,
            "duplicatedTokens": 1081,
            "percentage": 97.48,
            "percentageTokens": 96.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/case-studies/7-day-saas-build/page.tsx": {
            "lines": 131,
            "tokens": 1099,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-tools/[slug]/page.tsx": {
            "lines": 373,
            "tokens": 3279,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/deprecated/page.tsx": {
            "lines": 102,
            "tokens": 756,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/[slug]/page.tsx": {
            "lines": 204,
            "tokens": 1531,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/recommendations/page.tsx": {
            "lines": 35,
            "tokens": 373,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/pain-points/page.tsx": {
            "lines": 27,
            "tokens": 271,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/[tag]/tag-page-client.tsx": {
            "lines": 115,
            "tokens": 1063,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 72,
            "duplicatedTokens": 707,
            "percentage": 62.61,
            "percentageTokens": 66.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/[tag]/page.tsx": {
            "lines": 2,
            "tokens": 41,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/settings/api-keys/page.tsx": {
            "lines": 4,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/[id]/page.tsx": {
            "lines": 205,
            "tokens": 1469,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/[pattern]/pattern-detail-client.tsx": {
            "lines": 175,
            "tokens": 1434,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/[pattern]/page.tsx": {
            "lines": 21,
            "tokens": 145,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/opshub/ai-tools/page.tsx": {
            "lines": 552,
            "tokens": 4710,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 69,
            "duplicatedTokens": 713,
            "percentage": 12.5,
            "percentageTokens": 15.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/opshub/ai-models/page.tsx": {
            "lines": 221,
            "tokens": 2161,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 69,
            "duplicatedTokens": 713,
            "percentage": 31.22,
            "percentageTokens": 32.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/prompt-engineering-masterclass/page.tsx": {
            "lines": 617,
            "tokens": 5684,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-tools/page.tsx": {
            "lines": 317,
            "tokens": 3138,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/[slug]/page.tsx": {
            "lines": 76,
            "tokens": 733,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/downloads/engify-guardrail-checklist/page.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/demo/rca/page.tsx": {
            "lines": 277,
            "tokens": 2021,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/authors/donnie-laur/page.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/mcp/page.tsx": {
            "lines": 0,
            "tokens": 12,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/trpc/Provider.tsx": {
            "lines": 1,
            "tokens": 20,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workflows/AuthorAttribution.tsx": {
            "lines": 0,
            "tokens": 7,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ToolSelector.tsx": {
            "lines": 41,
            "tokens": 422,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/TokenCounter.tsx": {
            "lines": 43,
            "tokens": 366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/TechDebtStrategist.tsx": {
            "lines": 170,
            "tokens": 1372,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/RetrospectiveDiagnostician.tsx": {
            "lines": 131,
            "tokens": 1067,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/PromptOptimizer.tsx": {
            "lines": 125,
            "tokens": 936,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/OKRWorkbench.tsx": {
            "lines": 162,
            "tokens": 1101,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ModelSelector.tsx": {
            "lines": 103,
            "tokens": 967,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ComingSoonTool.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toaster.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toast.tsx": {
            "lines": 92,
            "tokens": 636,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/theme-toggle.tsx": {
            "lines": 0,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/textarea.tsx": {
            "lines": 4,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tabs.tsx": {
            "lines": 34,
            "tokens": 211,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/table.tsx": {
            "lines": 94,
            "tokens": 625,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/switch.tsx": {
            "lines": 10,
            "tokens": 37,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/success-message.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/slider.tsx": {
            "lines": 4,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/skeleton.tsx": {
            "lines": 0,
            "tokens": 8,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sheet.tsx": {
            "lines": 100,
            "tokens": 644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/separator.tsx": {
            "lines": 7,
            "tokens": 40,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/select.tsx": {
            "lines": 122,
            "tokens": 827,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/radio-group.tsx": {
            "lines": 18,
            "tokens": 123,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/progress.tsx": {
            "lines": 4,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/loading-spinner.tsx": {
            "lines": 5,
            "tokens": 29,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/label.tsx": {
            "lines": 1,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input.tsx": {
            "lines": 5,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/form.tsx": {
            "lines": 125,
            "tokens": 972,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/error-message.tsx": {
            "lines": 3,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dropdown-menu.tsx": {
            "lines": 150,
            "tokens": 1004,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/drawer.tsx": {
            "lines": 88,
            "tokens": 603,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dialog.tsx": {
            "lines": 83,
            "tokens": 522,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/checkbox.tsx": {
            "lines": 8,
            "tokens": 35,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/card.tsx": {
            "lines": 61,
            "tokens": 448,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/button.tsx": {
            "lines": 1,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/badge.tsx": {
            "lines": 0,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/avatar.tsx": {
            "lines": 31,
            "tokens": 214,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert.tsx": {
            "lines": 26,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/NotificationPreferences.tsx": {
            "lines": 241,
            "tokens": 1914,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/ApiKeyUsageDashboard.tsx": {
            "lines": 109,
            "tokens": 838,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/ApiKeyManager.tsx": {
            "lines": 251,
            "tokens": 2122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/ScrollButton.tsx": {
            "lines": 3,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/RoleSelector.tsx": {
            "lines": 32,
            "tokens": 218,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/RoleLandingPageContent.tsx": {
            "lines": 547,
            "tokens": 4223,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roi/ROICalculator.tsx": {
            "lines": 64,
            "tokens": 536,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompts/FavoriteButton.tsx": {
            "lines": 5,
            "tokens": 25,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/TestResults.tsx": {
            "lines": 30,
            "tokens": 325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/QualityBadge.tsx": {
            "lines": 0,
            "tokens": 21,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/FrameworkRecommendation.tsx": {
            "lines": 28,
            "tokens": 231,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/profile/CareerContextSelector.tsx": {
            "lines": 197,
            "tokens": 1802,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/persona/PersonaSelector.tsx": {
            "lines": 164,
            "tokens": 1390,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/persona/ImpersonationBanner.tsx": {
            "lines": 42,
            "tokens": 343,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/performance/PerformanceDashboard.tsx": {
            "lines": 221,
            "tokens": 1704,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/opshub/HubContentEditor.tsx": {
            "lines": 266,
            "tokens": 2135,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/manager/ManagerDashboard.tsx": {
            "lines": 189,
            "tokens": 1505,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Sidebar.tsx": {
            "lines": 59,
            "tokens": 408,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/HeaderClient.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Header.tsx": {
            "lines": 259,
            "tokens": 1593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Footer.tsx": {
            "lines": 88,
            "tokens": 604,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 172,
            "duplicatedTokens": 1182,
            "percentage": 195.45,
            "percentageTokens": 195.7,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/home/EnterpriseSection.tsx": {
            "lines": 46,
            "tokens": 447,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/forms/RequestAccessForm.tsx": {
            "lines": 108,
            "tokens": 877,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/forms/ContactForm.tsx": {
            "lines": 64,
            "tokens": 379,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/feedback/QuickFeedback.tsx": {
            "lines": 54,
            "tokens": 468,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/feedback/DetailedRatingModal.tsx": {
            "lines": 216,
            "tokens": 1823,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/StatCard.tsx": {
            "lines": 0,
            "tokens": 8,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RevisionComparison.tsx": {
            "lines": 116,
            "tokens": 979,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RelatedPrompts.tsx": {
            "lines": 99,
            "tokens": 737,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RelatedArticles.tsx": {
            "lines": 1,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RatingStars.tsx": {
            "lines": 18,
            "tokens": 115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptTrust.tsx": {
            "lines": 42,
            "tokens": 359,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptRevisions.tsx": {
            "lines": 78,
            "tokens": 736,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptParameters.tsx": {
            "lines": 102,
            "tokens": 1054,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 102,
            "duplicatedTokens": 928,
            "percentage": 100,
            "percentageTokens": 88.05,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptEnrichment.tsx": {
            "lines": 190,
            "tokens": 1599,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptDetailModal.tsx": {
            "lines": 107,
            "tokens": 823,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptCustomizer.tsx": {
            "lines": 308,
            "tokens": 2437,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptContextExplanation.tsx": {
            "lines": 22,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptCard.tsx": {
            "lines": 83,
            "tokens": 569,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptAuditScores.tsx": {
            "lines": 97,
            "tokens": 899,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptActions.tsx": {
            "lines": 99,
            "tokens": 744,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternSwitcher.tsx": {
            "lines": 18,
            "tokens": 163,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternPrompts.tsx": {
            "lines": 74,
            "tokens": 669,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternDetailDrawer.tsx": {
            "lines": 148,
            "tokens": 1207,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/MultiAgentWorkbench.tsx": {
            "lines": 276,
            "tokens": 1984,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/ModelIdCopy.tsx": {
            "lines": 1,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/MakeItMineButton.tsx": {
            "lines": 113,
            "tokens": 930,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LoadingSpinner.tsx": {
            "lines": 6,
            "tokens": 29,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LibraryPageSkeleton.tsx": {
            "lines": 19,
            "tokens": 191,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LibraryClient.tsx": {
            "lines": 257,
            "tokens": 2073,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/HubSpokeLinks.tsx": {
            "lines": 22,
            "tokens": 187,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/FeatureCard.tsx": {
            "lines": 0,
            "tokens": 8,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/FAQSection.tsx": {
            "lines": 21,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/EmptyState.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/CrossContentLinks.tsx": {
            "lines": 94,
            "tokens": 707,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/ChatWidget.tsx": {
            "lines": 87,
            "tokens": 692,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/AIModelsClient.tsx": {
            "lines": 188,
            "tokens": 1581,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/AIModelDetailSections.tsx": {
            "lines": 414,
            "tokens": 3559,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/InteractiveDemo.tsx": {
            "lines": 76,
            "tokens": 658,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/UsageDashboard.tsx": {
            "lines": 124,
            "tokens": 1071,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MCPAuthModal.tsx": {
            "lines": 185,
            "tokens": 1440,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/chat/ChatWidget.tsx": {
            "lines": 84,
            "tokens": 687,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/career/CareerRecommendations.tsx": {
            "lines": 25,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/career/CareerProgressCard.tsx": {
            "lines": 25,
            "tokens": 277,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/branding/EngifyLogo.tsx": {
            "lines": 47,
            "tokens": 329,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/UserMenu.tsx": {
            "lines": 42,
            "tokens": 387,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/SessionProvider.tsx": {
            "lines": 0,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/CodeBlock.tsx": {
            "lines": 19,
            "tokens": 115,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleRenderer.tsx": {
            "lines": 87,
            "tokens": 831,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleHeader.tsx": {
            "lines": 1,
            "tokens": 16,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleFeedback.tsx": {
            "lines": 9,
            "tokens": 106,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleBreadcrumbs.tsx": {
            "lines": 9,
            "tokens": 81,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/GoogleAnalytics.tsx": {
            "lines": 21,
            "tokens": 75,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/AnalyticsSettings.tsx": {
            "lines": 1,
            "tokens": 22,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/agents/ScrumMeetingAgent.tsx": {
            "lines": 98,
            "tokens": 946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/UserManagementPanel.tsx": {
            "lines": 490,
            "tokens": 3791,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 132,
            "duplicatedTokens": 940,
            "percentage": 26.94,
            "percentageTokens": 24.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/UserManagement.tsx": {
            "lines": 107,
            "tokens": 1122,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SystemSettingsPanel.tsx": {
            "lines": 443,
            "tokens": 3373,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 66,
            "duplicatedTokens": 469,
            "percentage": 14.9,
            "percentageTokens": 13.9,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SettingsPanel.tsx": {
            "lines": 162,
            "tokens": 1224,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PromptManagementPanel.tsx": {
            "lines": 173,
            "tokens": 1276,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PatternManagementPanel.tsx": {
            "lines": 447,
            "tokens": 3414,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 151,
            "duplicatedTokens": 1111,
            "percentage": 33.78,
            "percentageTokens": 32.54,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/OpsHubTabs.tsx": {
            "lines": 1,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/DeadLetterQueuePanel.tsx": {
            "lines": 275,
            "tokens": 2217,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/DashboardOverviewPanel.tsx": {
            "lines": 0,
            "tokens": 5,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentReviewQueue.tsx": {
            "lines": 109,
            "tokens": 871,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentQualityPanel.tsx": {
            "lines": 98,
            "tokens": 748,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentManagementCMS.tsx": {
            "lines": 408,
            "tokens": 3157,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 85,
            "duplicatedTokens": 640,
            "percentage": 20.83,
            "percentageTokens": 20.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentGeneratorPanel.tsx": {
            "lines": 184,
            "tokens": 1423,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AuditLogViewer.tsx": {
            "lines": 155,
            "tokens": 1309,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AffiliateLinkManagement.tsx": {
            "lines": 202,
            "tokens": 1593,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/page.tsx": {
            "lines": 37,
            "tokens": 411,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowsClient.tsx": {
            "lines": 157,
            "tokens": 1245,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowFilters.tsx": {
            "lines": 58,
            "tokens": 392,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowCardClient.tsx": {
            "lines": 102,
            "tokens": 950,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workbench/workbench-client.tsx": {
            "lines": 169,
            "tokens": 1931,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tools/page.tsx": {
            "lines": 171,
            "tokens": 1511,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/page.tsx": {
            "lines": 75,
            "tokens": 628,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/signup/page.tsx": {
            "lines": 196,
            "tokens": 1151,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/settings/page.tsx": {
            "lines": 94,
            "tokens": 1004,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/rag-chat/page.tsx": {
            "lines": 176,
            "tokens": 1345,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/page.tsx": {
            "lines": 6,
            "tokens": 59,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/patterns-client.tsx": {
            "lines": 152,
            "tokens": 1050,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/page.tsx": {
            "lines": 2,
            "tokens": 15,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/pattern-playground/page.tsx": {
            "lines": 40,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/onboarding/page.tsx": {
            "lines": 135,
            "tokens": 1464,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/offline/page.tsx": {
            "lines": 0,
            "tokens": 13,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/login/page.tsx": {
            "lines": 92,
            "tokens": 611,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/page.tsx": {
            "lines": 71,
            "tokens": 667,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/kernel/page.tsx": {
            "lines": 4,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/hireme/page.tsx": {
            "lines": 13,
            "tokens": 103,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/guardrails/page.tsx": {
            "lines": 4,
            "tokens": 27,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/guardrails/GuardrailsClient.tsx": {
            "lines": 128,
            "tokens": 1063,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/forgot-password/page.tsx": {
            "lines": 35,
            "tokens": 226,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-vp-product/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-vp-engineering/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-scrum-masters/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-qa/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-product-owners/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-product-directors/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-pms/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-managers/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-engineers/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-engineering-directors/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-directors/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-devops-sre/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-designers/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-ctos/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-c-level/page.tsx": {
            "lines": 32,
            "tokens": 270,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-architects/page.tsx": {
            "lines": 0,
            "tokens": 9,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/demo/page.tsx": {
            "lines": 62,
            "tokens": 491,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 14,
            "tokens": 143,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/audit/page.tsx": {
            "lines": 212,
            "tokens": 1577,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/ai-coding/page.tsx": {
            "lines": 123,
            "tokens": 1017,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/utils.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ShareButton.tsx": {
            "lines": 34,
            "tokens": 280,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorBoundary.tsx": {
            "lines": 23,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/page.tsx": {
            "lines": 4,
            "tokens": 32,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/global-error.tsx": {
            "lines": 0,
            "tokens": 3,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/error.tsx": {
            "lines": 7,
            "tokens": 68,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 19199,
          "tokens": 157058,
          "sources": 208,
          "clones": 9,
          "duplicatedLines": 611,
          "duplicatedTokens": 5136,
          "percentage": 3.18,
          "percentageTokens": 3.27,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      },
      "tsx": {
        "sources": {
          "src/app/learn/ai-models/compare/[models]/page.tsx": {
            "lines": 521,
            "tokens": 4395,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 126,
            "duplicatedTokens": 1034,
            "percentage": 24.18,
            "percentageTokens": 23.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/recommendations/[slug]/page.tsx": {
            "lines": 354,
            "tokens": 3104,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 215,
            "percentage": 8.76,
            "percentageTokens": 6.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/pain-points/[slug]/page.tsx": {
            "lines": 277,
            "tokens": 2442,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 31,
            "duplicatedTokens": 215,
            "percentage": 11.19,
            "percentageTokens": 8.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/[category]/[slug]/page.tsx": {
            "lines": 527,
            "tokens": 4640,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 27,
            "duplicatedTokens": 208,
            "percentage": 5.12,
            "percentageTokens": 4.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/[category]/[slug]/WorkflowDetailTracking.tsx": {
            "lines": 24,
            "tokens": 137,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/role/[role]/role-page-client.tsx": {
            "lines": 158,
            "tokens": 1500,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 151,
            "duplicatedTokens": 1386,
            "percentage": 95.57,
            "percentageTokens": 92.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/role/[role]/page.tsx": {
            "lines": 210,
            "tokens": 1628,
            "sources": 1,
            "clones": 9,
            "duplicatedLines": 137,
            "duplicatedTokens": 1260,
            "percentage": 65.24,
            "percentageTokens": 77.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/category/[category]/page.tsx": {
            "lines": 198,
            "tokens": 1547,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 76,
            "duplicatedTokens": 719,
            "percentage": 38.38,
            "percentageTokens": 46.48,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/category/[category]/category-page-client.tsx": {
            "lines": 159,
            "tokens": 1419,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 75,
            "duplicatedTokens": 702,
            "percentage": 47.17,
            "percentageTokens": 49.47,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/case-studies/7-day-saas-build/page.tsx": {
            "lines": 521,
            "tokens": 3580,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 97,
            "percentage": 2.69,
            "percentageTokens": 2.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-tools/[slug]/page.tsx": {
            "lines": 568,
            "tokens": 4937,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 74,
            "duplicatedTokens": 704,
            "percentage": 13.03,
            "percentageTokens": 14.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/deprecated/page.tsx": {
            "lines": 309,
            "tokens": 2338,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 21,
            "duplicatedTokens": 171,
            "percentage": 6.8,
            "percentageTokens": 7.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/[slug]/page.tsx": {
            "lines": 521,
            "tokens": 4156,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 58,
            "duplicatedTokens": 473,
            "percentage": 11.13,
            "percentageTokens": 11.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/recommendations/page.tsx": {
            "lines": 227,
            "tokens": 1986,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 68,
            "duplicatedTokens": 609,
            "percentage": 29.96,
            "percentageTokens": 30.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/pain-points/page.tsx": {
            "lines": 192,
            "tokens": 1604,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 72,
            "duplicatedTokens": 606,
            "percentage": 37.5,
            "percentageTokens": 37.78,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workbench/multi-agent/page.tsx": {
            "lines": 18,
            "tokens": 125,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/waitlist/guardrails/page.tsx": {
            "lines": 72,
            "tokens": 832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/[tag]/tag-page-client.tsx": {
            "lines": 151,
            "tokens": 1345,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 76,
            "duplicatedTokens": 684,
            "percentage": 50.33,
            "percentageTokens": 50.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/[tag]/page.tsx": {
            "lines": 207,
            "tokens": 1815,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 100,
            "duplicatedTokens": 860,
            "percentage": 48.31,
            "percentageTokens": 47.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/settings/api-keys/page.tsx": {
            "lines": 84,
            "tokens": 710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/[id]/page.tsx": {
            "lines": 560,
            "tokens": 4232,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 26,
            "duplicatedTokens": 315,
            "percentage": 4.64,
            "percentageTokens": 7.44,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/[pattern]/pattern-detail-client.tsx": {
            "lines": 238,
            "tokens": 1993,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 48,
            "duplicatedTokens": 426,
            "percentage": 20.17,
            "percentageTokens": 21.37,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/[pattern]/page.tsx": {
            "lines": 159,
            "tokens": 1180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/opshub/ai-tools/page.tsx": {
            "lines": 791,
            "tokens": 6694,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 48,
            "duplicatedTokens": 392,
            "percentage": 6.07,
            "percentageTokens": 5.86,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/opshub/ai-models/page.tsx": {
            "lines": 469,
            "tokens": 4521,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 38,
            "duplicatedTokens": 317,
            "percentage": 8.1,
            "percentageTokens": 7.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/prompt-engineering-masterclass/page.tsx": {
            "lines": 788,
            "tokens": 6796,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 31,
            "duplicatedTokens": 240,
            "percentage": 3.93,
            "percentageTokens": 3.53,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/context-engineering-vs-prompt-engineering/page.tsx": {
            "lines": 319,
            "tokens": 3045,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/code-generation-guide/page.tsx": {
            "lines": 478,
            "tokens": 3059,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 704,
            "percentage": 19.04,
            "percentageTokens": 23.01,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/chain-of-thought-guide/page.tsx": {
            "lines": 583,
            "tokens": 4414,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 91,
            "duplicatedTokens": 704,
            "percentage": 15.61,
            "percentageTokens": 15.95,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-tools/page.tsx": {
            "lines": 606,
            "tokens": 5818,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 30,
            "duplicatedTokens": 243,
            "percentage": 4.95,
            "percentageTokens": 4.18,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/ai-models/page.tsx": {
            "lines": 305,
            "tokens": 3214,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 72,
            "percentage": 2.62,
            "percentageTokens": 2.24,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/[slug]/page.tsx": {
            "lines": 288,
            "tokens": 2533,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 45,
            "duplicatedTokens": 442,
            "percentage": 15.63,
            "percentageTokens": 17.45,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/downloads/engify-guardrail-checklist/page.tsx": {
            "lines": 64,
            "tokens": 579,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/demo/rca/page.tsx": {
            "lines": 485,
            "tokens": 3513,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 121,
            "duplicatedTokens": 807,
            "percentage": 24.95,
            "percentageTokens": 22.97,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/authors/donnie-laur/page.tsx": {
            "lines": 290,
            "tokens": 2529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/auth/mcp/page.tsx": {
            "lines": 98,
            "tokens": 871,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/lib/trpc/Provider.tsx": {
            "lines": 38,
            "tokens": 265,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workflows/AuthorAttribution.tsx": {
            "lines": 56,
            "tokens": 453,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ToolSelector.tsx": {
            "lines": 146,
            "tokens": 1351,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/TokenCounter.tsx": {
            "lines": 153,
            "tokens": 1352,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/TechDebtStrategist.tsx": {
            "lines": 433,
            "tokens": 3463,
            "sources": 1,
            "clones": 7,
            "duplicatedLines": 102,
            "duplicatedTokens": 779,
            "percentage": 23.56,
            "percentageTokens": 22.49,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/RetrospectiveDiagnostician.tsx": {
            "lines": 363,
            "tokens": 2921,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 49,
            "duplicatedTokens": 430,
            "percentage": 13.5,
            "percentageTokens": 14.72,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/PromptOptimizer.tsx": {
            "lines": 280,
            "tokens": 2084,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/OKRWorkbench.tsx": {
            "lines": 360,
            "tokens": 2557,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 17,
            "duplicatedTokens": 111,
            "percentage": 4.72,
            "percentageTokens": 4.34,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ModelSelector.tsx": {
            "lines": 246,
            "tokens": 2194,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/workbench/ComingSoonTool.tsx": {
            "lines": 164,
            "tokens": 1415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toaster.tsx": {
            "lines": 34,
            "tokens": 238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/toast.tsx": {
            "lines": 127,
            "tokens": 887,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/theme-toggle.tsx": {
            "lines": 35,
            "tokens": 302,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/textarea.tsx": {
            "lines": 21,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/tabs.tsx": {
            "lines": 54,
            "tokens": 361,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/table.tsx": {
            "lines": 119,
            "tokens": 773,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/switch.tsx": {
            "lines": 28,
            "tokens": 167,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/success-message.tsx": {
            "lines": 30,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/slider.tsx": {
            "lines": 27,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/skeleton.tsx": {
            "lines": 14,
            "tokens": 82,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/sheet.tsx": {
            "lines": 138,
            "tokens": 897,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/separator.tsx": {
            "lines": 30,
            "tokens": 200,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/select.tsx": {
            "lines": 161,
            "tokens": 1063,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/radio-group.tsx": {
            "lines": 43,
            "tokens": 318,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/progress.tsx": {
            "lines": 27,
            "tokens": 202,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/loading-spinner.tsx": {
            "lines": 27,
            "tokens": 162,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/label.tsx": {
            "lines": 25,
            "tokens": 197,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/input.tsx": {
            "lines": 21,
            "tokens": 139,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/form.tsx": {
            "lines": 180,
            "tokens": 1317,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/error-message.tsx": {
            "lines": 30,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dropdown-menu.tsx": {
            "lines": 203,
            "tokens": 1313,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/drawer.tsx": {
            "lines": 117,
            "tokens": 767,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/dialog.tsx": {
            "lines": 120,
            "tokens": 757,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/checkbox.tsx": {
            "lines": 28,
            "tokens": 201,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/card.tsx": {
            "lines": 83,
            "tokens": 577,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/button.tsx": {
            "lines": 59,
            "tokens": 401,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/badge.tsx": {
            "lines": 35,
            "tokens": 238,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/avatar.tsx": {
            "lines": 49,
            "tokens": 357,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ui/alert.tsx": {
            "lines": 57,
            "tokens": 414,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/NotificationPreferences.tsx": {
            "lines": 405,
            "tokens": 3208,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/ApiKeyUsageDashboard.tsx": {
            "lines": 243,
            "tokens": 1894,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/settings/ApiKeyManager.tsx": {
            "lines": 465,
            "tokens": 3903,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/ScrollButton.tsx": {
            "lines": 26,
            "tokens": 180,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/RoleSelector.tsx": {
            "lines": 167,
            "tokens": 1122,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 44,
            "duplicatedTokens": 298,
            "percentage": 26.35,
            "percentageTokens": 26.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roles/RoleLandingPageContent.tsx": {
            "lines": 954,
            "tokens": 8019,
            "sources": 1,
            "clones": 8,
            "duplicatedLines": 73,
            "duplicatedTokens": 653,
            "percentage": 7.65,
            "percentageTokens": 8.14,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/roi/ROICalculator.tsx": {
            "lines": 307,
            "tokens": 2671,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/ThemeProvider.tsx": {
            "lines": 8,
            "tokens": 91,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/providers/SessionProvider.tsx": {
            "lines": 14,
            "tokens": 77,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompts/FavoriteButton.tsx": {
            "lines": 95,
            "tokens": 644,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/TestResults.tsx": {
            "lines": 217,
            "tokens": 1762,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/QualityBadge.tsx": {
            "lines": 57,
            "tokens": 481,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/prompt/FrameworkRecommendation.tsx": {
            "lines": 136,
            "tokens": 998,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/profile/CareerContextSelector.tsx": {
            "lines": 308,
            "tokens": 2615,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/persona/PersonaSelector.tsx": {
            "lines": 273,
            "tokens": 2356,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/persona/ImpersonationBanner.tsx": {
            "lines": 125,
            "tokens": 956,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/performance/PerformanceDashboard.tsx": {
            "lines": 354,
            "tokens": 2879,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/opshub/HubContentEditor.tsx": {
            "lines": 436,
            "tokens": 3933,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 68,
            "duplicatedTokens": 512,
            "percentage": 15.6,
            "percentageTokens": 13.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/manager/ManagerDashboard.tsx": {
            "lines": 357,
            "tokens": 2832,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Sidebar.tsx": {
            "lines": 139,
            "tokens": 1054,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/MainLayout.tsx": {
            "lines": 30,
            "tokens": 173,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/HeaderClient.tsx": {
            "lines": 16,
            "tokens": 86,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Header.tsx": {
            "lines": 346,
            "tokens": 2238,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 15,
            "duplicatedTokens": 193,
            "percentage": 4.34,
            "percentageTokens": 8.62,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/layout/Footer.tsx": {
            "lines": 207,
            "tokens": 1497,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 51,
            "duplicatedTokens": 380,
            "percentage": 24.64,
            "percentageTokens": 25.38,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/home/EnterpriseSection.tsx": {
            "lines": 239,
            "tokens": 2255,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/forms/RequestAccessForm.tsx": {
            "lines": 243,
            "tokens": 1989,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/forms/ContactForm.tsx": {
            "lines": 165,
            "tokens": 1182,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/feedback/QuickFeedback.tsx": {
            "lines": 187,
            "tokens": 1488,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/feedback/DetailedRatingModal.tsx": {
            "lines": 352,
            "tokens": 2942,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/StatCard.tsx": {
            "lines": 34,
            "tokens": 175,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/SkeletonCard.tsx": {
            "lines": 42,
            "tokens": 269,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RevisionComparison.tsx": {
            "lines": 340,
            "tokens": 2971,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 28,
            "duplicatedTokens": 268,
            "percentage": 8.24,
            "percentageTokens": 9.02,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RelatedPrompts.tsx": {
            "lines": 255,
            "tokens": 1962,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 128,
            "percentage": 5.49,
            "percentageTokens": 6.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RelatedArticles.tsx": {
            "lines": 134,
            "tokens": 1070,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/RatingStars.tsx": {
            "lines": 76,
            "tokens": 512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptTrust.tsx": {
            "lines": 227,
            "tokens": 1751,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptRevisions.tsx": {
            "lines": 230,
            "tokens": 1946,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptParameters.tsx": {
            "lines": 252,
            "tokens": 2534,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 42,
            "duplicatedTokens": 438,
            "percentage": 16.67,
            "percentageTokens": 17.28,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptPageClient.tsx": {
            "lines": 21,
            "tokens": 94,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptMetrics.tsx": {
            "lines": 72,
            "tokens": 554,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptEnrichment.tsx": {
            "lines": 319,
            "tokens": 2609,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptDetailModal.tsx": {
            "lines": 198,
            "tokens": 1436,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 145,
            "percentage": 8.08,
            "percentageTokens": 10.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptCustomizer.tsx": {
            "lines": 389,
            "tokens": 3184,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptContextExplanation.tsx": {
            "lines": 237,
            "tokens": 1607,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 146,
            "percentage": 5.06,
            "percentageTokens": 9.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptCard.tsx": {
            "lines": 295,
            "tokens": 2011,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptAuditScores.tsx": {
            "lines": 268,
            "tokens": 2130,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PromptActions.tsx": {
            "lines": 142,
            "tokens": 1027,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PremiumPromptLock.tsx": {
            "lines": 78,
            "tokens": 674,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PreloadContentJson.tsx": {
            "lines": 62,
            "tokens": 336,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternSwitcher.tsx": {
            "lines": 224,
            "tokens": 1635,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternPrompts.tsx": {
            "lines": 144,
            "tokens": 1241,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 128,
            "percentage": 9.72,
            "percentageTokens": 10.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/PatternDetailDrawer.tsx": {
            "lines": 209,
            "tokens": 1561,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 48,
            "duplicatedTokens": 426,
            "percentage": 22.97,
            "percentageTokens": 27.29,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/MultiAgentWorkbench.tsx": {
            "lines": 593,
            "tokens": 4485,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/ModelIdCopy.tsx": {
            "lines": 45,
            "tokens": 338,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/MakeItMineButton.tsx": {
            "lines": 210,
            "tokens": 1555,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LoadingSpinner.tsx": {
            "lines": 47,
            "tokens": 243,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LibraryPageSkeleton.tsx": {
            "lines": 53,
            "tokens": 417,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/LibraryClient.tsx": {
            "lines": 587,
            "tokens": 4771,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 64,
            "duplicatedTokens": 513,
            "percentage": 10.9,
            "percentageTokens": 10.75,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/HubSpokeLinks.tsx": {
            "lines": 76,
            "tokens": 578,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/FeatureCard.tsx": {
            "lines": 36,
            "tokens": 244,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/FAQSection.tsx": {
            "lines": 126,
            "tokens": 899,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/EmptyState.tsx": {
            "lines": 53,
            "tokens": 334,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/CrossContentLinks.tsx": {
            "lines": 183,
            "tokens": 1416,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/ChatWidget.tsx": {
            "lines": 173,
            "tokens": 1361,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 52,
            "duplicatedTokens": 369,
            "percentage": 30.06,
            "percentageTokens": 27.11,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/AIModelsClient.tsx": {
            "lines": 279,
            "tokens": 2314,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/features/AIModelDetailSections.tsx": {
            "lines": 518,
            "tokens": 4521,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/demo/InteractiveDemo.tsx": {
            "lines": 355,
            "tokens": 1529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/UsageDashboard.tsx": {
            "lines": 219,
            "tokens": 1710,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/dashboard/MCPAuthModal.tsx": {
            "lines": 325,
            "tokens": 2524,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/chat/ChatWidget.tsx": {
            "lines": 184,
            "tokens": 1502,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 78,
            "percentage": 6.52,
            "percentageTokens": 5.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/career/CareerRecommendations.tsx": {
            "lines": 165,
            "tokens": 1289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/career/CareerProgressCard.tsx": {
            "lines": 170,
            "tokens": 1366,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/branding/EngifyLogo.tsx": {
            "lines": 89,
            "tokens": 544,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/UserMenu.tsx": {
            "lines": 100,
            "tokens": 812,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 8,
            "duplicatedTokens": 87,
            "percentage": 8,
            "percentageTokens": 10.71,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/SignupPrompt.tsx": {
            "lines": 62,
            "tokens": 629,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/SessionProvider.tsx": {
            "lines": 25,
            "tokens": 131,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/auth/ProtectedRoute.tsx": {
            "lines": 80,
            "tokens": 512,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/CodeBlock.tsx": {
            "lines": 55,
            "tokens": 418,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleRenderer.tsx": {
            "lines": 181,
            "tokens": 1552,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleHeader.tsx": {
            "lines": 100,
            "tokens": 821,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 29,
            "duplicatedTokens": 260,
            "percentage": 29,
            "percentageTokens": 31.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleFooter.tsx": {
            "lines": 65,
            "tokens": 567,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 16,
            "duplicatedTokens": 182,
            "percentage": 24.62,
            "percentageTokens": 32.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleFeedback.tsx": {
            "lines": 98,
            "tokens": 794,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/article/ArticleBreadcrumbs.tsx": {
            "lines": 44,
            "tokens": 308,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/PostHogProvider.tsx": {
            "lines": 238,
            "tokens": 1444,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/GoogleAnalytics.tsx": {
            "lines": 114,
            "tokens": 655,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/analytics/AnalyticsSettings.tsx": {
            "lines": 98,
            "tokens": 743,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/agents/ScrumMeetingAgent.tsx": {
            "lines": 276,
            "tokens": 2527,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/UserManagementPanel.tsx": {
            "lines": 708,
            "tokens": 5627,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 218,
            "duplicatedTokens": 1581,
            "percentage": 30.79,
            "percentageTokens": 28.1,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/UserManagement.tsx": {
            "lines": 233,
            "tokens": 2265,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 154,
            "percentage": 6.01,
            "percentageTokens": 6.8,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SystemSettingsPanel.tsx": {
            "lines": 657,
            "tokens": 5122,
            "sources": 1,
            "clones": 12,
            "duplicatedLines": 389,
            "duplicatedTokens": 2531,
            "percentage": 59.21,
            "percentageTokens": 49.41,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/SettingsPanel.tsx": {
            "lines": 253,
            "tokens": 1935,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PromptManagementPanel.tsx": {
            "lines": 393,
            "tokens": 3064,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 35,
            "duplicatedTokens": 248,
            "percentage": 8.91,
            "percentageTokens": 8.09,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/PatternManagementPanel.tsx": {
            "lines": 669,
            "tokens": 5273,
            "sources": 1,
            "clones": 11,
            "duplicatedLines": 244,
            "duplicatedTokens": 1715,
            "percentage": 36.47,
            "percentageTokens": 32.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/OpsHubTabs.tsx": {
            "lines": 114,
            "tokens": 1016,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/DeadLetterQueuePanel.tsx": {
            "lines": 542,
            "tokens": 4324,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/DashboardOverviewPanel.tsx": {
            "lines": 352,
            "tokens": 3002,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentReviewQueue.tsx": {
            "lines": 256,
            "tokens": 2133,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentQualityPanel.tsx": {
            "lines": 220,
            "tokens": 1735,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentManagementCMS.tsx": {
            "lines": 706,
            "tokens": 5424,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 73,
            "duplicatedTokens": 451,
            "percentage": 10.34,
            "percentageTokens": 8.31,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/ContentGeneratorPanel.tsx": {
            "lines": 451,
            "tokens": 3651,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AuditLogViewer.tsx": {
            "lines": 334,
            "tokens": 2880,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 12,
            "duplicatedTokens": 144,
            "percentage": 3.59,
            "percentageTokens": 5,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/admin/AffiliateLinkManagement.tsx": {
            "lines": 450,
            "tokens": 3529,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/page.tsx": {
            "lines": 324,
            "tokens": 3315,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 14,
            "duplicatedTokens": 139,
            "percentage": 4.32,
            "percentageTokens": 4.19,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowsClient.tsx": {
            "lines": 379,
            "tokens": 2923,
            "sources": 1,
            "clones": 6,
            "duplicatedLines": 78,
            "duplicatedTokens": 609,
            "percentage": 20.58,
            "percentageTokens": 20.83,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowTracking.tsx": {
            "lines": 27,
            "tokens": 177,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowFilters.tsx": {
            "lines": 154,
            "tokens": 1173,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 40,
            "duplicatedTokens": 273,
            "percentage": 25.97,
            "percentageTokens": 23.27,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workflows/WorkflowCardClient.tsx": {
            "lines": 215,
            "tokens": 1902,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 41,
            "duplicatedTokens": 295,
            "percentage": 19.07,
            "percentageTokens": 15.51,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workbench/workbench-client.tsx": {
            "lines": 263,
            "tokens": 2781,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/workbench/page.tsx": {
            "lines": 74,
            "tokens": 424,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tools/page.tsx": {
            "lines": 679,
            "tokens": 4885,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 14,
            "duplicatedTokens": 97,
            "percentage": 2.06,
            "percentageTokens": 1.99,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/terms/page.tsx": {
            "lines": 148,
            "tokens": 1215,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/tags/page.tsx": {
            "lines": 210,
            "tokens": 1783,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/signup/page.tsx": {
            "lines": 355,
            "tokens": 2345,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 51,
            "duplicatedTokens": 391,
            "percentage": 14.37,
            "percentageTokens": 16.67,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/settings/page.tsx": {
            "lines": 216,
            "tokens": 2035,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 15,
            "duplicatedTokens": 171,
            "percentage": 6.94,
            "percentageTokens": 8.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/rag-chat/page.tsx": {
            "lines": 416,
            "tokens": 3359,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 40,
            "duplicatedTokens": 291,
            "percentage": 9.62,
            "percentageTokens": 8.66,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/prompts/page.tsx": {
            "lines": 261,
            "tokens": 2649,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/privacy/page.tsx": {
            "lines": 123,
            "tokens": 999,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/pricing/page.tsx": {
            "lines": 220,
            "tokens": 1784,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/patterns-client.tsx": {
            "lines": 399,
            "tokens": 3348,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/patterns/page.tsx": {
            "lines": 52,
            "tokens": 415,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/pattern-playground/page.tsx": {
            "lines": 300,
            "tokens": 2370,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 25,
            "duplicatedTokens": 259,
            "percentage": 8.33,
            "percentageTokens": 10.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/opshub/page.tsx": {
            "lines": 33,
            "tokens": 289,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/onboarding/page.tsx": {
            "lines": 219,
            "tokens": 2169,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 26,
            "duplicatedTokens": 261,
            "percentage": 11.87,
            "percentageTokens": 12.03,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/offline/page.tsx": {
            "lines": 38,
            "tokens": 376,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/logout/page.tsx": {
            "lines": 56,
            "tokens": 399,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/login/page.tsx": {
            "lines": 213,
            "tokens": 1488,
            "sources": 1,
            "clones": 3,
            "duplicatedLines": 35,
            "duplicatedTokens": 237,
            "percentage": 16.43,
            "percentageTokens": 15.93,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/learn/page.tsx": {
            "lines": 430,
            "tokens": 3746,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 96,
            "percentage": 2.79,
            "percentageTokens": 2.56,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/kernel/page.tsx": {
            "lines": 324,
            "tokens": 2359,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 64,
            "duplicatedTokens": 490,
            "percentage": 19.75,
            "percentageTokens": 20.77,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/hireme/page.tsx": {
            "lines": 173,
            "tokens": 2096,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/guardrails/page.tsx": {
            "lines": 201,
            "tokens": 1742,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/guardrails/GuardrailsClient.tsx": {
            "lines": 308,
            "tokens": 2713,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 12,
            "duplicatedTokens": 90,
            "percentage": 3.9,
            "percentageTokens": 3.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/forgot-password/page.tsx": {
            "lines": 165,
            "tokens": 1249,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-vp-product/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 13,
            "duplicatedLines": 117,
            "duplicatedTokens": 1235,
            "percentage": 650,
            "percentageTokens": 650,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-vp-engineering/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-technical-writers/page.tsx": {
            "lines": 221,
            "tokens": 1794,
            "sources": 1,
            "clones": 10,
            "duplicatedLines": 135,
            "duplicatedTokens": 958,
            "percentage": 61.09,
            "percentageTokens": 53.4,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-security-engineers/page.tsx": {
            "lines": 216,
            "tokens": 1711,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 54,
            "duplicatedTokens": 392,
            "percentage": 25,
            "percentageTokens": 22.91,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-scrum-masters/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-qa/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-product-owners/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-product-directors/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-pms/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-managers/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-engineers/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-engineering-directors/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-directors/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-devops-sre/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-designers/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-data-scientists/page.tsx": {
            "lines": 221,
            "tokens": 1763,
            "sources": 1,
            "clones": 5,
            "duplicatedLines": 63,
            "duplicatedTokens": 463,
            "percentage": 28.51,
            "percentageTokens": 26.26,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-ctos/page.tsx": {
            "lines": 21,
            "tokens": 193,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-c-level/page.tsx": {
            "lines": 316,
            "tokens": 2405,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 24,
            "duplicatedTokens": 176,
            "percentage": 7.59,
            "percentageTokens": 7.32,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/for-architects/page.tsx": {
            "lines": 18,
            "tokens": 190,
            "sources": 1,
            "clones": 1,
            "duplicatedLines": 9,
            "duplicatedTokens": 95,
            "percentage": 50,
            "percentageTokens": 50,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/demo/page.tsx": {
            "lines": 272,
            "tokens": 2111,
            "sources": 1,
            "clones": 2,
            "duplicatedLines": 22,
            "duplicatedTokens": 201,
            "percentage": 8.09,
            "percentageTokens": 9.52,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/dashboard/page.tsx": {
            "lines": 197,
            "tokens": 1547,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/contact/page.tsx": {
            "lines": 95,
            "tokens": 769,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/audit/page.tsx": {
            "lines": 405,
            "tokens": 3045,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/api-docs/page.tsx": {
            "lines": 500,
            "tokens": 3098,
            "sources": 1,
            "clones": 4,
            "duplicatedLines": 44,
            "duplicatedTokens": 322,
            "percentage": 8.8,
            "percentageTokens": 10.39,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/ai-coding/page.tsx": {
            "lines": 568,
            "tokens": 4325,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/about/page.tsx": {
            "lines": 179,
            "tokens": 1702,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/test/utils.tsx": {
            "lines": 50,
            "tokens": 282,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ShareButton.tsx": {
            "lines": 154,
            "tokens": 1189,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/components/ErrorBoundary.tsx": {
            "lines": 103,
            "tokens": 669,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/page.tsx": {
            "lines": 472,
            "tokens": 3876,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/not-found.tsx": {
            "lines": 66,
            "tokens": 506,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/loading.tsx": {
            "lines": 11,
            "tokens": 95,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/layout.tsx": {
            "lines": 146,
            "tokens": 1116,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/global-error.tsx": {
            "lines": 26,
            "tokens": 159,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          },
          "src/app/error.tsx": {
            "lines": 47,
            "tokens": 388,
            "sources": 1,
            "clones": 0,
            "duplicatedLines": 0,
            "duplicatedTokens": 0,
            "percentage": 0,
            "percentageTokens": 0,
            "newDuplicatedLines": 0,
            "newClones": 0
          }
        },
        "total": {
          "lines": 50972,
          "tokens": 409904,
          "sources": 242,
          "clones": 156,
          "duplicatedLines": 2258,
          "duplicatedTokens": 18317,
          "percentage": 4.43,
          "percentageTokens": 4.47,
          "newDuplicatedLines": 0,
          "newClones": 0
        }
      }
    },
    "total": {
      "lines": 162313,
      "tokens": 1225268,
      "sources": 905,
      "clones": 446,
      "duplicatedLines": 7059,
      "duplicatedTokens": 59195,
      "percentage": 4.35,
      "percentageTokens": 4.83,
      "newDuplicatedLines": 0,
      "newClones": 0
    }
  },
  "duplicates": [
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const rbacCheck = await RBACPresets.requireUserWrite()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    const { keyId } = await params;\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    await",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/revoke/route.ts",
        "start": 19,
        "end": 30,
        "startLoc": {
          "line": 19,
          "column": 3,
          "position": 136
        },
        "endLoc": {
          "line": 30,
          "column": 6,
          "position": 252
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/rotate/route.ts",
        "start": 24,
        "end": 35,
        "startLoc": {
          "line": 24,
          "column": 3,
          "position": 182
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 298
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "details: {\n        keyId,\n      },\n    });\n\n    return NextResponse.json({ success: true });\n  } catch (error) {\n    const session = await auth();\n    const { keyId } = await params;\n    logger.apiError(`/api/v2/users/api-keys/${keyId}/revoke`",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/revoke/route.ts",
        "start": 41,
        "end": 50,
        "startLoc": {
          "line": 41,
          "column": 7,
          "position": 321
        },
        "endLoc": {
          "line": 50,
          "column": 9,
          "position": 408
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/rotate/route.ts",
        "start": 50,
        "end": 59,
        "startLoc": {
          "line": 50,
          "column": 7,
          "position": 403
        },
        "endLoc": {
          "line": 59,
          "column": 9,
          "position": 490
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ", error, {\n      userId: session?.user?.id,\n      method: 'POST',\n      keyId,\n    });\n\n    // Try to get userId from session for audit log\n    let userId = 'unknown';\n    try {\n      const session = await auth();\n      userId = session?.user?.id || 'unknown';\n    } catch {\n      // Session fetch failed, use unknown\n    }\n\n    // Audit log: API key revocation failed",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/revoke/route.ts",
        "start": 50,
        "end": 65,
        "startLoc": {
          "line": 50,
          "column": 9,
          "position": 409
        },
        "endLoc": {
          "line": 65,
          "column": 40,
          "position": 511
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/rotate/route.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 9,
          "position": 491
        },
        "endLoc": {
          "line": 74,
          "column": 38,
          "position": 593
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "if (error instanceof Error && error.message.includes('not found')) {\n      return NextResponse.json({ error: error.message }, { status: 404 });\n    }\n    return NextResponse.json(\n      {\n        error: 'Internal server error',\n        message: error instanceof Error ? error.message : 'Unknown error',\n      },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/revoke/route.ts",
        "start": 76,
        "end": 87,
        "startLoc": {
          "line": 76,
          "column": 5,
          "position": 580
        },
        "endLoc": {
          "line": 87,
          "column": 2,
          "position": 696
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/[keyId]/rotate/route.ts",
        "start": 91,
        "end": 102,
        "startLoc": {
          "line": 91,
          "column": 5,
          "position": 721
        },
        "endLoc": {
          "line": 102,
          "column": 2,
          "position": 837
        }
      }
    },
    {
      "format": "typescript",
      "lines": 33,
      "fragment": "(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  const guard = await RBACPresets.requireSuperAdmin()(request);\n  if (guard) return guard;\n\n  const { id } = await params;\n  if (!id) {\n    return NextResponse.json(\n      { success: false, error: 'Prompt ID is required' },\n      { status: 400 }\n    );\n  }\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ success: false, error: 'Unauthorized' }, { status: 401 });\n  }\n\n  const db = await getDb();\n  const prompt = await db\n    .collection(Collections.PROMPT_TEMPLATES as string)\n    .findOne({ _id: new ObjectId(id) });\n\n  if (!prompt) {\n    return NextResponse.json(\n      { success: false, error: 'Prompt not found' },\n      { status: 404 }\n    );\n  }\n\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/[id]/image/route.ts",
        "start": 55,
        "end": 87,
        "startLoc": {
          "line": 55,
          "column": 5,
          "position": 543
        },
        "endLoc": {
          "line": 87,
          "column": 6,
          "position": 865
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/image/route.ts",
        "start": 10,
        "end": 42,
        "startLoc": {
          "line": 10,
          "column": 4,
          "position": 115
        },
        "endLoc": {
          "line": 42,
          "column": 6,
          "position": 437
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "(\n  request: NextRequest,\n  { params }: { params: Promise<{ jobId: string }> }\n) {\n  try {\n    // Auth check\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // RBAC\n    const role = session.user.role as string | undefined;\n    if (!['admin', 'super_admin', 'org_admin'].includes(role || '')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    const { jobId } = await params;\n\n    // For now, just return not implemented",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 126,
        "end": 145,
        "startLoc": {
          "line": 126,
          "column": 7,
          "position": 922
        },
        "endLoc": {
          "line": 145,
          "column": 40,
          "position": 1131
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 14,
        "end": 33,
        "startLoc": {
          "line": 14,
          "column": 4,
          "position": 53
        },
        "endLoc": {
          "line": 33,
          "column": 3,
          "position": 262
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const role = session.user.role as string | undefined;\n    if (!['admin', 'super_admin', 'org_admin'].includes(role || '')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    // Rate limiting (stricter for batch operations)",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generate/batch/route.ts",
        "start": 38,
        "end": 43,
        "startLoc": {
          "line": 38,
          "column": 5,
          "position": 334
        },
        "endLoc": {
          "line": 43,
          "column": 49,
          "position": 415
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 26,
        "end": 31,
        "startLoc": {
          "line": 26,
          "column": 5,
          "position": 164
        },
        "endLoc": {
          "line": 31,
          "column": 6,
          "position": 245
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ") {\n  try {\n    // Auth check\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // RBAC\n    const role = session.user.role as string | undefined;\n    if (!['admin', 'super_admin', 'org_admin'].includes(role || '')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    // Get job queue",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generate/batch/route.ts",
        "start": 110,
        "end": 124,
        "startLoc": {
          "line": 110,
          "column": 12,
          "position": 871
        },
        "endLoc": {
          "line": 124,
          "column": 17,
          "position": 1027
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 17,
        "end": 31,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 89
        },
        "endLoc": {
          "line": 31,
          "column": 6,
          "position": 245
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ".provider}\n                </CardDescription>\n              </CardHeader>\n              <CardContent className=\"space-y-4\">\n                <div>\n                  <div className=\"text-sm font-medium text-muted-foreground\">\n                    Pricing (per 1M tokens)\n                  </div>\n                  <div className=\"text-2xl font-bold\">\n                    ${costPer1M2",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 273,
        "end": 282,
        "startLoc": {
          "line": 273,
          "column": 7,
          "position": 2250
        },
        "endLoc": {
          "line": 282,
          "column": 11,
          "position": 2322
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 213,
        "end": 222,
        "startLoc": {
          "line": 213,
          "column": 7,
          "position": 1771
        },
        "endLoc": {
          "line": 222,
          "column": 11,
          "position": 1843
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ".capabilities.map((cap) => (\n                      <Badge key={cap} variant=\"secondary\" className=\"text-xs\">\n                        {cap}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n                <Button asChild variant=\"outline\" className=\"w-full\">\n                  <Link href={`/learn/ai-models/${model2Slug}`}>\n                    View {model2",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 308,
        "end": 317,
        "startLoc": {
          "line": 308,
          "column": 7,
          "position": 2512
        },
        "endLoc": {
          "line": 317,
          "column": 7,
          "position": 2611
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 248,
        "end": 257,
        "startLoc": {
          "line": 248,
          "column": 7,
          "position": 2033
        },
        "endLoc": {
          "line": 257,
          "column": 7,
          "position": 2132
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const provider",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 25,
        "end": 36,
        "startLoc": {
          "line": 25,
          "column": 3,
          "position": 219
        },
        "endLoc": {
          "line": 36,
          "column": 9,
          "position": 342
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/usage/route.ts",
        "start": 28,
        "end": 39,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 237
        },
        "endLoc": {
          "line": 39,
          "column": 14,
          "position": 360
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 61,
        "end": 71,
        "startLoc": {
          "line": 61,
          "column": 17,
          "position": 555
        },
        "endLoc": {
          "line": 71,
          "column": 5,
          "position": 646
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/usage/route.ts",
        "start": 28,
        "end": 38,
        "startLoc": {
          "line": 28,
          "column": 16,
          "position": 248
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 339
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "},\n      { status: 400 }\n    );\n  }\n\n  const session = await auth();\n\n  if (!session?.user?.id) {\n    return NextResponse.json(\n      { success: false, error: 'Unauthorized' },\n      { status: 401 }\n    );\n  }\n\n  try",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/[id]/route.ts",
        "start": 320,
        "end": 334,
        "startLoc": {
          "line": 320,
          "column": 7,
          "position": 2201
        },
        "endLoc": {
          "line": 334,
          "column": 4,
          "position": 2297
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/image/route.ts",
        "start": 20,
        "end": 30,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 235
        },
        "endLoc": {
          "line": 30,
          "column": 6,
          "position": 325
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ") {\n         await completeWorkbenchRun({\n           runId: workbenchRunId,\n           status: 'budget_exceeded',\n           totalTokens,\n           inputTokens: usage.promptTokens ?? null,\n           outputTokens: usage.completionTokens ?? null,\n           provider: response.provider,\n           model: response.model,\n           costCents,\n           error: `Token usage ",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/ai/execute/route.ts",
        "start": 179,
        "end": 189,
        "startLoc": {
          "line": 179,
          "column": 18,
          "position": 1439
        },
        "endLoc": {
          "line": 189,
          "column": 14,
          "position": 1522
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/ai/execute/route.ts",
        "start": 154,
        "end": 164,
        "startLoc": {
          "line": 154,
          "column": 20,
          "position": 1266
        },
        "endLoc": {
          "line": 164,
          "column": 7,
          "position": 1349
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "// Find prompt by id or slug\n    const prompt = await db.collection('prompts').findOne({\n      $or: [\n        { id },\n        { slug: id },\n        ...(ObjectId.isValid(id) ? [{ _id: new ObjectId(id) }] : []),\n      ],\n    });\n\n    if (!prompt) {\n      return NextResponse.json(\n        { error: 'Prompt not found' },\n        { status: 404 }\n      );\n    }\n\n    // Check for audit results in a dedicated collection",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/[id]/audit/route.ts",
        "start": 38,
        "end": 54,
        "startLoc": {
          "line": 38,
          "column": 5,
          "position": 261
        },
        "endLoc": {
          "line": 54,
          "column": 53,
          "position": 401
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/revisions/compare/route.ts",
        "start": 30,
        "end": 46,
        "startLoc": {
          "line": 30,
          "column": 5,
          "position": 237
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 377
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "const prompt = await db.collection('prompts').findOne({\n      $or: [\n        { id },\n        { slug: id },\n        ...(ObjectId.isValid(id) ? [{ _id: new ObjectId(id) }] : []),\n      ],\n    });\n\n    if (!prompt) {\n      return NextResponse.json(\n        { error: 'Prompt not found' },\n        { status: 404 }\n      );\n    }\n\n    // Run audit",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/[id]/audit/route.ts",
        "start": 105,
        "end": 120,
        "startLoc": {
          "line": 105,
          "column": 5,
          "position": 844
        },
        "endLoc": {
          "line": 120,
          "column": 13,
          "position": 981
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/revisions/compare/route.ts",
        "start": 31,
        "end": 46,
        "startLoc": {
          "line": 31,
          "column": 5,
          "position": 240
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 377
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const validated = verifyMFASchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/verify/route.ts",
        "start": 23,
        "end": 31,
        "startLoc": {
          "line": 23,
          "column": 3,
          "position": 161
        },
        "endLoc": {
          "line": 31,
          "column": 16,
          "position": 251
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 64,
        "end": 72,
        "startLoc": {
          "line": 64,
          "column": 3,
          "position": 576
        },
        "endLoc": {
          "line": 72,
          "column": 16,
          "position": 666
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", error, {\n      userId: session?.user?.id,\n      method: 'POST',\n    });\n\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Invalid input', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/verify/route.ts",
        "start": 62,
        "end": 79,
        "startLoc": {
          "line": 62,
          "column": 23,
          "position": 510
        },
        "endLoc": {
          "line": 79,
          "column": 2,
          "position": 639
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 89,
        "end": 104,
        "startLoc": {
          "line": 89,
          "column": 25,
          "position": 801
        },
        "endLoc": {
          "line": 104,
          "column": 2,
          "position": 928
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "),\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const validated = sendCodeSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/send-code/route.ts",
        "start": 18,
        "end": 30,
        "startLoc": {
          "line": 18,
          "column": 30,
          "position": 117
        },
        "endLoc": {
          "line": 30,
          "column": 15,
          "position": 232
        }
      },
      "secondFile": {
        "name": "src/app/api/auth/mfa/verify/route.ts",
        "start": 19,
        "end": 72,
        "startLoc": {
          "line": 19,
          "column": 24,
          "position": 136
        },
        "endLoc": {
          "line": 72,
          "column": 16,
          "position": 666
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", error, {\n      userId: session?.user?.id,\n      method: 'POST',\n    });\n\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Invalid input', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/send-code/route.ts",
        "start": 61,
        "end": 78,
        "startLoc": {
          "line": 61,
          "column": 26,
          "position": 494
        },
        "endLoc": {
          "line": 78,
          "column": 2,
          "position": 623
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 89,
        "end": 104,
        "startLoc": {
          "line": 89,
          "column": 25,
          "position": 801
        },
        "endLoc": {
          "line": 104,
          "column": 2,
          "position": 928
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "),\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const validated = enableMFASchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/enable/route.ts",
        "start": 20,
        "end": 32,
        "startLoc": {
          "line": 20,
          "column": 5,
          "position": 109
        },
        "endLoc": {
          "line": 32,
          "column": 16,
          "position": 224
        }
      },
      "secondFile": {
        "name": "src/app/api/auth/mfa/verify/route.ts",
        "start": 19,
        "end": 72,
        "startLoc": {
          "line": 19,
          "column": 24,
          "position": 136
        },
        "endLoc": {
          "line": 72,
          "column": 16,
          "position": 666
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", error, {\n      userId: session?.user?.id,\n      method: 'POST',\n    });\n\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Invalid input', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/mfa/enable/route.ts",
        "start": 71,
        "end": 88,
        "startLoc": {
          "line": 71,
          "column": 23,
          "position": 494
        },
        "endLoc": {
          "line": 88,
          "column": 2,
          "position": 623
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 89,
        "end": 104,
        "startLoc": {
          "line": 89,
          "column": 25,
          "position": 801
        },
        "endLoc": {
          "line": 104,
          "column": 2,
          "position": 928
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "(request: NextRequest) {\n  const r = await RBACPresets.requireOrgAdmin()(request);\n  if (r) return r;\n\n  try {\n    const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Rate limiting\n    const rateLimitResult = await checkRateLimit(session.user.id, 'authenticated');\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: rateLimitResult.reason || 'Rate limit exceeded',\n        },\n        {\n          status: 429,\n          headers: {\n            'Retry-After': '60',\n            'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n          },\n        }\n      );\n    }\n\n    const role = (session.user as { role?: string } | null)?.role || 'user';\n    const orgId =\n      (session?.user as { organizationId?: string | null } | null)\n        ?.organizationId || null;\n\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/review/route.ts",
        "start": 84,
        "end": 117,
        "startLoc": {
          "line": 84,
          "column": 6,
          "position": 922
        },
        "endLoc": {
          "line": 117,
          "column": 5,
          "position": 1239
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/review/route.ts",
        "start": 17,
        "end": 50,
        "startLoc": {
          "line": 17,
          "column": 4,
          "position": 191
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 508
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "),\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Auth check\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // RBAC: Only admins can regenerate content",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/regenerate/route.ts",
        "start": 22,
        "end": 33,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 195
        },
        "endLoc": {
          "line": 33,
          "column": 44,
          "position": 287
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generate/batch/route.ts",
        "start": 26,
        "end": 37,
        "startLoc": {
          "line": 26,
          "column": 30,
          "position": 239
        },
        "endLoc": {
          "line": 37,
          "column": 48,
          "position": 331
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "const role = session.user.role as string | undefined;\n    if (!['admin', 'super_admin', 'org_admin'].includes(role || '')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    // Rate limiting",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/regenerate/route.ts",
        "start": 34,
        "end": 39,
        "startLoc": {
          "line": 34,
          "column": 5,
          "position": 290
        },
        "endLoc": {
          "line": 39,
          "column": 17,
          "position": 371
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 26,
        "end": 31,
        "startLoc": {
          "line": 26,
          "column": 5,
          "position": 164
        },
        "endLoc": {
          "line": 31,
          "column": 6,
          "position": 245
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(request: NextRequest) {\n  const guard = await RBACPresets.requireSuperAdmin()(request);\n  if (guard) return guard;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const db",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/quality/route.ts",
        "start": 246,
        "end": 256,
        "startLoc": {
          "line": 246,
          "column": 4,
          "position": 2412
        },
        "endLoc": {
          "line": 256,
          "column": 3,
          "position": 2523
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/quality/route.ts",
        "start": 13,
        "end": 23,
        "startLoc": {
          "line": 13,
          "column": 5,
          "position": 92
        },
        "endLoc": {
          "line": 23,
          "column": 5,
          "position": 203
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { ObjectId } from 'mongodb';\nimport { auth } from '@/lib/auth';\nimport { getDb } from '@/lib/mongodb';\nimport { checkRateLimit } from '@/lib/rate-limit';\nimport { logger } from '@/lib/logging/logger';\nimport { auditLog } from '@/lib/logging/audit';\nimport",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 1,
        "end": 8,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 8,
          "column": 7,
          "position": 94
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 1,
        "end": 12,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 12,
          "column": 4,
          "position": 95
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { _id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 169,
        "end": 180,
        "startLoc": {
          "line": 169,
          "column": 17,
          "position": 1682
        },
        "endLoc": {
          "line": 180,
          "column": 4,
          "position": 1774
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 91,
          "column": 5,
          "position": 955
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "=== 0) {\n      return NextResponse.json(\n        { error: 'Content not found' },\n        { status: 404 }\n      );\n    }\n\n    // Audit log\n    await auditLog({\n      userId: session?.user?.email || 'unknown',\n      action: 'admin_action',\n      resource: 'learning_content',\n      details: {\n        contentId: id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 297,
        "end": 310,
        "startLoc": {
          "line": 297,
          "column": 2,
          "position": 2868
        },
        "endLoc": {
          "line": 310,
          "column": 3,
          "position": 2963
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 220,
        "end": 233,
        "startLoc": {
          "line": 220,
          "column": 2,
          "position": 2210
        },
        "endLoc": {
          "line": 233,
          "column": 4,
          "position": 2305
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  // Rate limiting\n  const ip =\n    request.headers.get('x-forwarded-for')?.split(',')[0] ||\n    request.headers.get('x-real-ip') ||\n    'unknown';\n  const rateLimitResult = await checkRateLimit(\n    `admin-index-post-",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/index/route.ts",
        "start": 44,
        "end": 54,
        "startLoc": {
          "line": 44,
          "column": 5,
          "position": 430
        },
        "endLoc": {
          "line": 54,
          "column": 19,
          "position": 531
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/index/route.ts",
        "start": 15,
        "end": 25,
        "startLoc": {
          "line": 15,
          "column": 4,
          "position": 164
        },
        "endLoc": {
          "line": 25,
          "column": 14,
          "position": 265
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "${ip}`,\n    'authenticated'\n  );\n  if (!rateLimitResult.allowed) {\n    return NextResponse.json(\n      { error: 'Rate limit exceeded', reason: rateLimitResult.reason },\n      { status: 429 }\n    );\n  }\n\n  if (!isIndexerEnabled()) {\n    return NextResponse.json(\n      { success: false, error: 'Indexer disabled' },\n      { status: 404 }\n    );\n  }\n\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/index/route.ts",
        "start": 54,
        "end": 71,
        "startLoc": {
          "line": 54,
          "column": 19,
          "position": 532
        },
        "endLoc": {
          "line": 71,
          "column": 6,
          "position": 658
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/index/route.ts",
        "start": 25,
        "end": 41,
        "startLoc": {
          "line": 25,
          "column": 14,
          "position": 266
        },
        "endLoc": {
          "line": 41,
          "column": 7,
          "position": 391
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "),\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Auth check\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // RBAC: Only admins can generate content",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generate/route.ts",
        "start": 19,
        "end": 30,
        "startLoc": {
          "line": 19,
          "column": 2,
          "position": 158
        },
        "endLoc": {
          "line": 30,
          "column": 42,
          "position": 250
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generate/batch/route.ts",
        "start": 26,
        "end": 37,
        "startLoc": {
          "line": 26,
          "column": 30,
          "position": 239
        },
        "endLoc": {
          "line": 37,
          "column": 48,
          "position": 331
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "const role = session.user.role as string | undefined;\n    if (!['admin', 'super_admin', 'org_admin'].includes(role || '')) {\n      return NextResponse.json({ error: 'Forbidden' }, { status: 403 });\n    }\n\n    // Rate limiting\n    const rateLimitResult = await checkRateLimit(\n      `content-generate-",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generate/route.ts",
        "start": 31,
        "end": 38,
        "startLoc": {
          "line": 31,
          "column": 5,
          "position": 253
        },
        "endLoc": {
          "line": 38,
          "column": 19,
          "position": 349
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generation-status/[jobId]/route.ts",
        "start": 26,
        "end": 41,
        "startLoc": {
          "line": 26,
          "column": 5,
          "position": 164
        },
        "endLoc": {
          "line": 41,
          "column": 21,
          "position": 386
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${session.user.id}`,\n      'authenticated'\n    );\n\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    // Parse and validate request\n    const body = await request.json();\n    const validationResult = GenerateRequestSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/content/generate/route.ts",
        "start": 38,
        "end": 51,
        "startLoc": {
          "line": 38,
          "column": 19,
          "position": 350
        },
        "endLoc": {
          "line": 51,
          "column": 22,
          "position": 443
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/regenerate/route.ts",
        "start": 41,
        "end": 54,
        "startLoc": {
          "line": 41,
          "column": 21,
          "position": 387
        },
        "endLoc": {
          "line": 54,
          "column": 24,
          "position": 480
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { RBACPresets } from '@/lib/middleware/rbac';\nimport { auth } from '@/lib/auth';\nimport { auditLog } from '@/lib/logging/audit';\nimport { aiModelService } from '@/lib/services/AIModelService';\nimport { AIModel } from '@/lib/db/schemas/ai-model';\nimport { generateSlug } from '@/lib/utils/slug';\nimport",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/sync/route.ts",
        "start": 8,
        "end": 15,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 15,
          "column": 7,
          "position": 97
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 8,
        "end": 16,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 45,
          "position": 98
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "export async function POST(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/sync/route.ts",
        "start": 19,
        "end": 29,
        "startLoc": {
          "line": 19,
          "column": 1,
          "position": 125
        },
        "endLoc": {
          "line": 29,
          "column": 5,
          "position": 243
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 174,
        "startLoc": {
          "line": 164,
          "column": 1,
          "position": 981
        },
        "endLoc": {
          "line": 174,
          "column": 9,
          "position": 1099
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json();\n    const { provider",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/sync/route.ts",
        "start": 21,
        "end": 30,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 170
        },
        "endLoc": {
          "line": 30,
          "column": 9,
          "position": 261
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/quality/route.ts",
        "start": 15,
        "end": 24,
        "startLoc": {
          "line": 15,
          "column": 6,
          "position": 130
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 221
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ",\n        capabilities: baseModel.capabilities || ['text'],\n        supportsStreaming: baseModel.supportsStreaming ?? true,\n        supportsJSON: baseModel.supportsJSON ?? false,\n        supportsVision: baseModel.supportsVision ?? false,\n        isDefault: baseModel.isDefault ?? false,\n        isAllowed: baseModel.isAllowed ?? true,\n        recommended: baseModel.recommended ?? false,\n        parameterFailures",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/sync/route.ts",
        "start": 207,
        "end": 215,
        "startLoc": {
          "line": 207,
          "column": 2,
          "position": 2270
        },
        "endLoc": {
          "line": 215,
          "column": 18,
          "position": 2372
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/route.ts",
        "start": 137,
        "end": 145,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 1362
        },
        "endLoc": {
          "line": 145,
          "column": 5,
          "position": 1464
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ";\n\nexport async function POST(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const result",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/migrate/route.ts",
        "start": 11,
        "end": 23,
        "startLoc": {
          "line": 11,
          "column": 33,
          "position": 69
        },
        "endLoc": {
          "line": 23,
          "column": 7,
          "position": 190
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 162,
        "end": 174,
        "startLoc": {
          "line": 162,
          "column": 2,
          "position": 978
        },
        "endLoc": {
          "line": 174,
          "column": 9,
          "position": 1099
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n    const { Collections } = await import('@/lib/db/schema');\n    const { ObjectId } = await import('mongodb');\n\n    const db = await getDb();\n    const contentDoc = await db\n      .collection(Collections.WEB_CONTENT)\n      .findOne({ _id: new ObjectId(result.contentId) });\n\n    if (!contentDoc) {\n      throw",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/content/implementations/SingleAgentContentGenerator.ts",
        "start": 42,
        "end": 52,
        "startLoc": {
          "line": 42,
          "column": 18,
          "position": 279
        },
        "endLoc": {
          "line": 52,
          "column": 6,
          "position": 389
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/generate/route.ts",
        "start": 85,
        "end": 95,
        "startLoc": {
          "line": 85,
          "column": 16,
          "position": 715
        },
        "endLoc": {
          "line": 95,
          "column": 7,
          "position": 825
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n        generatedAt: new Date(),\n        qualityScore: readabilityScore,\n      },\n    };\n  }\n\n  async validate(content: GeneratedContent): Promise<ValidationResult> {\n    const errors: string[] = [];\n    const warnings: string[] = [];\n\n    // Minimum word count check (stricter for multi-agent)",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/content/implementations/MultiAgentContentGenerator.ts",
        "start": 62,
        "end": 73,
        "startLoc": {
          "line": 62,
          "column": 8,
          "position": 441
        },
        "endLoc": {
          "line": 73,
          "column": 55,
          "position": 526
        }
      },
      "secondFile": {
        "name": "src/lib/services/content/implementations/SingleAgentContentGenerator.ts",
        "start": 66,
        "end": 77,
        "startLoc": {
          "line": 66,
          "column": 10,
          "position": 529
        },
        "endLoc": {
          "line": 77,
          "column": 28,
          "position": 614
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n      topic: result.topic,\n      originalDraft: result.originalDraft,\n      finalContent: result.finalContent,\n      reviews: result.reviews,\n      seoMetadata: result.seoMetadata,\n      readabilityScore: result.readabilityScore,\n      approved: result.approved,\n      publishReady: result.publishReady,\n      slopDetection: result.slopDetection,\n    };\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/content/implementations/ContentPublishingServiceAdapter.ts",
        "start": 60,
        "end": 71,
        "startLoc": {
          "line": 60,
          "column": 2,
          "position": 372
        },
        "endLoc": {
          "line": 71,
          "column": 2,
          "position": 460
        }
      },
      "secondFile": {
        "name": "src/lib/services/content/implementations/ContentPublishingServiceAdapter.ts",
        "start": 42,
        "end": 54,
        "startLoc": {
          "line": 42,
          "column": 2,
          "position": 244
        },
        "endLoc": {
          "line": 54,
          "column": 7,
          "position": 333
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ".Chat.ChatCompletionMessageParam[] = [];\n\n    if (request.systemPrompt) {\n      messages.push({\n        role: 'system',\n        content: request.systemPrompt,\n      });\n    }\n\n    messages.push({\n      role: 'user',\n      content: request.prompt,\n    });\n\n    // Call Groq API",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/v2/adapters/GroqAdapter.ts",
        "start": 51,
        "end": 65,
        "startLoc": {
          "line": 51,
          "column": 5,
          "position": 316
        },
        "endLoc": {
          "line": 65,
          "column": 17,
          "position": 403
        }
      },
      "secondFile": {
        "name": "src/lib/ai/v2/adapters/OpenAIAdapter.ts",
        "start": 56,
        "end": 70,
        "startLoc": {
          "line": 56,
          "column": 7,
          "position": 350
        },
        "endLoc": {
          "line": 70,
          "column": 19,
          "position": 437
        }
      }
    },
    {
      "format": "typescript",
      "lines": 46,
      "fragment": "const { value: response, latencyMs } = await executeWithProviderHarness(\n      () =>\n        this.client.chat.completions.create({\n          model: this.model,\n          messages,\n          temperature: request.temperature ?? 0.7,\n          max_tokens: request.maxTokens ?? 2000,\n        }),\n      {\n        provider: this.provider,\n        model: this.model,\n        operation: 'chat-completion',\n      }\n    );\n\n    // Extract usage data\n    const usage = {\n      promptTokens: response.usage?.prompt_tokens || 0,\n      completionTokens: response.usage?.completion_tokens || 0,\n      totalTokens: response.usage?.total_tokens || 0,\n    };\n\n    // Calculate cost from database\n    const cost = await this.calculateCost(usage, this.model);\n\n    return {\n      content: response.choices[0]?.message?.content || '',\n      usage,\n      cost,\n      latency: latencyMs,\n      provider: this.provider,\n      model: this.model,\n    };\n  }\n\n  /**\n   * Calculate cost based on token usage using database pricing\n   */\n  private async calculateCost(\n    usage: { promptTokens: number; completionTokens: number },\n    model: string\n  ) {\n    const { calculateCostFromDB } = await import('@/lib/ai/utils/model-cost');\n    return await calculateCostFromDB(model, usage.promptTokens, usage.completionTokens);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/v2/adapters/GroqAdapter.ts",
        "start": 66,
        "end": 111,
        "startLoc": {
          "line": 66,
          "column": 5,
          "position": 406
        },
        "endLoc": {
          "line": 111,
          "column": 2,
          "position": 772
        }
      },
      "secondFile": {
        "name": "src/lib/ai/v2/adapters/OpenAIAdapter.ts",
        "start": 71,
        "end": 116,
        "startLoc": {
          "line": 71,
          "column": 5,
          "position": 440
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 806
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n  }\n\n  /**\n   * Calculate cost based on token usage using database pricing\n   */\n  private async calculateCost(\n    usage: { promptTokens: number; completionTokens: number },\n    model: string\n  ) {\n    const { calculateCostFromDB } = await import('@/lib/ai/utils/model-cost');\n    return await calculateCostFromDB(model, usage.promptTokens, usage.completionTokens);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/v2/adapters/GeminiAdapter.ts",
        "start": 114,
        "end": 127,
        "startLoc": {
          "line": 114,
          "column": 2,
          "position": 757
        },
        "endLoc": {
          "line": 127,
          "column": 2,
          "position": 848
        }
      },
      "secondFile": {
        "name": "src/lib/ai/v2/adapters/OpenAIAdapter.ts",
        "start": 103,
        "end": 116,
        "startLoc": {
          "line": 103,
          "column": 2,
          "position": 715
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 806
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ",\n    });\n    this.model = model;\n  }\n\n  /**\n   * Validate the request before execution\n   */\n  validateRequest(request: AIRequest): boolean {\n    // Check prompt exists and is not empty\n    if (!request.prompt || request.prompt.trim().length === 0) {\n      return false;\n    }\n\n    // Check temperature is within bounds\n    if (\n      request.temperature !== undefined &&\n      (request.temperature < 0 || request.temperature > 1",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/v2/adapters/ClaudeAdapter.ts",
        "start": 21,
        "end": 38,
        "startLoc": {
          "line": 21,
          "column": 18,
          "position": 136
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 252
        }
      },
      "secondFile": {
        "name": "src/lib/ai/v2/adapters/GroqAdapter.ts",
        "start": 21,
        "end": 38,
        "startLoc": {
          "line": 21,
          "column": 11,
          "position": 140
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 256
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n      usage,\n      cost,\n      latency: latencyMs,\n      provider: this.provider,\n      model: this.model,\n    };\n  }\n\n  /**\n   * Calculate cost based on token usage using database pricing\n   */\n  private async calculateCost(\n    usage: { promptTokens: number; completionTokens: number },\n    model: string\n  ) {\n    const { calculateCostFromDB } = await import('@/lib/ai/utils/model-cost');\n    return await calculateCostFromDB(model, usage.promptTokens, usage.completionTokens);\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/v2/adapters/ClaudeAdapter.ts",
        "start": 87,
        "end": 106,
        "startLoc": {
          "line": 87,
          "column": 5,
          "position": 603
        },
        "endLoc": {
          "line": 106,
          "column": 2,
          "position": 731
        }
      },
      "secondFile": {
        "name": "src/lib/ai/v2/adapters/OpenAIAdapter.ts",
        "start": 97,
        "end": 116,
        "startLoc": {
          "line": 97,
          "column": 3,
          "position": 678
        },
        "endLoc": {
          "line": 116,
          "column": 2,
          "position": 806
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "${slug}`,\n    author: {\n      '@type': 'Person',\n      name: 'Donnie Laur',\n    },\n    publisher: {\n      '@type': 'Organization',\n      name: 'Engify.ai',\n      logo: {\n        '@type': 'ImageObject',\n        url: `${APP_URL}/logo.png`,\n      },\n    },\n    datePublished: painPoint",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/[slug]/page.tsx",
        "start": 96,
        "end": 109,
        "startLoc": {
          "line": 96,
          "column": 24,
          "position": 833
        },
        "endLoc": {
          "line": 109,
          "column": 10,
          "position": 919
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/[slug]/page.tsx",
        "start": 106,
        "end": 119,
        "startLoc": {
          "line": 106,
          "column": 28,
          "position": 913
        },
        "endLoc": {
          "line": 119,
          "column": 15,
          "position": 999
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ";\n\n  return (\n    <>\n      <script\n        type=\"application/ld+json\"\n        // SECURITY: JSON-LD is safe - it's JSON.stringify of our own data, no user input\n        // eslint-disable-next-line react/no-danger\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\n      />\n      <MainLayout>\n        <div className=\"container py-10\">\n          {/* Breadcrumb */}\n          <nav className=\"mb-6 text-sm text-muted-foreground\">\n            <Link href=\"/workflows\" className=\"hover:text-foreground\">\n              Workflows\n            </Link>\n            <span className=\"mx-2\">/</span>\n            <Link href=\"/workflows/pain-points",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/[slug]/page.tsx",
        "start": 115,
        "end": 133,
        "startLoc": {
          "line": 115,
          "column": 2,
          "position": 983
        },
        "endLoc": {
          "line": 133,
          "column": 23,
          "position": 1112
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/[slug]/page.tsx",
        "start": 149,
        "end": 167,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 1345
        },
        "endLoc": {
          "line": 167,
          "column": 27,
          "position": 1474
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "{\n  const { role: roleParam } = await params;\n  const role = decodeURIComponent(roleParam);\n  const roleInfo = ROLE_INFO[role] || {\n    title: role\n      .split('-')\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n      .join(' '),\n    description: `Explore prompts for ",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 154,
        "end": 162,
        "startLoc": {
          "line": 154,
          "column": 2,
          "position": 1160
        },
        "endLoc": {
          "line": 162,
          "column": 22,
          "position": 1266
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 102,
        "end": 110,
        "startLoc": {
          "line": 102,
          "column": 2,
          "position": 753
        },
        "endLoc": {
          "line": 110,
          "column": 41,
          "position": 859
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": ".toLowerCase(),\n        isPublic: true,\n      })\n      .sort({ isFeatured: -1, views: -1 })\n      .limit(100)\n      .toArray();\n\n    return prompts.map((p) => ({\n      id: p.id || p._id.toString(),\n      slug: p.slug,\n      title: p.title,\n      description: p.description,\n      content: p.content,\n      category: p.category,\n      role: p.role,\n      pattern: p.pattern,\n      tags: p.tags || [],\n      isFeatured: p.isFeatured || false,\n      views: p.views || 0,\n      rating: p.rating || p.stats?.averageRating || 0,\n      ratingCount: p.ratingCount || p.stats?.totalRatings || 0,\n      createdAt: p.createdAt || new Date(),\n    }));\n  } catch (error) {\n    console.error('Error fetching prompts by category:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/page.tsx",
        "start": 58,
        "end": 82,
        "startLoc": {
          "line": 58,
          "column": 9,
          "position": 360
        },
        "endLoc": {
          "line": 82,
          "column": 38,
          "position": 635
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 68,
        "end": 92,
        "startLoc": {
          "line": 68,
          "column": 5,
          "position": 410
        },
        "endLoc": {
          "line": 92,
          "column": 34,
          "position": 685
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": ")}`;\n\n  return {\n    title,\n    description,\n    alternates: {\n      canonical: url,\n    },\n    openGraph: {\n      title,\n      description,\n      url,\n      type: 'website',\n      siteName: 'Engify.ai',\n    },\n    twitter: {\n      card: 'summary_large_image',\n      title,\n      description,\n    },\n    keywords: [\n      'prompt engineering',\n      'AI prompts',\n      categoryInfo",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/page.tsx",
        "start": 108,
        "end": 131,
        "startLoc": {
          "line": 108,
          "column": 9,
          "position": 911
        },
        "endLoc": {
          "line": 131,
          "column": 13,
          "position": 1023
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 118,
        "end": 141,
        "startLoc": {
          "line": 118,
          "column": 5,
          "position": 971
        },
        "endLoc": {
          "line": 141,
          "column": 9,
          "position": 1083
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "{\n  const { category: categoryParam } = await params;\n  const category = decodeURIComponent(categoryParam);\n  const categoryInfo = CATEGORY_INFO[category] || {\n    title: category\n      .split('-')\n      .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n      .join(' '),\n    description: `Explore prompts in the ",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/page.tsx",
        "start": 143,
        "end": 151,
        "startLoc": {
          "line": 143,
          "column": 2,
          "position": 1096
        },
        "endLoc": {
          "line": 151,
          "column": 25,
          "position": 1202
        }
      },
      "secondFile": {
        "name": "src/app/prompts/category/[category]/page.tsx",
        "start": 92,
        "end": 100,
        "startLoc": {
          "line": 92,
          "column": 2,
          "position": 703
        },
        "endLoc": {
          "line": 100,
          "column": 44,
          "position": 809
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ".slice(0, 10).map((prompt, index) => ({\n        '@type': 'ListItem',\n        position: index + 1,\n        item: {\n          '@type': 'Article',\n          name: prompt.title,\n          description: prompt.description,\n          url: `${APP_URL}/library/${prompt.id}`,\n        },\n      })),\n    },\n    about: {\n      '@type': 'Thing',\n      name: categoryInfo",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/page.tsx",
        "start": 167,
        "end": 180,
        "startLoc": {
          "line": 167,
          "column": 16,
          "position": 1326
        },
        "endLoc": {
          "line": 180,
          "column": 13,
          "position": 1446
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 178,
        "end": 191,
        "startLoc": {
          "line": 178,
          "column": 12,
          "position": 1390
        },
        "endLoc": {
          "line": 191,
          "column": 9,
          "position": 1510
        }
      }
    },
    {
      "format": "javascript",
      "lines": 117,
      "fragment": "={() => router.push('/library')} className=\"mb-6\">\n          <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n          Library\n        </Button>\n\n        {/* Category Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"rounded-lg bg-primary/10 p-3\">\n              <Icons.folder className=\"h-8 w-8 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-4xl font-bold\">{categoryInfo.title}</h1>\n              <p className=\"text-muted-foreground\">\n                {categoryPrompts.length} prompt{categoryPrompts.length !== 1 ? 's' : ''} in this category\n              </p>\n            </div>\n          </div>\n          <p className=\"text-lg text-muted-foreground max-w-3xl\">\n            {categoryInfo.description}\n          </p>\n        </div>\n\n        {/* Prompts Grid */}\n        <div>\n          {categoryPrompts.length === 0 ? (\n            <Card>\n              <CardContent className=\"flex flex-col items-center justify-center py-12\">\n                <Icons.inbox className=\"mb-4 h-12 w-12 text-muted-foreground\" />\n                <p className=\"text-muted-foreground mb-2\">\n                  No prompts found in category: {categoryInfo.title}\n                </p>\n                <Button className=\"mt-4\" onClick={() => router.push('/library')}>\n                  Browse All Prompts\n                </Button>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n              {categoryPrompts.map((prompt) => (\n                <Card\n                  key={prompt.id}\n                  className=\"cursor-pointer transition-all hover:shadow-lg\"\n                  onClick={() => router.push(`/library/${prompt.id}`)}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <CardTitle className=\"text-lg line-clamp-2\">{prompt.title}</CardTitle>\n                      {prompt.isFeatured && (\n                        <Badge variant=\"default\" className=\"shrink-0\">\n                          <Icons.star className=\"h-3 w-3\" />\n                        </Badge>\n                      )}\n                    </div>\n                    <CardDescription className=\"line-clamp-2\">\n                      {prompt.description}\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex flex-wrap gap-2\">\n                        <Badge variant=\"secondary\">{prompt.category}</Badge>\n                        {prompt.role && <Badge variant=\"outline\">{prompt.role}</Badge>}\n                        {prompt.pattern && (\n                          <Badge variant=\"outline\">\n                            <Icons.zap className=\"mr-1 h-3 w-3\" />\n                            {prompt.pattern}\n                          </Badge>\n                        )}\n                      </div>\n                      {prompt.tags && prompt.tags.length > 0 && (\n                        <div className=\"flex flex-wrap gap-1\">\n                          {prompt.tags.slice(0, 3).map((t) => (\n                            <Badge key={t} variant=\"outline\" className=\"text-xs\">\n                              {t}\n                            </Badge>\n                          ))}\n                          {prompt.tags.length > 3 && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              +{prompt.tags.length - 3}\n                            </Badge>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Related Categories Section */}\n        {categoryPrompts.length > 0 && (\n          <Card className=\"mt-8\">\n            <CardHeader>\n              <CardTitle>Browse by Category</CardTitle>\n              <CardDescription>Explore other prompt categories</CardDescription>\n            </CardHeader>\n            <CardContent>\n              <div className=\"flex flex-wrap gap-2\">\n                {['code-generation', 'debugging', 'documentation', 'testing', 'refactoring', 'architecture', 'learning', 'general']\n                  .filter((cat) => cat !== category)\n                  .map((cat) => {\n                    const catInfo = {\n                      'code-generation': 'Code Generation',\n                      'debugging': 'Debugging',\n                      'documentation': 'Documentation',\n                      'testing': 'Testing',\n                      'refactoring': 'Refactoring',\n                      'architecture': 'Architecture',\n                      'learning': 'Learning',\n                      'general': 'General',\n                    }[cat] || cat;\n                    return (\n                      <Button\n                        key={cat",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/category-page-client.tsx",
        "start": 27,
        "end": 143,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 235
        },
        "endLoc": {
          "line": 143,
          "column": 4,
          "position": 1316
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 27,
        "end": 143,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 235
        },
        "endLoc": {
          "line": 143,
          "column": 2,
          "position": 1395
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport type { Prompt } from '@/lib/schemas/prompt';\n\ninterface CategoryPageClientProps",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/category-page-client.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 24,
          "position": 112
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 20,
          "position": 112
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ") {\n  const router = useRouter();\n\n  return (\n    <MainLayout>\n      <div className=\"container py-8\">\n        {/* Back Button */}\n        <Button variant=\"ghost\" onClick={() => router.push('/library')} className=\"mb-6\">\n          <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n          Library\n        </Button>\n\n        {/* Category Header */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/category-page-client.tsx",
        "start": 20,
        "end": 32,
        "startLoc": {
          "line": 20,
          "column": 24,
          "position": 181
        },
        "endLoc": {
          "line": 32,
          "column": 22,
          "position": 279
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 20,
        "end": 32,
        "startLoc": {
          "line": 20,
          "column": 20,
          "position": 181
        },
        "endLoc": {
          "line": 32,
          "column": 18,
          "position": 279
        }
      }
    },
    {
      "format": "tsx",
      "lines": 54,
      "fragment": ".map((prompt) => (\n                <Card\n                  key={prompt.id}\n                  className=\"cursor-pointer transition-all hover:shadow-lg\"\n                  onClick={() => router.push(`/library/${prompt.id}`)}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <CardTitle className=\"text-lg line-clamp-2\">{prompt.title}</CardTitle>\n                      {prompt.isFeatured && (\n                        <Badge variant=\"default\" className=\"shrink-0\">\n                          <Icons.star className=\"h-3 w-3\" />\n                        </Badge>\n                      )}\n                    </div>\n                    <CardDescription className=\"line-clamp-2\">\n                      {prompt.description}\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex flex-wrap gap-2\">\n                        <Badge variant=\"secondary\">{prompt.category}</Badge>\n                        {prompt.role && <Badge variant=\"outline\">{prompt.role}</Badge>}\n                        {prompt.pattern && (\n                          <Badge variant=\"outline\">\n                            <Icons.zap className=\"mr-1 h-3 w-3\" />\n                            {prompt.pattern}\n                          </Badge>\n                        )}\n                      </div>\n                      {prompt.tags && prompt.tags.length > 0 && (\n                        <div className=\"flex flex-wrap gap-1\">\n                          {prompt.tags.slice(0, 3).map((t) => (\n                            <Badge key={t} variant=\"outline\" className=\"text-xs\">\n                              {t}\n                            </Badge>\n                          ))}\n                          {prompt.tags.length > 3 && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              +{prompt.tags.length - 3}\n                            </Badge>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Related Categories Section */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/category/[category]/category-page-client.tsx",
        "start": 66,
        "end": 119,
        "startLoc": {
          "line": 66,
          "column": 16,
          "position": 598
        },
        "endLoc": {
          "line": 119,
          "column": 33,
          "position": 1090
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 66,
        "end": 119,
        "startLoc": {
          "line": 66,
          "column": 12,
          "position": 604
        },
        "endLoc": {
          "line": 119,
          "column": 28,
          "position": 1096
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ",\n          }),\n        }}\n      />\n\n      <MainLayout>\n        <div className=\"container py-12\">\n          {/* Breadcrumbs */}\n          <nav className=\"mb-6 flex items-center gap-2 text-sm text-muted-foreground\">\n            <Link href=\"/\" className=\"hover:text-primary\">\n              Home\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn\" className=\"hover:text-primary\">\n              Learn\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn/ai-tools",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 132,
        "end": 149,
        "startLoc": {
          "line": 132,
          "column": 10,
          "position": 1124
        },
        "endLoc": {
          "line": 149,
          "column": 16,
          "position": 1253
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 130,
        "end": 147,
        "startLoc": {
          "line": 130,
          "column": 2,
          "position": 1075
        },
        "endLoc": {
          "line": 147,
          "column": 17,
          "position": 1204
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": "\">\n                          <div className=\"text-sm font-medium\">\n                            {tool.pricing.paid.creditsPerMonth.toLocaleString()}{' '}\n                            {tool.pricing.paid.creditsUnit || 'credits'}/month\n                          </div>\n                          <div className=\"text-xs text-muted-foreground\">\n                            Included in monthly",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 346,
        "end": 352,
        "startLoc": {
          "line": 346,
          "column": 14,
          "position": 2937
        },
        "endLoc": {
          "line": 352,
          "column": 8,
          "position": 3007
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 297,
        "end": 303,
        "startLoc": {
          "line": 297,
          "column": 19,
          "position": 2534
        },
        "endLoc": {
          "line": 303,
          "column": 5,
          "position": 2604
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ".map((resource) => (\n                            <li key={resource.id}>\n                              <a href={resource.url} className=\"text-primary underline\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                {resource.title}\n                              </a>\n                              {resource.description && (\n                                <span className=\"text-muted-foreground\"> - {resource.description}</span>\n                              )}\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    )}\n                  </",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 471,
        "end": 484,
        "startLoc": {
          "line": 471,
          "column": 19,
          "position": 4036
        },
        "endLoc": {
          "line": 484,
          "column": 3,
          "position": 4164
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 453,
        "end": 467,
        "startLoc": {
          "line": 453,
          "column": 18,
          "position": 3841
        },
        "endLoc": {
          "line": 467,
          "column": 2,
          "position": 3971
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": ",\n          }),\n        }}\n      />\n\n      <MainLayout>\n        <div className=\"container py-12\">\n          {/* Breadcrumbs */}\n          <nav className=\"mb-6 flex items-center gap-2 text-sm text-muted-foreground\">\n            <Link href=\"/\" className=\"hover:text-primary\">\n              Home\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn\" className=\"hover:text-primary\">\n              Learn\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn/ai-models\" className=\"hover:text-primary\">\n              AI Models\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <span className=\"text-foreground\">Deprecated",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/deprecated/page.tsx",
        "start": 82,
        "end": 103,
        "startLoc": {
          "line": 82,
          "column": 74,
          "position": 576
        },
        "endLoc": {
          "line": 103,
          "column": 11,
          "position": 747
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 130,
        "end": 151,
        "startLoc": {
          "line": 130,
          "column": 2,
          "position": 1075
        },
        "endLoc": {
          "line": 151,
          "column": 11,
          "position": 1246
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "import { Metadata } from 'next';\nimport { notFound } from 'next/navigation';\nimport Link from 'next/link';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Icons } from '@/lib/icons';\nimport { ModelIdCopy",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/[slug]/page.tsx",
        "start": 8,
        "end": 16,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 12,
          "position": 116
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 8,
        "end": 16,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 16,
          "column": 14,
          "position": 116
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ";\n\nexport const dynamic = 'force-dynamic';\nexport const revalidate = 3600; // Revalidate hourly\n\nconst PROVIDER_LABELS: Record<string, string> = {\n  openai: 'OpenAI',\n  anthropic: 'Anthropic',\n  google: 'Google',\n  groq: 'Groq',\n  replicate: 'Replicate',\n  perplexity: 'Perplexity',\n  together: 'Together AI',\n  mistral: 'Mistral',\n};\n\ninterface PageProps {\n  params: Promise<{ slug",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/[slug]/page.tsx",
        "start": 30,
        "end": 47,
        "startLoc": {
          "line": 30,
          "column": 46,
          "position": 209
        },
        "endLoc": {
          "line": 47,
          "column": 5,
          "position": 328
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 24,
        "end": 41,
        "startLoc": {
          "line": 24,
          "column": 23,
          "position": 158
        },
        "endLoc": {
          "line": 41,
          "column": 7,
          "position": 277
        }
      }
    },
    {
      "format": "tsx",
      "lines": 23,
      "fragment": ",\n            },\n          }),\n        }}\n      />\n\n      <MainLayout>\n        <div className=\"container py-12\">\n          {/* Breadcrumbs */}\n          <nav className=\"mb-6 flex items-center gap-2 text-sm text-muted-foreground\">\n            <Link href=\"/\" className=\"hover:text-primary\">\n              Home\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn\" className=\"hover:text-primary\">\n              Learn\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <Link href=\"/learn/ai-models\" className=\"hover:text-primary\">\n              AI Models\n            </Link>\n            <Icons.chevronRight className=\"h-4 w-4\" />\n            <span className=\"text-foreground\">{",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/[slug]/page.tsx",
        "start": 153,
        "end": 175,
        "startLoc": {
          "line": 153,
          "column": 14,
          "position": 1300
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1475
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 129,
        "end": 151,
        "startLoc": {
          "line": 129,
          "column": 12,
          "position": 1071
        },
        "endLoc": {
          "line": 151,
          "column": 11,
          "position": 1246
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "{/* Related Links */}\n              <Card>\n                <CardHeader>\n                  <CardTitle>Related</CardTitle>\n                </CardHeader>\n                <CardContent className=\"space-y-2\">\n                  <Button\n                    asChild\n                    variant=\"ghost\"\n                    className=\"w-full justify-start\"\n                  >\n                    <Link href=\"/learn/ai-models",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/[slug]/page.tsx",
        "start": 491,
        "end": 502,
        "startLoc": {
          "line": 491,
          "column": 15,
          "position": 3974
        },
        "endLoc": {
          "line": 502,
          "column": 17,
          "position": 4040
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/[slug]/page.tsx",
        "start": 375,
        "end": 386,
        "startLoc": {
          "line": 375,
          "column": 15,
          "position": 3173
        },
        "endLoc": {
          "line": 386,
          "column": 16,
          "position": 3239
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ",\n    });\n\n    // Handle validation errors\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: 'Validation failed',\n          details: error.issues,\n        },\n        { status: 400 }\n      );\n    }\n\n    // Handle business logic errors\n    if (error instanceof Error && error.message.includes('already exists'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/v2/users/route.ts",
        "start": 198,
        "end": 214,
        "startLoc": {
          "line": 198,
          "column": 7,
          "position": 1511
        },
        "endLoc": {
          "line": 214,
          "column": 17,
          "position": 1614
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/[id]/route.ts",
        "start": 189,
        "end": 205,
        "startLoc": {
          "line": 189,
          "column": 6,
          "position": 1318
        },
        "endLoc": {
          "line": 205,
          "column": 16,
          "position": 1421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { auth } from '@/lib/auth';\nimport { getMongoDb } from '@/lib/db/mongodb';\nimport { ObjectId } from 'mongodb';\nimport { RBACPresets } from '@/lib/middleware/rbac';\nimport { logger } from '@/lib/logging/logger';\nimport { ERROR_MESSAGES } from '@/lib/constants/messages';\n\n/**\n * GET /api/user/notification-preferences\n * Retrieve user's notification preferences\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 6,
        "end": 17,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 17,
          "column": 4,
          "position": 98
        }
      },
      "secondFile": {
        "name": "src/app/api/user/stats/route.ts",
        "start": 6,
        "end": 14,
        "startLoc": {
          "line": 6,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 14,
          "column": 7,
          "position": 98
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const db",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 20,
        "end": 29,
        "startLoc": {
          "line": 20,
          "column": 16,
          "position": 131
        },
        "endLoc": {
          "line": 29,
          "column": 3,
          "position": 218
        }
      },
      "secondFile": {
        "name": "src/app/api/user/onboarding/route.ts",
        "start": 17,
        "end": 26,
        "startLoc": {
          "line": 17,
          "column": 17,
          "position": 142
        },
        "endLoc": {
          "line": 26,
          "column": 5,
          "position": 229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ");\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const db = await getMongoDb();\n    const user",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 20,
        "end": 30,
        "startLoc": {
          "line": 20,
          "column": 4,
          "position": 135
        },
        "endLoc": {
          "line": 30,
          "column": 5,
          "position": 232
        }
      },
      "secondFile": {
        "name": "src/app/api/user/stats/route.ts",
        "start": 16,
        "end": 26,
        "startLoc": {
          "line": 16,
          "column": 8,
          "position": 133
        },
        "endLoc": {
          "line": 26,
          "column": 7,
          "position": 230
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ", error, {\n      method: 'GET',\n      userId: session?.user?.id,\n    });\n    return NextResponse.json(\n      {\n        error: ERROR_MESSAGES.FETCH_FAILED,\n        message: error instanceof Error ? error.message : ERROR_MESSAGES.SERVER_ERROR,\n      },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 60,
        "end": 72,
        "startLoc": {
          "line": 60,
          "column": 37,
          "position": 491
        },
        "endLoc": {
          "line": 72,
          "column": 2,
          "position": 587
        }
      },
      "secondFile": {
        "name": "src/app/api/user/stats/route.ts",
        "start": 79,
        "end": 91,
        "startLoc": {
          "line": 79,
          "column": 18,
          "position": 653
        },
        "endLoc": {
          "line": 91,
          "column": 2,
          "position": 749
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const rbacCheck = await RBACPresets.requireUserWrite()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await req.json();\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 80,
        "end": 90,
        "startLoc": {
          "line": 80,
          "column": 3,
          "position": 612
        },
        "endLoc": {
          "line": 90,
          "column": 2,
          "position": 726
        }
      },
      "secondFile": {
        "name": "src/app/api/user/onboarding/route.ts",
        "start": 17,
        "end": 27,
        "startLoc": {
          "line": 17,
          "column": 3,
          "position": 131
        },
        "endLoc": {
          "line": 27,
          "column": 5,
          "position": 245
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      userId: session?.user?.id,\n    });\n    return NextResponse.json(\n      {\n        error: ERROR_MESSAGES.SAVE_FAILED,\n        message: error instanceof Error ? error.message : ERROR_MESSAGES.SERVER_ERROR,\n      },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 135,
        "end": 146,
        "startLoc": {
          "line": 135,
          "column": 6,
          "position": 1072
        },
        "endLoc": {
          "line": 146,
          "column": 2,
          "position": 1156
        }
      },
      "secondFile": {
        "name": "src/app/api/user/onboarding/route.ts",
        "start": 51,
        "end": 62,
        "startLoc": {
          "line": 51,
          "column": 7,
          "position": 455
        },
        "endLoc": {
          "line": 62,
          "column": 2,
          "position": 539
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "});\n  } catch (error: unknown) {\n    const errorMessage =\n      error instanceof Error ? error.message : 'Unknown error';\n    console.error('Gemini research error:', errorMessage);\n\n    return NextResponse.json(\n      {\n        error: 'Research failed',\n        message: errorMessage,\n      },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/research/gemini/route.ts",
        "start": 89,
        "end": 103,
        "startLoc": {
          "line": 89,
          "column": 2,
          "position": 550
        },
        "endLoc": {
          "line": 103,
          "column": 2,
          "position": 652
        }
      },
      "secondFile": {
        "name": "src/app/api/research/gemini/route.ts",
        "start": 55,
        "end": 69,
        "startLoc": {
          "line": 55,
          "column": 5,
          "position": 304
        },
        "endLoc": {
          "line": 69,
          "column": 2,
          "position": 406
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ");\n\nfunction getClientIP(request: NextRequest): string {\n  const forwarded = request.headers.get('x-forwarded-for');\n  if (forwarded) {\n    const parts = forwarded.split(',');\n    return parts.length > 0 ? parts[0].trim() : 'unknown';\n  }\n  return request.headers.get('x-real-ip') || 'unknown';\n}\n\nexport async function GET(request: NextRequest)",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/quality-scores/route.ts",
        "start": 22,
        "end": 33,
        "startLoc": {
          "line": 22,
          "column": 2,
          "position": 208
        },
        "endLoc": {
          "line": 33,
          "column": 2,
          "position": 330
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/test-results/route.ts",
        "start": 15,
        "end": 27,
        "startLoc": {
          "line": 15,
          "column": 4,
          "position": 120
        },
        "endLoc": {
          "line": 27,
          "column": 2,
          "position": 244
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ") {\n  try {\n    // Rate limiting\n    const rateLimitResult = await checkFeedbackRateLimit(request);\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: rateLimitResult.reason || 'Rate limit exceeded' },\n        { status: 429, headers: { 'Retry-After': '60' } }\n      );\n    }\n\n    const { searchParams",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/quality-scores/route.ts",
        "start": 33,
        "end": 44,
        "startLoc": {
          "line": 33,
          "column": 12,
          "position": 330
        },
        "endLoc": {
          "line": 44,
          "column": 13,
          "position": 430
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/test-results/route.ts",
        "start": 29,
        "end": 40,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 273
        },
        "endLoc": {
          "line": 40,
          "column": 3,
          "position": 373
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await req.json();\n    const data = historySchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/history/route.ts",
        "start": 26,
        "end": 36,
        "startLoc": {
          "line": 26,
          "column": 19,
          "position": 233
        },
        "endLoc": {
          "line": 36,
          "column": 14,
          "position": 340
        }
      },
      "secondFile": {
        "name": "src/app/api/user/onboarding/route.ts",
        "start": 17,
        "end": 27,
        "startLoc": {
          "line": 17,
          "column": 17,
          "position": 142
        },
        "endLoc": {
          "line": 27,
          "column": 17,
          "position": 249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/history/route.ts",
        "start": 73,
        "end": 82,
        "startLoc": {
          "line": 73,
          "column": 3,
          "position": 655
        },
        "endLoc": {
          "line": 82,
          "column": 2,
          "position": 753
        }
      },
      "secondFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 20,
        "end": 26,
        "startLoc": {
          "line": 20,
          "column": 3,
          "position": 120
        },
        "endLoc": {
          "line": 26,
          "column": 5,
          "position": 229
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const rbacCheck = await RBACPresets.requirePromptWrite()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await req.json();\n    const data = favoriteSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/favorites/route.ts",
        "start": 21,
        "end": 31,
        "startLoc": {
          "line": 21,
          "column": 3,
          "position": 159
        },
        "endLoc": {
          "line": 31,
          "column": 15,
          "position": 277
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/history/route.ts",
        "start": 26,
        "end": 27,
        "startLoc": {
          "line": 26,
          "column": 3,
          "position": 222
        },
        "endLoc": {
          "line": 27,
          "column": 17,
          "position": 249
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const db = await getMongoDb();\n\n    // Query is user-scoped (filtered by userId) - no organizationId needed",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/favorites/route.ts",
        "start": 68,
        "end": 79,
        "startLoc": {
          "line": 68,
          "column": 3,
          "position": 578
        },
        "endLoc": {
          "line": 79,
          "column": 72,
          "position": 689
        }
      },
      "secondFile": {
        "name": "src/app/api/user/stats/route.ts",
        "start": 16,
        "end": 26,
        "startLoc": {
          "line": 16,
          "column": 3,
          "position": 118
        },
        "endLoc": {
          "line": 26,
          "column": 6,
          "position": 228
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const rbacCheck = await RBACPresets.requirePromptWrite()(req);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const { searchParams } = new URL(req.url);\n    const promptId",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/favorites/route.ts",
        "start": 102,
        "end": 112,
        "startLoc": {
          "line": 102,
          "column": 3,
          "position": 884
        },
        "endLoc": {
          "line": 112,
          "column": 9,
          "position": 1003
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/history/route.ts",
        "start": 26,
        "end": 83,
        "startLoc": {
          "line": 26,
          "column": 3,
          "position": 222
        },
        "endLoc": {
          "line": 83,
          "column": 6,
          "position": 774
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ",\n      },\n      ipAddress: request.headers.get('x-forwarded-for')?.split(',')[0]?.trim() || request.headers.get('x-real-ip') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n      success: true,\n    });\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/audit/route.ts",
        "start": 158,
        "end": 165,
        "startLoc": {
          "line": 158,
          "column": 13,
          "position": 867
        },
        "endLoc": {
          "line": 165,
          "column": 7,
          "position": 948
        }
      },
      "secondFile": {
        "name": "src/app/api/webhooks/gamification/route.ts",
        "start": 99,
        "end": 106,
        "startLoc": {
          "line": 99,
          "column": 9,
          "position": 726
        },
        "endLoc": {
          "line": 106,
          "column": 7,
          "position": 807
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(\n  request: NextRequest,\n  { params }: { params: Promise<{ id: string }> }\n) {\n  // RBAC: prompts:write permission required\n  const rbacCheck = await RBACPresets.requirePromptWrite()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const { id } = await params;\n    const session",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/[id]/route.ts",
        "start": 205,
        "end": 215,
        "startLoc": {
          "line": 205,
          "column": 7,
          "position": 1611
        },
        "endLoc": {
          "line": 215,
          "column": 8,
          "position": 1710
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/route.ts",
        "start": 114,
        "end": 124,
        "startLoc": {
          "line": 114,
          "column": 6,
          "position": 871
        },
        "endLoc": {
          "line": 124,
          "column": 5,
          "position": 970
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ";\n    const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const db = await getMongoDb();\n    const collection = db.collection('prompts');\n\n    // User- and org-scoped delete: restrict to documents owned by the user in their org",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/prompts/[id]/route.ts",
        "start": 214,
        "end": 223,
        "startLoc": {
          "line": 214,
          "column": 7,
          "position": 1705
        },
        "endLoc": {
          "line": 223,
          "column": 85,
          "position": 1800
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/route.ts",
        "start": 124,
        "end": 134,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 981
        },
        "endLoc": {
          "line": 134,
          "column": 24,
          "position": 1077
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ") {\n  // Authentication required\n  const authResult = await requireAuth(request);\n  if ('error' in authResult) {\n    return authResult.error;\n  }\n  const { user } = authResult;\n\n  // Role check: manager, director, or higher\n  const allowedRoles = ['manager', 'director', 'enterprise_admin', 'super_admin'];\n  if (!user.role || !allowedRoles.includes(user.role)) {\n    return NextResponse.json(\n      { error: 'Forbidden - Manager role required' },\n      { status: 403 }\n    );\n  }\n\n  // Rate limiting: 30 requests per minute",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/manager/dashboard/route.ts",
        "start": 21,
        "end": 38,
        "startLoc": {
          "line": 21,
          "column": 12,
          "position": 96
        },
        "endLoc": {
          "line": 38,
          "column": 41,
          "position": 243
        }
      },
      "secondFile": {
        "name": "src/app/api/manager/team/[teamId]/route.ts",
        "start": 25,
        "end": 42,
        "startLoc": {
          "line": 25,
          "column": 1,
          "position": 129
        },
        "endLoc": {
          "line": 42,
          "column": 67,
          "position": 276
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\nimport { getDb } from '@/lib/mongodb';\nimport { verifyCronRequest } from '@/lib/auth/verify-cron';\n\nexport const dynamic = 'force-dynamic';\nexport const runtime = 'nodejs';\n\nexport async function POST(request: NextRequest) {\n  // Verify this is a scheduled job\n  const authError = await verifyCronRequest(request);\n  if (authError) return authError;\n\n  try {\n    const cleanupStats",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/jobs/cleanup/route.ts",
        "start": 11,
        "end": 24,
        "startLoc": {
          "line": 11,
          "column": 28,
          "position": 43
        },
        "endLoc": {
          "line": 24,
          "column": 13,
          "position": 150
        }
      },
      "secondFile": {
        "name": "src/app/api/jobs/daily-usage-report/route.ts",
        "start": 11,
        "end": 26,
        "startLoc": {
          "line": 11,
          "column": 36,
          "position": 43
        },
        "endLoc": {
          "line": 26,
          "column": 3,
          "position": 176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\nimport { verifyCronRequest } from '@/lib/auth/verify-cron';\n\nexport const dynamic = 'force-dynamic';\nexport const runtime = 'nodejs';\n\nexport async function POST(request: NextRequest) {\n  // Verify this is a scheduled job\n  const authError = await verifyCronRequest(request);\n  if (authError) return authError;\n\n  try {\n    const db = await getDb();\n\n    // Get all active alerts",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/jobs/check-usage-alerts/route.ts",
        "start": 14,
        "end": 28,
        "startLoc": {
          "line": 14,
          "column": 35,
          "position": 84
        },
        "endLoc": {
          "line": 28,
          "column": 25,
          "position": 191
        }
      },
      "secondFile": {
        "name": "src/app/api/jobs/weekly-digest/route.ts",
        "start": 14,
        "end": 28,
        "startLoc": {
          "line": 14,
          "column": 36,
          "position": 82
        },
        "endLoc": {
          "line": 28,
          "column": 69,
          "position": 189
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const rbacCheck = await RBACPresets.requireUserWrite()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const body = await request.json();\n    const validated = connectSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/jira/connect/route.ts",
        "start": 24,
        "end": 35,
        "startLoc": {
          "line": 24,
          "column": 3,
          "position": 188
        },
        "endLoc": {
          "line": 35,
          "column": 14,
          "position": 310
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/route.ts",
        "start": 61,
        "end": 72,
        "startLoc": {
          "line": 61,
          "column": 3,
          "position": 544
        },
        "endLoc": {
          "line": 72,
          "column": 16,
          "position": 666
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const isConnected",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/jira/connect/route.ts",
        "start": 109,
        "end": 119,
        "startLoc": {
          "line": 109,
          "column": 3,
          "position": 823
        },
        "endLoc": {
          "line": 119,
          "column": 12,
          "position": 925
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/usage/route.ts",
        "start": 28,
        "end": 38,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 237
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 339
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(request: NextRequest) {\n  const rbacCheck = await RBACPresets.requireUserWrite()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const disconnected",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/jira/connect/route.ts",
        "start": 139,
        "end": 150,
        "startLoc": {
          "line": 139,
          "column": 7,
          "position": 1065
        },
        "endLoc": {
          "line": 150,
          "column": 13,
          "position": 1177
        }
      },
      "secondFile": {
        "name": "src/app/api/jira/connect/route.ts",
        "start": 23,
        "end": 38,
        "startLoc": {
          "line": 23,
          "column": 5,
          "position": 178
        },
        "endLoc": {
          "line": 38,
          "column": 2,
          "position": 339
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Get GitHub access token",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/github/repos/route.ts",
        "start": 22,
        "end": 31,
        "startLoc": {
          "line": 22,
          "column": 3,
          "position": 117
        },
        "endLoc": {
          "line": 31,
          "column": 27,
          "position": 213
        }
      },
      "secondFile": {
        "name": "src/app/api/user/stats/route.ts",
        "start": 16,
        "end": 25,
        "startLoc": {
          "line": 16,
          "column": 3,
          "position": 118
        },
        "endLoc": {
          "line": 25,
          "column": 6,
          "position": 214
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "(request: NextRequest) {\n  // RBAC: users:read permission (users read their own GitHub repos)\n  const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Get GitHub access token\n    const accessToken = await githubConnectionService.getAccessToken(\n      session.user.id\n    );\n    if (!accessToken) {\n      return NextResponse.json(\n        { error: 'GitHub not connected' },\n        { status: 400 }\n      );\n    }\n\n    // Parse request body",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/github/code-context/route.ts",
        "start": 21,
        "end": 43,
        "startLoc": {
          "line": 21,
          "column": 5,
          "position": 120
        },
        "endLoc": {
          "line": 43,
          "column": 22,
          "position": 304
        }
      },
      "secondFile": {
        "name": "src/app/api/github/repos/route.ts",
        "start": 20,
        "end": 42,
        "startLoc": {
          "line": 20,
          "column": 4,
          "position": 104
        },
        "endLoc": {
          "line": 42,
          "column": 24,
          "position": 288
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const rbacCheck = await RBACPresets.requireUserRead()(request);\n  if (rbacCheck) return rbacCheck;\n\n  try {\n    const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'Unauthorized' },\n        { status: 401 }\n      );\n    }\n\n    // Rate limiting (100 requests per hour for authenticated users)",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/gamification/stats/route.ts",
        "start": 26,
        "end": 38,
        "startLoc": {
          "line": 26,
          "column": 3,
          "position": 132
        },
        "endLoc": {
          "line": 38,
          "column": 65,
          "position": 236
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/usage/route.ts",
        "start": 28,
        "end": 38,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 237
        },
        "endLoc": {
          "line": 38,
          "column": 6,
          "position": 337
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "function getClientIP(request: NextRequest): string {\n  const forwarded = request.headers.get('x-forwarded-for');\n  if (forwarded) {\n    const parts = forwarded.split(',');\n    return parts.length > 0 ? parts[0].trim() : 'unknown';\n  }\n  return request.headers.get('x-real-ip') || 'unknown';\n}\n\n// Helper to get user agent from NextRequest",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/feedback/rating/route.ts",
        "start": 20,
        "end": 29,
        "startLoc": {
          "line": 20,
          "column": 1,
          "position": 115
        },
        "endLoc": {
          "line": 29,
          "column": 45,
          "position": 221
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/test-results/route.ts",
        "start": 17,
        "end": 26,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 124
        },
        "endLoc": {
          "line": 26,
          "column": 7,
          "position": 230
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "export async function POST(request: NextRequest) {\n  try {\n    // Check rate limit\n    const rateLimitResult = await checkFeedbackRateLimit(request);\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: rateLimitResult.reason || 'Rate limit exceeded' },\n        { status: 429, headers: { 'Retry-After': '60' } }\n      );\n    }\n    \n    const session = await auth();\n    const body = await request.json();\n    \n    // Validate input",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/feedback/quick/route.ts",
        "start": 17,
        "end": 31,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 78
        },
        "endLoc": {
          "line": 31,
          "column": 18,
          "position": 219
        }
      },
      "secondFile": {
        "name": "src/app/api/feedback/rating/route.ts",
        "start": 34,
        "end": 48,
        "startLoc": {
          "line": 34,
          "column": 1,
          "position": 258
        },
        "endLoc": {
          "line": 48,
          "column": 41,
          "position": 399
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ";\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Check rate limit\n    const rateLimitResult = await checkFeedbackRateLimit(request);\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: rateLimitResult.reason || 'Rate limit exceeded' },\n        { status: 429, headers: { 'Retry-After': '60' } }\n      );\n    }\n    \n    const session = await auth();\n    const body = await request.json();\n    \n    // Validate input\n    const validatedData = ArticleFeedbackSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/feedback/article/route.ts",
        "start": 24,
        "end": 41,
        "startLoc": {
          "line": 24,
          "column": 2,
          "position": 187
        },
        "endLoc": {
          "line": 41,
          "column": 22,
          "position": 340
        }
      },
      "secondFile": {
        "name": "src/app/api/feedback/quick/route.ts",
        "start": 15,
        "end": 32,
        "startLoc": {
          "line": 15,
          "column": 37,
          "position": 75
        },
        "endLoc": {
          "line": 32,
          "column": 20,
          "position": 228
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}`;\n          const result = await warmPage(url);\n          results.stats.total++;\n          \n          if (result.success) {\n            results.stats.success++;\n            results.warmed.push(url);\n          } else {\n            results.stats.failed++;\n            results.failed.push(url);\n          }\n          \n          results.stats.totalDuration += result.duration;\n          \n          // Small delay between requests",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/cron/warm-isr-cache/route.ts",
        "start": 263,
        "end": 277,
        "startLoc": {
          "line": 263,
          "column": 2,
          "position": 2018
        },
        "endLoc": {
          "line": 277,
          "column": 32,
          "position": 2128
        }
      },
      "secondFile": {
        "name": "src/app/api/cron/warm-isr-cache/route.ts",
        "start": 224,
        "end": 239,
        "startLoc": {
          "line": 224,
          "column": 5,
          "position": 1690
        },
        "endLoc": {
          "line": 239,
          "column": 55,
          "position": 1802
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "}`;\n        const result = await warmPage(url);\n        results.stats.total++;\n        \n        if (result.success) {\n          results.stats.success++;\n          results.warmed.push(url);\n        } else {\n          results.stats.failed++;\n          results.failed.push(url);\n        }\n        \n        results.stats.totalDuration += result.duration;\n        \n        await",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/cron/warm-isr-cache/route.ts",
        "start": 316,
        "end": 330,
        "startLoc": {
          "line": 316,
          "column": 5,
          "position": 2400
        },
        "endLoc": {
          "line": 330,
          "column": 6,
          "position": 2510
        }
      },
      "secondFile": {
        "name": "src/app/api/cron/warm-isr-cache/route.ts",
        "start": 224,
        "end": 239,
        "startLoc": {
          "line": 224,
          "column": 5,
          "position": 1690
        },
        "endLoc": {
          "line": 239,
          "column": 55,
          "position": 1802
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ", {\n      error: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n    });\n\n    return NextResponse.json(\n      {\n        success: false,\n        error: error instanceof Error ? error.message : 'Unknown error',\n        timestamp: new Date().toISOString(),\n      },\n      { status: 500 }\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/cron/update-stats/route.ts",
        "start": 53,
        "end": 67,
        "startLoc": {
          "line": 53,
          "column": 22,
          "position": 407
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 537
        }
      },
      "secondFile": {
        "name": "src/app/api/webhooks/content-updated/route.ts",
        "start": 139,
        "end": 153,
        "startLoc": {
          "line": 139,
          "column": 32,
          "position": 1108
        },
        "endLoc": {
          "line": 153,
          "column": 2,
          "position": 1238
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ");\n\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Validation error', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    return NextResponse.json(\n      { error: 'Internal server error' },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * GET /api/content/publish/agents\n * Get list of publishing agents\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/content/publish/route.ts",
        "start": 87,
        "end": 106,
        "startLoc": {
          "line": 87,
          "column": 2,
          "position": 737
        },
        "endLoc": {
          "line": 106,
          "column": 4,
          "position": 840
        }
      },
      "secondFile": {
        "name": "src/app/api/content/review/route.ts",
        "start": 123,
        "end": 142,
        "startLoc": {
          "line": 123,
          "column": 6,
          "position": 1003
        },
        "endLoc": {
          "line": 142,
          "column": 4,
          "position": 1106
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "const rateLimitResult = await checkRateLimit(\n      session.user.id,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        {\n          error: 'Rate limit exceeded',\n          reason: rateLimitResult.reason,\n        },\n        {\n          status: 429,\n          headers: {\n            'Retry-After': '60',\n            'X-RateLimit-Remaining': '0',\n            'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n          },\n        }\n      );\n    }\n\n    // Get recommendations from service",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/career/recommendations/route.ts",
        "start": 22,
        "end": 43,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 175
        },
        "endLoc": {
          "line": 43,
          "column": 36,
          "position": 303
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/audit/route.ts",
        "start": 30,
        "end": 51,
        "startLoc": {
          "line": 30,
          "column": 5,
          "position": 238
        },
        "endLoc": {
          "line": 51,
          "column": 18,
          "position": 366
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ",\n};\n\nexport async function POST(request: NextRequest) {\n  try {\n    // Rate limiting by IP or fallback to user agent\n    const identifier = request.headers.get('x-forwarded-for') || \n                       request.headers.get('x-real-ip') || \n                       request.headers.get('user-agent') || \n                       'unknown';\n    const rateLimitResult = await checkOAuthRateLimit('obo'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/obo-exchange/route.ts",
        "start": 16,
        "end": 26,
        "startLoc": {
          "line": 16,
          "column": 25,
          "position": 129
        },
        "endLoc": {
          "line": 26,
          "column": 6,
          "position": 219
        }
      },
      "secondFile": {
        "name": "src/app/api/mcp-auth/token/route.ts",
        "start": 17,
        "end": 27,
        "startLoc": {
          "line": 17,
          "column": 23,
          "position": 149
        },
        "endLoc": {
          "line": 27,
          "column": 8,
          "position": 239
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "export async function GET(request: NextRequest) {\n  try {\n    // Rate limiting by IP or fallback to user agent\n    const identifier = request.headers.get('x-forwarded-for') || \n                       request.headers.get('x-real-ip') || \n                       request.headers.get('user-agent') || \n                       'unknown';\n    const rateLimitResult = await checkOAuthRateLimit('jwks'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/auth/jwks/route.ts",
        "start": 26,
        "end": 33,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 155
        },
        "endLoc": {
          "line": 33,
          "column": 7,
          "position": 239
        }
      },
      "secondFile": {
        "name": "src/app/api/mcp-auth/authorize/route.ts",
        "start": 14,
        "end": 21,
        "startLoc": {
          "line": 14,
          "column": 1,
          "position": 97
        },
        "endLoc": {
          "line": 21,
          "column": 12,
          "position": 181
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "{\n    const guard = await RBACPresets.requireSuperAdmin()(request);\n    if (guard) {\n      return guard;\n    }\n\n    const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/agents/creator/route.ts",
        "start": 129,
        "end": 140,
        "startLoc": {
          "line": 129,
          "column": 2,
          "position": 1065
        },
        "endLoc": {
          "line": 140,
          "column": 6,
          "position": 1168
        }
      },
      "secondFile": {
        "name": "src/app/api/observability/metrics/route.ts",
        "start": 11,
        "end": 22,
        "startLoc": {
          "line": 11,
          "column": 2,
          "position": 79
        },
        "endLoc": {
          "line": 22,
          "column": 4,
          "position": 182
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ").optional(),\n});\n\nfunction buildRateLimitHeaders(result: RateLimitResult) {\n  return {\n    'Retry-After': '60',\n    'X-RateLimit-Remaining': Math.max(result.remaining, 0).toString(),\n    'X-RateLimit-Reset': result.resetAt.toISOString(),\n  };\n}\n\nasync function enforceRateLimit(request: NextRequest) {\n  const identifier = getClientIp(request);\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/affiliate/click/route.ts",
        "start": 26,
        "end": 39,
        "startLoc": {
          "line": 26,
          "column": 2,
          "position": 207
        },
        "endLoc": {
          "line": 39,
          "column": 6,
          "position": 312
        }
      },
      "secondFile": {
        "name": "src/app/api/analytics/track/route.ts",
        "start": 21,
        "end": 33,
        "startLoc": {
          "line": 21,
          "column": 2,
          "position": 140
        },
        "endLoc": {
          "line": 33,
          "column": 27,
          "position": 244
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "const result = await checkRateLimit(identifier, 'anonymous');\n  if (!result.allowed) {\n    return NextResponse.json(\n      {\n        error: result.reason ?? 'Rate limit exceeded',\n      },\n      {\n        status: 429,\n        headers: buildRateLimitHeaders(result),\n      }\n    );\n  }\n  return null;\n}\n\nexport async function POST(req: NextRequest) {\n  try {\n    const rateLimitResponse = await enforceRateLimit(req);\n    if (rateLimitResponse) return rateLimitResponse;\n\n    const body = await req.json();\n    const data = clickSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/affiliate/click/route.ts",
        "start": 39,
        "end": 60,
        "startLoc": {
          "line": 39,
          "column": 3,
          "position": 312
        },
        "endLoc": {
          "line": 60,
          "column": 12,
          "position": 481
        }
      },
      "secondFile": {
        "name": "src/app/api/analytics/track/route.ts",
        "start": 34,
        "end": 55,
        "startLoc": {
          "line": 34,
          "column": 3,
          "position": 247
        },
        "endLoc": {
          "line": 55,
          "column": 12,
          "position": 416
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { ObjectId } from 'mongodb';\nimport { auth } from '@/lib/auth';\nimport { getDb } from '@/lib/mongodb';\nimport { checkRateLimit } from '@/lib/rate-limit';\nimport { logger } from '@/lib/logging/logger';\nimport { auditLog } from '@/lib/logging/audit';\nimport { sanitizeText } from '@/lib/security/sanitize';\n\n/**\n * User Management API\n * CRUD operations for user accounts in OpsHub\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { email",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 75,
        "end": 86,
        "startLoc": {
          "line": 75,
          "column": 14,
          "position": 751
        },
        "endLoc": {
          "line": 86,
          "column": 6,
          "position": 843
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 91,
          "column": 5,
          "position": 955
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { _id, name",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 175,
        "end": 186,
        "startLoc": {
          "line": 175,
          "column": 14,
          "position": 1607
        },
        "endLoc": {
          "line": 186,
          "column": 5,
          "position": 1702
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 180,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 180,
          "column": 5,
          "position": 1777
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      modified: result.modifiedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/users'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 227,
        "end": 238,
        "startLoc": {
          "line": 227,
          "column": 2,
          "position": 2092
        },
        "endLoc": {
          "line": 238,
          "column": 19,
          "position": 2186
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 234,
        "end": 245,
        "startLoc": {
          "line": 234,
          "column": 6,
          "position": 2310
        },
        "endLoc": {
          "line": 245,
          "column": 28,
          "position": 2404
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        { error: 'Missing user ID'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 262,
        "end": 277,
        "startLoc": {
          "line": 262,
          "column": 14,
          "position": 2388
        },
        "endLoc": {
          "line": 277,
          "column": 18,
          "position": 2520
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 269,
        "end": 284,
        "startLoc": {
          "line": 269,
          "column": 17,
          "position": 2612
        },
        "endLoc": {
          "line": 284,
          "column": 21,
          "position": 2744
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "|| 'Unknown',\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      deleted: result.deletedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/users'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 315,
        "end": 326,
        "startLoc": {
          "line": 315,
          "column": 2,
          "position": 2825
        },
        "endLoc": {
          "line": 326,
          "column": 19,
          "position": 2922
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 312,
        "end": 323,
        "startLoc": {
          "line": 312,
          "column": 2,
          "position": 2989
        },
        "endLoc": {
          "line": 323,
          "column": 28,
          "position": 3086
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { ObjectId } from 'mongodb';\nimport { auth } from '@/lib/auth';\nimport { getDb } from '@/lib/mongodb';\nimport { checkRateLimit } from '@/lib/rate-limit';\nimport { logger } from '@/lib/logging/logger';\nimport { auditLog } from '@/lib/logging/audit';\nimport { sanitizeText } from '@/lib/security/sanitize';\n\n/**\n * System Settings Management API\n * CRUD operations for system-wide configuration settings\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "if (!['admin', 'super_admin', 'org_admin'].includes(role)) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 403 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const category",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 22,
        "end": 27,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 191
        },
        "endLoc": {
          "line": 27,
          "column": 9,
          "position": 269
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 22,
        "end": 27,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 191
        },
        "endLoc": {
          "line": 27,
          "column": 11,
          "position": 269
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { key",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 74,
        "end": 85,
        "startLoc": {
          "line": 74,
          "column": 17,
          "position": 689
        },
        "endLoc": {
          "line": 85,
          "column": 4,
          "position": 781
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 91,
          "column": 5,
          "position": 955
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { _id, value",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 164,
        "end": 175,
        "startLoc": {
          "line": 164,
          "column": 17,
          "position": 1471
        },
        "endLoc": {
          "line": 175,
          "column": 6,
          "position": 1566
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 180,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 180,
          "column": 5,
          "position": 1777
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ": _id,\n        updatedFields: Object.keys(updateData),\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      modified: result.modifiedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/system-settings'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 213,
        "end": 225,
        "startLoc": {
          "line": 213,
          "column": 10,
          "position": 1904
        },
        "endLoc": {
          "line": 225,
          "column": 29,
          "position": 2013
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 226,
        "end": 245,
        "startLoc": {
          "line": 226,
          "column": 7,
          "position": 2077
        },
        "endLoc": {
          "line": 245,
          "column": 28,
          "position": 2404
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        { error: 'Missing setting ID'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 249,
        "end": 264,
        "startLoc": {
          "line": 249,
          "column": 17,
          "position": 2215
        },
        "endLoc": {
          "line": 264,
          "column": 21,
          "position": 2347
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 269,
        "end": 284,
        "startLoc": {
          "line": 269,
          "column": 17,
          "position": 2612
        },
        "endLoc": {
          "line": 284,
          "column": 21,
          "position": 2744
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "|| 'Unknown',\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      deleted: result.deletedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/system-settings'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/system-settings/route.ts",
        "start": 293,
        "end": 304,
        "startLoc": {
          "line": 293,
          "column": 2,
          "position": 2578
        },
        "endLoc": {
          "line": 304,
          "column": 29,
          "position": 2675
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 312,
        "end": 323,
        "startLoc": {
          "line": 312,
          "column": 2,
          "position": 2989
        },
        "endLoc": {
          "line": 323,
          "column": 28,
          "position": 3086
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    // Feature flags status",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/settings/route.ts",
        "start": 13,
        "end": 23,
        "startLoc": {
          "line": 13,
          "column": 4,
          "position": 92
        },
        "endLoc": {
          "line": 23,
          "column": 24,
          "position": 201
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 174,
        "startLoc": {
          "line": 164,
          "column": 5,
          "position": 988
        },
        "endLoc": {
          "line": 174,
          "column": 6,
          "position": 1097
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "if (!['admin', 'super_admin', 'org_admin'].includes(role)) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 403 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const category = searchParams.get('category');\n    const active",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 70,
        "end": 76,
        "startLoc": {
          "line": 70,
          "column": 5,
          "position": 519
        },
        "endLoc": {
          "line": 76,
          "column": 7,
          "position": 612
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 22,
        "end": 29,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 191
        },
        "endLoc": {
          "line": 29,
          "column": 3,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n\n    // Zod validation",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 178,
        "end": 190,
        "startLoc": {
          "line": 178,
          "column": 16,
          "position": 1563
        },
        "endLoc": {
          "line": 190,
          "column": 18,
          "position": 1652
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 91,
          "column": 6,
          "position": 951
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ") {\n  try {\n    const session = await auth();\n    const role = (session?.user as { role?: string } | null)?.role || 'user';\n\n    // RBAC: Only admins can update prompts\n    if (!['admin', 'super_admin', 'org_admin'].includes(role)) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 403 });\n    }\n\n    // Rate limiting\n    const rateLimitResult = await checkRateLimit(\n      `prompt-update-",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 308,
        "end": 320,
        "startLoc": {
          "line": 308,
          "column": 12,
          "position": 2871
        },
        "endLoc": {
          "line": 320,
          "column": 16,
          "position": 3007
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 17,
        "end": 29,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 137
        },
        "endLoc": {
          "line": 29,
          "column": 15,
          "position": 273
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { _id, ...",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 320,
        "end": 331,
        "startLoc": {
          "line": 320,
          "column": 16,
          "position": 3008
        },
        "endLoc": {
          "line": 331,
          "column": 4,
          "position": 3103
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 180,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 180,
          "column": 5,
          "position": 1777
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "}\n    );\n\n    if (result.matchedCount === 0) {\n      return NextResponse.json({ error: 'Prompt not found' }, { status: 404 });\n    }\n\n    // Audit log\n    await auditLog({\n      userId: session?.user?.email || 'unknown',\n      action: 'admin_action',\n      resource: `prompt:${_id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 427,
        "end": 438,
        "startLoc": {
          "line": 427,
          "column": 2,
          "position": 3939
        },
        "endLoc": {
          "line": 438,
          "column": 4,
          "position": 4033
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 73,
        "end": 84,
        "startLoc": {
          "line": 73,
          "column": 2,
          "position": 746
        },
        "endLoc": {
          "line": 84,
          "column": 3,
          "position": 840
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const _id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 473,
        "end": 484,
        "startLoc": {
          "line": 473,
          "column": 16,
          "position": 4372
        },
        "endLoc": {
          "line": 484,
          "column": 4,
          "position": 4467
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 269,
        "end": 280,
        "startLoc": {
          "line": 269,
          "column": 17,
          "position": 2612
        },
        "endLoc": {
          "line": 280,
          "column": 3,
          "position": 2707
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": ";\n\n    if (!_id) {\n      return NextResponse.json(\n        { error: 'Missing prompt _id' },\n        { status: 400 }\n      );\n    }\n\n    // Validate ObjectId\n    if (!ObjectId.isValid(_id)) {\n      return NextResponse.json({ error: 'Invalid prompt ID' }, { status: 400 });\n    }\n\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 484,
        "end": 498,
        "startLoc": {
          "line": 484,
          "column": 2,
          "position": 4477
        },
        "endLoc": {
          "line": 498,
          "column": 6,
          "position": 4578
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 331,
        "end": 345,
        "startLoc": {
          "line": 331,
          "column": 5,
          "position": 3111
        },
        "endLoc": {
          "line": 345,
          "column": 34,
          "position": 3212
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "=== 0) {\n      return NextResponse.json({ error: 'Prompt not found' }, { status: 404 });\n    }\n\n    // Audit log\n    await auditLog({\n      userId: session?.user?.email || 'unknown',\n      action: 'admin_action',\n      resource: `prompt:${_id}`,\n      details: { action: 'delete'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 503,
        "end": 512,
        "startLoc": {
          "line": 503,
          "column": 2,
          "position": 4645
        },
        "endLoc": {
          "line": 512,
          "column": 9,
          "position": 4738
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/route.ts",
        "start": 430,
        "end": 439,
        "startLoc": {
          "line": 430,
          "column": 2,
          "position": 3954
        },
        "endLoc": {
          "line": 439,
          "column": 9,
          "position": 4047
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "import { NextRequest, NextResponse } from 'next/server';\nimport { ObjectId } from 'mongodb';\nimport { auth } from '@/lib/auth';\nimport { getDb } from '@/lib/mongodb';\nimport { checkRateLimit } from '@/lib/rate-limit';\nimport { logger } from '@/lib/logging/logger';\nimport { auditLog } from '@/lib/logging/audit';\nimport { sanitizeText } from '@/lib/security/sanitize';\n\n/**\n * Pattern Management API\n * CRUD operations for prompt engineering patterns in OpsHub\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/prompts/[id]/route.ts",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 4,
          "position": 108
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "if (!['admin', 'super_admin', 'org_admin'].includes(role)) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 403 });\n    }\n\n    const { searchParams } = new URL(request.url);\n    const category = searchParams.get('category');\n    const level",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 22,
        "end": 28,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 191
        },
        "endLoc": {
          "line": 28,
          "column": 6,
          "position": 284
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 22,
        "end": 29,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 191
        },
        "endLoc": {
          "line": 29,
          "column": 3,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 73,
        "end": 84,
        "startLoc": {
          "line": 73,
          "column": 17,
          "position": 732
        },
        "endLoc": {
          "line": 84,
          "column": 3,
          "position": 824
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 91,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 91,
          "column": 5,
          "position": 955
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const body = await request.json();\n    const { _id, name, category",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 166,
        "end": 177,
        "startLoc": {
          "line": 166,
          "column": 17,
          "position": 1557
        },
        "endLoc": {
          "line": 177,
          "column": 9,
          "position": 1655
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 80,
        "end": 186,
        "startLoc": {
          "line": 80,
          "column": 17,
          "position": 863
        },
        "endLoc": {
          "line": 186,
          "column": 5,
          "position": 1705
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      modified: result.modifiedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/patterns'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 221,
        "end": 232,
        "startLoc": {
          "line": 221,
          "column": 5,
          "position": 2099
        },
        "endLoc": {
          "line": 232,
          "column": 22,
          "position": 2193
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 234,
        "end": 245,
        "startLoc": {
          "line": 234,
          "column": 6,
          "position": 2310
        },
        "endLoc": {
          "line": 245,
          "column": 28,
          "position": 2404
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "${session?.user?.email || 'unknown'}`,\n      'authenticated'\n    );\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: 'Rate limit exceeded' },\n        { status: 429 }\n      );\n    }\n\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        { error: 'Missing pattern ID'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 256,
        "end": 271,
        "startLoc": {
          "line": 256,
          "column": 17,
          "position": 2395
        },
        "endLoc": {
          "line": 271,
          "column": 21,
          "position": 2527
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/manage/route.ts",
        "start": 269,
        "end": 284,
        "startLoc": {
          "line": 269,
          "column": 17,
          "position": 2612
        },
        "endLoc": {
          "line": 284,
          "column": 21,
          "position": 2744
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "=== 0) {\n      return NextResponse.json(\n        { error: 'Pattern not found' },\n        { status: 404 }\n      );\n    }\n\n    // Audit log\n    await auditLog({\n      userId: session?.user?.email || 'unknown',\n      action: 'admin_action',\n      resource: 'patterns',\n      details: {\n        patternId: id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 286,
        "end": 299,
        "startLoc": {
          "line": 286,
          "column": 2,
          "position": 2657
        },
        "endLoc": {
          "line": 299,
          "column": 3,
          "position": 2752
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 207,
        "end": 220,
        "startLoc": {
          "line": 207,
          "column": 2,
          "position": 1999
        },
        "endLoc": {
          "line": 220,
          "column": 4,
          "position": 2094
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ".name || 'Unknown',\n      },\n      ipAddress: request.headers.get('x-forwarded-for') || 'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      deleted: result.deletedCount,\n    });\n  } catch (error) {\n    logger.apiError('/api/admin/patterns'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/patterns/route.ts",
        "start": 300,
        "end": 311,
        "startLoc": {
          "line": 300,
          "column": 2,
          "position": 2761
        },
        "endLoc": {
          "line": 311,
          "column": 22,
          "position": 2861
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/users/route.ts",
        "start": 315,
        "end": 323,
        "startLoc": {
          "line": 315,
          "column": 5,
          "position": 2822
        },
        "endLoc": {
          "line": 323,
          "column": 28,
          "position": 3086
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "// Create queue instance\n    const queue = new RedisMessageQueue(queueName, 'redis', {\n      name: queueName,\n      type: 'redis',\n      maxRetries: 3,\n      retryDelay: 1000,\n      visibilityTimeout: 30000,\n      batchSize: 10,\n      concurrency: 5,\n      enableDeadLetter: true,\n      enableMetrics: true,\n    });\n\n    switch",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/dlq/route.ts",
        "start": 116,
        "end": 129,
        "startLoc": {
          "line": 116,
          "column": 5,
          "position": 919
        },
        "endLoc": {
          "line": 129,
          "column": 7,
          "position": 1010
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/dlq/route.ts",
        "start": 36,
        "end": 49,
        "startLoc": {
          "line": 36,
          "column": 5,
          "position": 302
        },
        "endLoc": {
          "line": 49,
          "column": 28,
          "position": 393
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", 'authenticated');\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        {\n          success: false,\n          error: rateLimitResult.reason || 'Rate limit exceeded',\n        },\n        {\n          status: 429,\n          headers: {\n            'Retry-After': '60',\n            'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n          },\n        }\n      );\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/audit/route.ts",
        "start": 33,
        "end": 50,
        "startLoc": {
          "line": 33,
          "column": 7,
          "position": 452
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 559
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/review/route.ts",
        "start": 28,
        "end": 45,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 318
        },
        "endLoc": {
          "line": 45,
          "column": 5,
          "position": 425
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "export async function POST(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json();\n    \n    // Validate with Zod",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 61,
        "end": 73,
        "startLoc": {
          "line": 61,
          "column": 1,
          "position": 508
        },
        "endLoc": {
          "line": 73,
          "column": 21,
          "position": 642
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 24,
        "startLoc": {
          "line": 164,
          "column": 1,
          "position": 981
        },
        "endLoc": {
          "line": 24,
          "column": 6,
          "position": 217
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json();\n    const { id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 116,
        "end": 127,
        "startLoc": {
          "line": 116,
          "column": 6,
          "position": 1014
        },
        "endLoc": {
          "line": 127,
          "column": 3,
          "position": 1143
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 24,
        "startLoc": {
          "line": 164,
          "column": 5,
          "position": 988
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 221
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const existing = await aiToolService.findById(id);\n      if (!existing) {\n        return NextResponse.json(\n          { error: 'Tool not found' },\n          { status: 404 }\n        );\n      }\n\n      tool = await aiToolService.updateOne(existing._id!.toString(), {\n        ...",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 166,
        "end": 175,
        "startLoc": {
          "line": 166,
          "column": 7,
          "position": 1519
        },
        "endLoc": {
          "line": 175,
          "column": 4,
          "position": 1606
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 140,
        "end": 148,
        "startLoc": {
          "line": 140,
          "column": 7,
          "position": 1242
        },
        "endLoc": {
          "line": 148,
          "column": 7,
          "position": 1328
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 213,
        "end": 223,
        "startLoc": {
          "line": 213,
          "column": 7,
          "position": 1869
        },
        "endLoc": {
          "line": 223,
          "column": 2,
          "position": 1980
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 174,
        "startLoc": {
          "line": 164,
          "column": 5,
          "position": 988
        },
        "endLoc": {
          "line": 174,
          "column": 9,
          "position": 1099
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const { searchParams } = new URL(request.url);\n    const id",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 217,
        "end": 224,
        "startLoc": {
          "line": 217,
          "column": 3,
          "position": 1911
        },
        "endLoc": {
          "line": 224,
          "column": 3,
          "position": 2001
        }
      },
      "secondFile": {
        "name": "src/app/api/observability/metrics/route.ts",
        "start": 17,
        "end": 24,
        "startLoc": {
          "line": 17,
          "column": 3,
          "position": 120
        },
        "endLoc": {
          "line": 24,
          "column": 6,
          "position": 210
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "export async function POST(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json();\n    \n    // Validate with Zod\n    const validated = AIModelSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/route.ts",
        "start": 64,
        "end": 77,
        "startLoc": {
          "line": 64,
          "column": 1,
          "position": 554
        },
        "endLoc": {
          "line": 77,
          "column": 14,
          "position": 697
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-models/sync/replicate/route.ts",
        "start": 164,
        "end": 74,
        "startLoc": {
          "line": 164,
          "column": 1,
          "position": 981
        },
        "endLoc": {
          "line": 74,
          "column": 13,
          "position": 651
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "._id?.toString(),\n      },\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Validation error', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    console.error('Error creating/updating AI model:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/route.ts",
        "start": 98,
        "end": 109,
        "startLoc": {
          "line": 98,
          "column": 6,
          "position": 883
        },
        "endLoc": {
          "line": 109,
          "column": 36,
          "position": 977
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 96,
        "end": 107,
        "startLoc": {
          "line": 96,
          "column": 5,
          "position": 865
        },
        "endLoc": {
          "line": 107,
          "column": 35,
          "position": 959
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "export async function PATCH(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const body = await request.json();\n    const { id, action, ...updateData } = body;\n\n    if (!id) {\n      return NextResponse.json(\n        { error: 'Model ID required'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/route.ts",
        "start": 118,
        "end": 133,
        "startLoc": {
          "line": 118,
          "column": 1,
          "position": 1025
        },
        "endLoc": {
          "line": 133,
          "column": 20,
          "position": 1202
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 116,
        "end": 131,
        "startLoc": {
          "line": 116,
          "column": 1,
          "position": 1007
        },
        "endLoc": {
          "line": 131,
          "column": 19,
          "position": 1184
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "export async function DELETE(request: NextRequest) {\n  const r = await RBACPresets.requireSuperAdmin()(request);\n  if (r) return r;\n\n  const session = await auth();\n  if (!session?.user?.id) {\n    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n  }\n\n  try {\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n\n    if (!id) {\n      return NextResponse.json(\n        { error: 'Model ID required'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/ai-models/route.ts",
        "start": 194,
        "end": 209,
        "startLoc": {
          "line": 194,
          "column": 1,
          "position": 1666
        },
        "endLoc": {
          "line": 209,
          "column": 20,
          "position": 1842
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/ai-tools/route.ts",
        "start": 213,
        "end": 228,
        "startLoc": {
          "line": 213,
          "column": 1,
          "position": 1862
        },
        "endLoc": {
          "line": 228,
          "column": 19,
          "position": 2038
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "(request: NextRequest) {\n  try {\n    const session = await auth();\n\n    if (!session || session.user?.role !== 'super_admin') {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Rate limiting\n    const identifier = session.user?.id || request.headers.get('x-forwarded-for')?.split(',')[0] || 'unknown';\n    const rateLimitResult = await checkRateLimit(identifier, 'authenticated');\n\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json({ error: 'Too many requests' }, { status: 429 });\n    }\n\n    const body",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/affiliate-links/route.ts",
        "start": 114,
        "end": 130,
        "startLoc": {
          "line": 114,
          "column": 5,
          "position": 955
        },
        "endLoc": {
          "line": 130,
          "column": 5,
          "position": 1147
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/affiliate-links/route.ts",
        "start": 20,
        "end": 36,
        "startLoc": {
          "line": 20,
          "column": 4,
          "position": 142
        },
        "endLoc": {
          "line": 36,
          "column": 3,
          "position": 334
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "(request: NextRequest) {\n  try {\n    const session = await auth();\n\n    if (!session || session.user?.role !== 'super_admin') {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Rate limiting\n    const identifier = session.user?.id || request.headers.get('x-forwarded-for')?.split(',')[0] || 'unknown';\n    const rateLimitResult = await checkRateLimit(identifier, 'authenticated');\n\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json({ error: 'Too many requests' }, { status: 429 });\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/admin/affiliate-links/route.ts",
        "start": 227,
        "end": 243,
        "startLoc": {
          "line": 227,
          "column": 7,
          "position": 1886
        },
        "endLoc": {
          "line": 243,
          "column": 2,
          "position": 2078
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/affiliate-links/route.ts",
        "start": 20,
        "end": 36,
        "startLoc": {
          "line": 20,
          "column": 4,
          "position": 142
        },
        "endLoc": {
          "line": 36,
          "column": 3,
          "position": 334
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": ",\n        updatedAt: new Date(),\n      };\n\n      const result = await collection.findOneAndUpdate(\n        { _id: new ObjectId(id) },\n        { $set: updateData },\n        { returnDocument: 'after' }\n      );\n\n      return result || null;\n    } catch (error) {\n      console.error('Error updating prompt:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/repositories/mongodb/PromptRepository.ts",
        "start": 96,
        "end": 108,
        "startLoc": {
          "line": 96,
          "column": 11,
          "position": 617
        },
        "endLoc": {
          "line": 108,
          "column": 25,
          "position": 718
        }
      },
      "secondFile": {
        "name": "src/lib/repositories/mongodb/UserRepository.ts",
        "start": 91,
        "end": 103,
        "startLoc": {
          "line": 91,
          "column": 9,
          "position": 602
        },
        "endLoc": {
          "line": 103,
          "column": 23,
          "position": 703
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "async delete(id: string): Promise<boolean> {\n    try {\n      const collection = await this.getCollection();\n      const result = await collection.deleteOne({ _id: new ObjectId(id) });\n      return result.deletedCount > 0;\n    } catch (error) {\n      console.error('Error deleting prompt:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/repositories/mongodb/PromptRepository.ts",
        "start": 116,
        "end": 122,
        "startLoc": {
          "line": 116,
          "column": 3,
          "position": 747
        },
        "endLoc": {
          "line": 122,
          "column": 25,
          "position": 843
        }
      },
      "secondFile": {
        "name": "src/lib/repositories/mongodb/UserRepository.ts",
        "start": 111,
        "end": 117,
        "startLoc": {
          "line": 111,
          "column": 3,
          "position": 732
        },
        "endLoc": {
          "line": 117,
          "column": 23,
          "position": 828
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "{\n        id: message.id,\n        type: message.type,\n        priority: message.priority,\n        status: message.status,\n        payload: JSON.stringify(message.payload),\n        metadata: JSON.stringify(message.metadata),\n        createdAt: message.createdAt.toISOString(),\n        updatedAt: message.updatedAt.toISOString(),\n        correlationId: message.correlationId || '',\n        replyTo: message.replyTo || '',\n        ttl: message.ttl?.toString() || '',\n        retryCount: message.retryCount.toString(),\n        maxRetries: message.maxRetries.toString(),\n      })",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 61,
        "end": 75,
        "startLoc": {
          "line": 61,
          "column": 2,
          "position": 375
        },
        "endLoc": {
          "line": 75,
          "column": 2,
          "position": 539
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 89,
        "end": 103,
        "startLoc": {
          "line": 89,
          "column": 2,
          "position": 612
        },
        "endLoc": {
          "line": 103,
          "column": 2,
          "position": 776
        }
      }
    },
    {
      "format": "typescript",
      "lines": 44,
      "fragment": ");\n      }\n\n      // Update queue stats\n      await this.updateQueueStats('published');\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to publish message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publish',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Subscribe to messages with a handler\n   */\n  async subscribe(handler: IMessageHandler): Promise<void> {\n    this.handlers.set(handler.handlerName, handler);\n\n    if (!this.isProcessing) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Unsubscribe a handler\n   */\n  async unsubscribe(handlerName: string): Promise<void> {\n    this.handlers.delete(handlerName);\n\n    if (this.handlers.size === 0) {\n      await this.stopProcessing();\n    }\n  }\n\n  /**\n   * Get queue statistics\n   */\n  async getQueueStats(): Promise<QueueStats> {\n    try {\n      const statsKey = this.getStatsKey();\n      const stats",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 83,
        "end": 126,
        "startLoc": {
          "line": 83,
          "column": 2,
          "position": 623
        },
        "endLoc": {
          "line": 126,
          "column": 6,
          "position": 894
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 125,
        "end": 168,
        "startLoc": {
          "line": 125,
          "column": 2,
          "position": 956
        },
        "endLoc": {
          "line": 168,
          "column": 13,
          "position": 1227
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ".lastProcessedAt)\n          : null,\n      };\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to get queue stats: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'getStats',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Purge all messages from the queue\n   */\n  async purge(): Promise<void> {\n    try {\n      const queueKey = this.getQueueKey();\n      // @ts-expect-error - intentionally unused, kept for potential future use",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 138,
        "end": 157,
        "startLoc": {
          "line": 138,
          "column": 6,
          "position": 1060
        },
        "endLoc": {
          "line": 157,
          "column": 74,
          "position": 1186
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 193,
        "end": 213,
        "startLoc": {
          "line": 193,
          "column": 9,
          "position": 1551
        },
        "endLoc": {
          "line": 213,
          "column": 23,
          "position": 1678
        }
      }
    },
    {
      "format": "typescript",
      "lines": 38,
      "fragment": ");\n      }\n\n      // Reset stats\n      await this.resetQueueStats();\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to purge queue: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'purge',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Pause message processing\n   */\n  async pause(): Promise<void> {\n    await this.stopProcessing();\n  }\n\n  /**\n   * Resume message processing\n   */\n  async resume(): Promise<void> {\n    if (this.handlers.size > 0) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Get a specific message by ID\n   */\n  async getMessage(id: string): Promise<IMessage | null> {\n    try {\n      const messageKey = this.getMessageKey(id);\n      const messageData",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 169,
        "end": 206,
        "startLoc": {
          "line": 169,
          "column": 9,
          "position": 1305
        },
        "endLoc": {
          "line": 206,
          "column": 12,
          "position": 1532
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 229,
        "end": 266,
        "startLoc": {
          "line": 229,
          "column": 2,
          "position": 1828
        },
        "endLoc": {
          "line": 266,
          "column": 19,
          "position": 2055
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ");\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to get message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'getMessage',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Delete a message\n   */\n  async deleteMessage(id: string): Promise<boolean> {\n    try {\n      const messageKey = this.getMessageKey(id);\n      const queueKey = this.getQueueKey();\n\n      // Remove from queue\n      await this.redis",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 212,
        "end": 232,
        "startLoc": {
          "line": 212,
          "column": 12,
          "position": 1587
        },
        "endLoc": {
          "line": 232,
          "column": 6,
          "position": 1729
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 283,
        "end": 303,
        "startLoc": {
          "line": 283,
          "column": 11,
          "position": 2234
        },
        "endLoc": {
          "line": 303,
          "column": 12,
          "position": 2376
        }
      }
    },
    {
      "format": "typescript",
      "lines": 34,
      "fragment": "> 0;\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to delete message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'deleteMessage',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Retry a failed message\n   */\n  async retryMessage(id: string): Promise<void> {\n    try {\n      const message = await this.getMessage(id);\n      if (!message) {\n        throw new Error('Message not found');\n      }\n\n      if (message.retryCount >= message.maxRetries) {\n        throw new Error('Message has exceeded maximum retry count');\n      }\n\n      // Update retry count and status\n      const updatedMessage: IMessage = {\n        ...message,\n        retryCount: message.retryCount + 1,\n        status: 'pending',\n        updatedAt: new Date(),\n      };\n\n      // Update in Redis",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 237,
        "end": 270,
        "startLoc": {
          "line": 237,
          "column": 2,
          "position": 1769
        },
        "endLoc": {
          "line": 270,
          "column": 19,
          "position": 2006
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 309,
        "end": 342,
        "startLoc": {
          "line": 309,
          "column": 2,
          "position": 2453
        },
        "endLoc": {
          "line": 342,
          "column": 21,
          "position": 2690
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ");\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to retry message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'retryMessage',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Publish multiple messages in batch\n   */\n  async publishBatch(messages: IMessage[]): Promise<void> {\n    try {\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 281,
        "end": 297,
        "startLoc": {
          "line": 281,
          "column": 3,
          "position": 2128
        },
        "endLoc": {
          "line": 297,
          "column": 6,
          "position": 2235
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 357,
        "end": 373,
        "startLoc": {
          "line": 357,
          "column": 2,
          "position": 2824
        },
        "endLoc": {
          "line": 373,
          "column": 4,
          "position": 2931
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ".hset(messageKey, {\n          id: message.id,\n          type: message.type,\n          priority: message.priority,\n          status: message.status,\n          payload: JSON.stringify(message.payload),\n          metadata: JSON.stringify(message.metadata),\n          createdAt: message.createdAt.toISOString(),\n          updatedAt: message.updatedAt.toISOString(),\n          correlationId: message.correlationId || '',\n          replyTo: message.replyTo || '',\n          ttl: message.ttl?.toString() || '',\n          retryCount: message.retryCount.toString(),\n          maxRetries: message.maxRetries.toString(),\n        });\n\n        // Add to priority queue\n        const priorityScore = this.getPriorityScore(message.priority);\n        pipeline",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 304,
        "end": 322,
        "startLoc": {
          "line": 304,
          "column": 9,
          "position": 2303
        },
        "endLoc": {
          "line": 322,
          "column": 9,
          "position": 2498
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 61,
        "end": 79,
        "startLoc": {
          "line": 61,
          "column": 6,
          "position": 369
        },
        "endLoc": {
          "line": 79,
          "column": 6,
          "position": 564
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "} catch (error) {\n      throw new MessageQueueError(\n        `Failed to publish batch: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publishBatch',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Get pending messages\n   */\n  async getPendingMessages(limit: number = 10): Promise<IMessage[]> {\n    try {\n      const queueKey = this.getQueueKey();\n      const messageIds",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 332,
        "end": 348,
        "startLoc": {
          "line": 332,
          "column": 5,
          "position": 2586
        },
        "endLoc": {
          "line": 348,
          "column": 11,
          "position": 2709
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 376,
        "end": 392,
        "startLoc": {
          "line": 376,
          "column": 5,
          "position": 2960
        },
        "endLoc": {
          "line": 392,
          "column": 18,
          "position": 3083
        }
      }
    },
    {
      "format": "typescript",
      "lines": 56,
      "fragment": ") {\n        const message = await this.getMessage(id);\n        if (message) {\n          messages.push(message);\n        }\n      }\n\n      return messages;\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to get pending messages: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'getPendingMessages',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Start message processing\n   */\n  private async startProcessing(): Promise<void> {\n    if (this.isProcessing) {\n      return;\n    }\n\n    this.isProcessing = true;\n    this.processingInterval = setInterval(\n      () => this.processMessages(),\n      this.config.visibilityTimeout || 1000\n    );\n  }\n\n  /**\n   * Stop message processing\n   */\n  private async stopProcessing(): Promise<void> {\n    this.isProcessing = false;\n    if (this.processingInterval) {\n      clearInterval(this.processingInterval);\n      this.processingInterval = undefined;\n    }\n  }\n\n  /**\n   * Process messages from the queue\n   */\n  private async processMessages(): Promise<void> {\n    try {\n      const messages = await this.getPendingMessages(this.config.batchSize);\n\n      for (const message of messages) {\n        await this.processMessage(message);\n      }\n    } catch (error) {\n      logger",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 351,
        "end": 406,
        "startLoc": {
          "line": 351,
          "column": 11,
          "position": 2763
        },
        "endLoc": {
          "line": 406,
          "column": 7,
          "position": 3135
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 402,
        "end": 457,
        "startLoc": {
          "line": 402,
          "column": 4,
          "position": 3187
        },
        "endLoc": {
          "line": 457,
          "column": 8,
          "position": 3559
        }
      }
    },
    {
      "format": "typescript",
      "lines": 58,
      "fragment": ");\n        return;\n      }\n\n      // Update message status to processing\n      await this.updateMessageStatus(message.id, 'processing');\n\n      // Process the message\n      const result = await handler.handle(message);\n\n      // Update message status based on result\n      if (result.success) {\n        await this.updateMessageStatus(message.id, 'completed');\n        await this.updateQueueStats('completed');\n      } else {\n        await this.handleMessageFailure(\n          message,\n          result.error || 'Unknown error'\n        );\n      }\n\n      // Update processing time stats\n      const processingTime = Date.now() - startTime;\n      await this.updateProcessingTimeStats(processingTime);\n    } catch (error) {\n      await this.handleMessageFailure(\n        message,\n        error instanceof Error ? error.message : 'Unknown error'\n      );\n    }\n  }\n\n  /**\n   * Find appropriate handler for message\n   */\n  private findHandler(message: IMessage): IMessageHandler | null {\n    for (const handler of this.handlers.values()) {\n      if (handler.canHandle(message)) {\n        return handler;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Handle message processing failure\n   */\n  private async handleMessageFailure(\n    message: IMessage,\n    error: string\n  ): Promise<void> {\n    if (message.retryCount < message.maxRetries) {\n      // Retry the message\n      await this.retryMessage(message.id);\n      await this.updateQueueStats('retrying');\n    } else {\n      // Move to dead letter queue\n      await this.moveToDLQ",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 427,
        "end": 484,
        "startLoc": {
          "line": 427,
          "column": 2,
          "position": 3302
        },
        "endLoc": {
          "line": 484,
          "column": 10,
          "position": 3688
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 471,
        "end": 528,
        "startLoc": {
          "line": 471,
          "column": 2,
          "position": 3661
        },
        "endLoc": {
          "line": 528,
          "column": 20,
          "position": 4047
        }
      }
    },
    {
      "format": "typescript",
      "lines": 33,
      "fragment": ");\n  }\n\n  /**\n   * Get priority score for Redis sorted set\n   */\n  private getPriorityScore(priority: string): number {\n    switch (priority) {\n      case 'critical':\n        return 4;\n      case 'high':\n        return 3;\n      case 'normal':\n        return 2;\n      case 'low':\n        return 1;\n      default:\n        return 2;\n    }\n  }\n\n  /**\n   * Generate Redis keys\n   */\n  private getQueueKey(): string {\n    return `mq:queue:${this.name}`;\n  }\n\n  private getMessageKey(id: string): string {\n    return `mq:message:${this.name}:${id}`;\n  }\n\n  private getMessageKeyPattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 567,
        "end": 599,
        "startLoc": {
          "line": 567,
          "column": 9,
          "position": 4401
        },
        "endLoc": {
          "line": 599,
          "column": 21,
          "position": 4571
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 667,
        "end": 699,
        "startLoc": {
          "line": 667,
          "column": 2,
          "position": 4994
        },
        "endLoc": {
          "line": 699,
          "column": 12,
          "position": 5164
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "}\n\n  /**\n   * Deserialize message from Redis data\n   */\n  private deserializeMessage(data: Record<string, string>): IMessage {\n    return {\n      id: data.id,\n      type: data.type as import('../types').MessageType,\n      priority: data.priority as import('../types').MessagePriority,\n      status: data.status as import('../types').MessageStatus,\n      payload: JSON.parse(data.payload) as unknown,\n      metadata: JSON.parse(data.metadata) as import('../types').MessageMetadata,\n      createdAt: new Date(data.createdAt),\n      updatedAt: new Date(data.updatedAt),\n      correlationId: data.correlationId || undefined,\n      replyTo: data.replyTo || undefined,\n      ttl: data.ttl ? parseInt(data.ttl) : undefined,\n      retryCount: parseInt(data.retryCount),\n      maxRetries: parseInt(data.maxRetries),\n    };\n  }\n\n  /**\n   * Setup error handling\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 891,
        "end": 916,
        "startLoc": {
          "line": 891,
          "column": 3,
          "position": 6952
        },
        "endLoc": {
          "line": 916,
          "column": 6,
          "position": 7198
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 701,
        "end": 726,
        "startLoc": {
          "line": 701,
          "column": 3,
          "position": 5186
        },
        "endLoc": {
          "line": 726,
          "column": 6,
          "position": 5432
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "${error instanceof Error ? error.message : 'Unknown error'}`,\n        'request',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Publish a message to the queue\n   */\n  async publish(message: IMessage): Promise<void> {\n    try {\n      const queueUrl",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 81,
        "end": 94,
        "startLoc": {
          "line": 81,
          "column": 25,
          "position": 543
        },
        "endLoc": {
          "line": 94,
          "column": 9,
          "position": 626
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 72,
        "end": 85,
        "startLoc": {
          "line": 72,
          "column": 26,
          "position": 490
        },
        "endLoc": {
          "line": 85,
          "column": 11,
          "position": 573
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "throw new MessageQueueError(\n        `Failed to publish message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publish',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Subscribe to messages with a handler\n   */\n  async subscribe(handler: IMessageHandler): Promise<void> {\n    this.handlers.set(handler.handlerName, handler);\n\n    if (!this.isProcessing) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Unsubscribe a handler\n   */\n  async unsubscribe(handlerName: string): Promise<void> {\n    this.handlers.delete(handlerName);\n\n    if (this.handlers.size === 0) {\n      await this.stopProcessing();\n    }\n  }\n\n  /**\n   * Get queue statistics\n   */\n  async getQueueStats(): Promise<QueueStats> {\n    try {\n      // QStash doesn't provide direct queue stats, so we'll maintain our own",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 133,
        "end": 169,
        "startLoc": {
          "line": 133,
          "column": 7,
          "position": 957
        },
        "endLoc": {
          "line": 169,
          "column": 72,
          "position": 1179
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 131,
        "end": 167,
        "startLoc": {
          "line": 131,
          "column": 7,
          "position": 989
        },
        "endLoc": {
          "line": 167,
          "column": 6,
          "position": 1211
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ";\n        }\n      }\n\n      return {\n        totalMessages: parseInt(statsObj.totalMessages || '0'),\n        pendingMessages: parseInt(statsObj.pendingMessages || '0'),\n        processingMessages: parseInt(statsObj.processingMessages || '0'),\n        completedMessages: parseInt(statsObj.completedMessages || '0'),\n        failedMessages: parseInt(statsObj.failedMessages || '0'),\n        deadLetterMessages: parseInt(statsObj.deadLetterMessages || '0'),\n        averageProcessingTime: parseFloat(\n          statsObj.averageProcessingTime || '0'\n        ),\n        throughput: parseFloat(statsObj.throughput || '0'),\n        lastProcessedAt: statsObj.lastProcessedAt\n          ? new Date(statsObj.lastProcessedAt)\n          : null,\n      };\n    } catch (error) {\n      // Return default stats if Redis stats are not available",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 181,
        "end": 201,
        "startLoc": {
          "line": 181,
          "column": 2,
          "position": 1354
        },
        "endLoc": {
          "line": 201,
          "column": 57,
          "position": 1542
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 177,
        "end": 197,
        "startLoc": {
          "line": 177,
          "column": 4,
          "position": 1389
        },
        "endLoc": {
          "line": 197,
          "column": 6,
          "position": 1577
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": "} catch (error) {\n      throw new MessageQueueError(\n        `Failed to purge queue: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'purge',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Pause message processing\n   */\n  async pause(): Promise<void> {\n    await this.stopProcessing();\n  }\n\n  /**\n   * Resume message processing\n   */\n  async resume(): Promise<void> {\n    if (this.handlers.size > 0) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Get a specific message by ID\n   */\n  async getMessage(id: string): Promise<IMessage | null> {\n    try {\n      // QStash doesn't provide direct message retrieval",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 226,
        "end": 257,
        "startLoc": {
          "line": 226,
          "column": 5,
          "position": 1667
        },
        "endLoc": {
          "line": 257,
          "column": 51,
          "position": 1856
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 234,
        "end": 265,
        "startLoc": {
          "line": 234,
          "column": 5,
          "position": 1849
        },
        "endLoc": {
          "line": 265,
          "column": 6,
          "position": 2038
        }
      }
    },
    {
      "format": "typescript",
      "lines": 19,
      "fragment": ";\n    }\n  }\n\n  /**\n   * Retry a failed message\n   */\n  async retryMessage(id: string): Promise<void> {\n    try {\n      const message = await this.getMessage(id);\n      if (!message) {\n        throw new Error('Message not found');\n      }\n\n      if (message.retryCount >= message.maxRetries) {\n        throw new Error('Message has exceeded maximum retry count');\n      }\n\n      // Create a new message with incremented retry count",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 297,
        "end": 315,
        "startLoc": {
          "line": 297,
          "column": 6,
          "position": 2192
        },
        "endLoc": {
          "line": 315,
          "column": 53,
          "position": 2303
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 316,
        "end": 334,
        "startLoc": {
          "line": 316,
          "column": 2,
          "position": 2523
        },
        "endLoc": {
          "line": 334,
          "column": 33,
          "position": 2634
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ");\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to retry message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'retryMessage',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Publish multiple messages in batch\n   */\n  async publishBatch(messages: IMessage[]): Promise<void> {\n    try {\n      // QStash supports batch publishing",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 324,
        "end": 340,
        "startLoc": {
          "line": 324,
          "column": 13,
          "position": 2388
        },
        "endLoc": {
          "line": 340,
          "column": 36,
          "position": 2495
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 357,
        "end": 373,
        "startLoc": {
          "line": 357,
          "column": 2,
          "position": 2824
        },
        "endLoc": {
          "line": 373,
          "column": 4,
          "position": 2931
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n        body: {\n          messageId: message.id,\n          type: message.type,\n          priority: message.priority,\n          payload: message.payload,\n          metadata: message.metadata,\n          correlationId: message.correlationId,\n          replyTo: message.replyTo,\n          retryCount: message.retryCount,\n          maxRetries: message.maxRetries,\n        },\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Message-Type': message.type,\n          'X-Priority': message.priority,\n          'X-Correlation-ID': message.correlationId || '',\n        },\n        delay: this.getDelayFromPriority(message.priority),\n        retries: message.maxRetries,\n      }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 342,
        "end": 362,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2534
        },
        "endLoc": {
          "line": 362,
          "column": 2,
          "position": 2699
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 97,
        "end": 117,
        "startLoc": {
          "line": 97,
          "column": 9,
          "position": 660
        },
        "endLoc": {
          "line": 117,
          "column": 9,
          "position": 825
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "await this.updateQueueStats('published', messages.length);\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to publish batch: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publishBatch',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Get pending messages\n   */\n  async getPendingMessages(limit: number = 10): Promise<IMessage[]> {\n    try {\n      // QStash doesn't provide direct pending message retrieval",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 369,
        "end": 385,
        "startLoc": {
          "line": 369,
          "column": 7,
          "position": 2737
        },
        "endLoc": {
          "line": 385,
          "column": 59,
          "position": 2860
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 331,
        "end": 391,
        "startLoc": {
          "line": 331,
          "column": 7,
          "position": 2570
        },
        "endLoc": {
          "line": 391,
          "column": 6,
          "position": 3067
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": "${this.name}`;\n  }\n\n  /**\n   * Deserialize message from Redis data\n   */\n  private deserializeMessage(data: Record<string, string>): IMessage {\n    return {\n      id: data.id,\n      type: data.type as import('../types').MessageType,\n      priority: data.priority as import('../types').MessagePriority,\n      status: data.status as import('../types').MessageStatus,\n      payload: JSON.parse(data.payload) as unknown,\n      metadata: JSON.parse(data.metadata) as import('../types').MessageMetadata,\n      createdAt: new Date(data.createdAt),\n      updatedAt: new Date(data.updatedAt),\n      correlationId: data.correlationId || undefined,\n      replyTo: data.replyTo || undefined,\n      ttl: data.ttl ? parseInt(data.ttl) : undefined,\n      retryCount: parseInt(data.retryCount),\n      maxRetries: parseInt(data.maxRetries),\n    };\n  }\n\n  /**\n   * Cleanup resources\n   */\n  async destroy(): Promise<void> {\n    await this.stopProcessing();\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/QStashMessageQueue.ts",
        "start": 662,
        "end": 692,
        "startLoc": {
          "line": 662,
          "column": 17,
          "position": 4839
        },
        "endLoc": {
          "line": 692,
          "column": 2,
          "position": 5124
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 700,
        "end": 730,
        "startLoc": {
          "line": 700,
          "column": 11,
          "position": 5177
        },
        "endLoc": {
          "line": 730,
          "column": 2,
          "position": 5462
        }
      }
    },
    {
      "format": "typescript",
      "lines": 37,
      "fragment": "} catch (error) {\n      throw new MessageQueueError(\n        `Failed to publish message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publish',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Subscribe to messages with a handler\n   */\n  async subscribe(handler: IMessageHandler): Promise<void> {\n    this.handlers.set(handler.handlerName, handler);\n\n    if (!this.isProcessing) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Unsubscribe a handler\n   */\n  async unsubscribe(handlerName: string): Promise<void> {\n    this.handlers.delete(handlerName);\n\n    if (this.handlers.size === 0) {\n      await this.stopProcessing();\n    }\n  }\n\n  /**\n   * Get queue statistics\n   */\n  async getQueueStats(): Promise<QueueStats> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 68,
        "end": 104,
        "startLoc": {
          "line": 68,
          "column": 5,
          "position": 432
        },
        "endLoc": {
          "line": 104,
          "column": 7,
          "position": 660
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 130,
        "end": 166,
        "startLoc": {
          "line": 130,
          "column": 5,
          "position": 978
        },
        "endLoc": {
          "line": 166,
          "column": 4,
          "position": 1206
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": ";\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to purge queue: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'purge',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Pause message processing\n   */\n  async pause(): Promise<void> {\n    await this.stopProcessing();\n  }\n\n  /**\n   * Resume message processing\n   */\n  async resume(): Promise<void> {\n    if (this.handlers.size > 0) {\n      await this.startProcessing();\n    }\n  }\n\n  /**\n   * Get a specific message by ID\n   */\n  async getMessage(id: string): Promise<IMessage | null> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 123,
        "end": 154,
        "startLoc": {
          "line": 123,
          "column": 2,
          "position": 783
        },
        "endLoc": {
          "line": 154,
          "column": 7,
          "position": 970
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 233,
        "end": 264,
        "startLoc": {
          "line": 233,
          "column": 2,
          "position": 1846
        },
        "endLoc": {
          "line": 264,
          "column": 4,
          "position": 2033
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "(id);\n      if (!message) {\n        throw new Error('Message not found');\n      }\n\n      if (message.retryCount >= message.maxRetries) {\n        throw new Error('Message has exceeded maximum retry count');\n      }\n\n      // Update retry count and status\n      const updatedMessage: IMessage = {\n        ...message,\n        retryCount: message.retryCount + 1,\n        status: 'pending',\n        updatedAt: new Date(),\n      };\n\n      this",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 173,
        "end": 190,
        "startLoc": {
          "line": 173,
          "column": 4,
          "position": 1118
        },
        "endLoc": {
          "line": 190,
          "column": 5,
          "position": 1237
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 325,
        "end": 342,
        "startLoc": {
          "line": 325,
          "column": 11,
          "position": 2571
        },
        "endLoc": {
          "line": 342,
          "column": 21,
          "position": 2690
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to retry message: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'retryMessage',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Publish multiple messages in batch\n   */\n  async publishBatch(messages: IMessage[]): Promise<void> {\n    try {\n      for (const message of messages) {\n        this",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 190,
        "end": 207,
        "startLoc": {
          "line": 190,
          "column": 15,
          "position": 1247
        },
        "endLoc": {
          "line": 207,
          "column": 5,
          "position": 1369
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 357,
        "end": 374,
        "startLoc": {
          "line": 357,
          "column": 2,
          "position": 2824
        },
        "endLoc": {
          "line": 374,
          "column": 6,
          "position": 2946
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ");\n      }\n    } catch (error) {\n      throw new MessageQueueError(\n        `Failed to publish batch: ${error instanceof Error ? error.message : 'Unknown error'}`,\n        'publishBatch',\n        this.name,\n        error instanceof Error ? error : undefined\n      );\n    }\n  }\n\n  /**\n   * Get pending messages\n   */\n  async getPendingMessages(limit: number = 10): Promise<IMessage[]> {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 216,
        "end": 232,
        "startLoc": {
          "line": 216,
          "column": 2,
          "position": 1467
        },
        "endLoc": {
          "line": 232,
          "column": 6,
          "position": 1576
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 374,
        "end": 390,
        "startLoc": {
          "line": 374,
          "column": 8,
          "position": 2953
        },
        "endLoc": {
          "line": 390,
          "column": 4,
          "position": 3062
        }
      }
    },
    {
      "format": "typescript",
      "lines": 67,
      "fragment": "}\n\n  /**\n   * Start message processing\n   */\n  private async startProcessing(): Promise<void> {\n    if (this.isProcessing) {\n      return;\n    }\n\n    this.isProcessing = true;\n    this.processingInterval = setInterval(\n      () => this.processMessages(),\n      this.config.visibilityTimeout || 1000\n    );\n  }\n\n  /**\n   * Stop message processing\n   */\n  private async stopProcessing(): Promise<void> {\n    this.isProcessing = false;\n    if (this.processingInterval) {\n      clearInterval(this.processingInterval);\n      this.processingInterval = undefined;\n    }\n  }\n\n  /**\n   * Process messages from the queue\n   */\n  private async processMessages(): Promise<void> {\n    try {\n      const messages = await this.getPendingMessages(this.config.batchSize);\n\n      for (const message of messages) {\n        await this.processMessage(message);\n      }\n    } catch (error) {\n      console.error('Error processing messages:', error);\n    }\n  }\n\n  /**\n   * Process a single message\n   */\n  private async processMessage(message: IMessage): Promise<void> {\n    const startTime = Date.now();\n\n    try {\n      // Find appropriate handler\n      const handler = this.findHandler(message);\n      if (!handler) {\n        console.warn(`No handler found for message type: ${message.type}`);\n        return;\n      }\n\n      // Update message status to processing\n      await this.updateMessageStatus(message.id, 'processing');\n\n      // Process the message\n      const result = await handler.handle(message);\n\n      // Update message status based on result\n      if (result.success) {\n        await this.updateMessageStatus(message.id, 'completed');\n        this",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 242,
        "end": 308,
        "startLoc": {
          "line": 242,
          "column": 3,
          "position": 1710
        },
        "endLoc": {
          "line": 308,
          "column": 5,
          "position": 2144
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 418,
        "end": 484,
        "startLoc": {
          "line": 418,
          "column": 3,
          "position": 3310
        },
        "endLoc": {
          "line": 484,
          "column": 6,
          "position": 3744
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": "this.updateProcessingTimeStats(processingTime);\n    } catch (error) {\n      await this.handleMessageFailure(\n        message,\n        error instanceof Error ? error.message : 'Unknown error'\n      );\n    }\n  }\n\n  /**\n   * Find appropriate handler for message\n   */\n  private findHandler(message: IMessage): IMessageHandler | null {\n    for (const handler of this.handlers.values()) {\n      if (handler.canHandle(message)) {\n        return handler;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * Handle message processing failure\n   */\n  private async handleMessageFailure(\n    message: IMessage,\n    error: string\n  ): Promise<void> {\n    if (message.retryCount < message.maxRetries) {\n      // Retry the message\n      await this.retryMessage(message.id);\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/queues/InMemoryMessageQueue.ts",
        "start": 322,
        "end": 353,
        "startLoc": {
          "line": 322,
          "column": 7,
          "position": 2243
        },
        "endLoc": {
          "line": 353,
          "column": 2,
          "position": 2451
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/UpstashMessageQueue.ts",
        "start": 494,
        "end": 525,
        "startLoc": {
          "line": 494,
          "column": 2,
          "position": 3814
        },
        "endLoc": {
          "line": 525,
          "column": 6,
          "position": 4022
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "{\n      const aiProvider = this.providerFactory.create(provider);\n      if (!aiProvider) {\n        throw new Error(`Provider not found: ${provider}`);\n      }\n\n      const startTime = Date.now();\n      let fullResponse = '';\n      let tokenCount = 0;\n\n      // Execute with streaming",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 94,
        "end": 104,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 612
        },
        "endLoc": {
          "line": 104,
          "column": 26,
          "position": 696
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 40,
        "end": 50,
        "startLoc": {
          "line": 40,
          "column": 2,
          "position": 221
        },
        "endLoc": {
          "line": 50,
          "column": 81,
          "position": 305
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "{\n        response: {\n          ...response,\n          content: fullResponse,\n          usage: {\n            ...response.usage,\n            completionTokens: tokenCount,\n            totalTokens: response.usage.promptTokens + tokenCount,\n          },\n        },\n        strategy: this.name,\n        executionTime: Date.now() - startTime,\n        streamed: true,\n      };\n\n      onComplete",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 125,
        "end": 140,
        "startLoc": {
          "line": 125,
          "column": 2,
          "position": 831
        },
        "endLoc": {
          "line": 140,
          "column": 11,
          "position": 931
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 67,
        "end": 81,
        "startLoc": {
          "line": 67,
          "column": 2,
          "position": 419
        },
        "endLoc": {
          "line": 81,
          "column": 2,
          "position": 518
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "priority;\n  }\n\n  /**\n   * Validate request\n   */\n  validateRequest(request: AIRequest, context: ExecutionContext): boolean {\n    return !!(\n      request.prompt &&\n      request.prompt.length > 0 &&\n      context.userId &&\n      context.requestId\n    );\n  }\n\n  /**\n   * Get estimated execution time\n   */\n  getEstimatedTime(request: AIRequest, context: ExecutionContext): number {\n    const selectedStrategy",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/HybridStrategy.ts",
        "start": 130,
        "end": 149,
        "startLoc": {
          "line": 130,
          "column": 2,
          "position": 824
        },
        "endLoc": {
          "line": 149,
          "column": 17,
          "position": 927
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 185,
        "end": 204,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1253
        },
        "endLoc": {
          "line": 204,
          "column": 9,
          "position": 1356
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ": ExecutionContext): boolean {\n    if (!this.config.enabled) return false;\n\n    // Check token limits\n    if (\n      this.config.conditions?.maxTokens &&\n      (request.maxTokens || 0) > this.config.conditions.maxTokens\n    ) {\n      return false;\n    }\n\n    // Check if request is cacheable",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/CacheStrategy.ts",
        "start": 164,
        "end": 175,
        "startLoc": {
          "line": 164,
          "column": 8,
          "position": 1095
        },
        "endLoc": {
          "line": 175,
          "column": 33,
          "position": 1180
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 151,
        "end": 162,
        "startLoc": {
          "line": 151,
          "column": 9,
          "position": 996
        },
        "endLoc": {
          "line": 162,
          "column": 19,
          "position": 1081
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "return priority;\n  }\n\n  /**\n   * Validate request\n   */\n  validateRequest(request: AIRequest, context: ExecutionContext): boolean {\n    return !!(\n      request.prompt &&\n      request.prompt.length > 0 &&\n      context.userId &&\n      context.requestId\n    );\n  }\n\n  /**\n   * Get estimated execution time\n   */\n  getEstimatedTime(request: AIRequest, context: ExecutionContext): number {\n    const cacheKey",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/CacheStrategy.ts",
        "start": 209,
        "end": 228,
        "startLoc": {
          "line": 209,
          "column": 5,
          "position": 1404
        },
        "endLoc": {
          "line": 228,
          "column": 9,
          "position": 1509
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/StreamingStrategy.ts",
        "start": 185,
        "end": 204,
        "startLoc": {
          "line": 185,
          "column": 5,
          "position": 1251
        },
        "endLoc": {
          "line": 204,
          "column": 9,
          "position": 1356
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ") {\n      priority += 1;\n    }\n\n    return priority;\n  }\n\n  /**\n   * Validate request\n   */\n  validateRequest(request: AIRequest, context: ExecutionContext): boolean {\n    return !!(\n      request.prompt &&\n      request.prompt.length > 0 &&\n      context.userId &&\n      context.requestId\n    );\n  }\n\n  /**\n   * Get estimated execution time\n   */\n  getEstimatedTime(request: AIRequest, _context",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/strategies/BatchStrategy.ts",
        "start": 256,
        "end": 278,
        "startLoc": {
          "line": 256,
          "column": 5,
          "position": 1965
        },
        "endLoc": {
          "line": 278,
          "column": 9,
          "position": 2073
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/CacheStrategy.ts",
        "start": 205,
        "end": 203,
        "startLoc": {
          "line": 205,
          "column": 5,
          "position": 1387
        },
        "endLoc": {
          "line": 203,
          "column": 8,
          "position": 1342
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "strategy.canHandle(request, context))\n      .sort(\n        (a, b) =>\n          b.getPriority(request, context) - a.getPriority(request, context)\n      );\n\n    return availableStrategies.length > 0 ? availableStrategies[0] : null;\n  }\n\n  /**\n   * Execute request using the best available strategy\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/execution/context/ExecutionContextManager.ts",
        "start": 45,
        "end": 56,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 261
        },
        "endLoc": {
          "line": 56,
          "column": 6,
          "position": 343
        }
      },
      "secondFile": {
        "name": "src/lib/execution/strategies/HybridStrategy.ts",
        "start": 214,
        "end": 226,
        "startLoc": {
          "line": 214,
          "column": 11,
          "position": 1452
        },
        "endLoc": {
          "line": 226,
          "column": 6,
          "position": 1536
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "};\n\n      if (fromTimestamp) {\n        query.timestamp = { $gte: fromTimestamp };\n      }\n\n      const events = await this.eventsCollection\n        .find(query)\n        .sort({ timestamp: 1 })\n        .toArray();\n\n      return events;\n    } catch (error) {\n      throw new EventStoreError('Failed to get all events'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/store/EventStore.ts",
        "start": 149,
        "end": 162,
        "startLoc": {
          "line": 149,
          "column": 2,
          "position": 991
        },
        "endLoc": {
          "line": 162,
          "column": 27,
          "position": 1091
        }
      },
      "secondFile": {
        "name": "src/lib/events/store/EventStore.ts",
        "start": 124,
        "end": 138,
        "startLoc": {
          "line": 124,
          "column": 2,
          "position": 817
        },
        "endLoc": {
          "line": 138,
          "column": 31,
          "position": 919
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n  async handle(event: IEvent): Promise<void> {\n    // Type guard: ensure it's a UserEvent\n    if (!('eventType' in event) || !event.eventType.startsWith('User')) {\n      return;\n    }\n\n    const userEvent = event as unknown as UserEvent;\n    switch (userEvent.eventType) {\n      case 'UserCreated':\n        await this.handleUserCreated(userEvent as UserCreatedEvent);\n        break;\n      case 'UserPlanChanged'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/handlers/UserEventHandlers.ts",
        "start": 167,
        "end": 180,
        "startLoc": {
          "line": 167,
          "column": 12,
          "position": 1136
        },
        "endLoc": {
          "line": 180,
          "column": 18,
          "position": 1254
        }
      },
      "secondFile": {
        "name": "src/lib/events/handlers/UserEventHandlers.ts",
        "start": 58,
        "end": 71,
        "startLoc": {
          "line": 58,
          "column": 2,
          "position": 303
        },
        "endLoc": {
          "line": 71,
          "column": 14,
          "position": 421
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "implements IEventHandler<IEvent> {\n  readonly eventType = 'UserEvent';\n\n  async handle(event: IEvent): Promise<void> {\n    // Type guard: ensure it's a UserEvent\n    if (!('eventType' in event) || !event.eventType.startsWith('User')) {\n      return;\n    }\n\n    const userEvent = event as unknown as UserEvent;\n    switch (userEvent.eventType) {\n      case 'UserCreated':\n        await this.handleUserCreated(userEvent as UserCreatedEvent);\n        break;\n      case 'UserPlanChanged':\n        await this.handleUserPlanChanged(userEvent as UserPlanChangedEvent);\n        break;\n      case 'UserDeleted'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/handlers/UserEventHandlers.ts",
        "start": 229,
        "end": 246,
        "startLoc": {
          "line": 229,
          "column": 2,
          "position": 1552
        },
        "endLoc": {
          "line": 246,
          "column": 14,
          "position": 1712
        }
      },
      "secondFile": {
        "name": "src/lib/events/handlers/UserEventHandlers.ts",
        "start": 166,
        "end": 183,
        "startLoc": {
          "line": 166,
          "column": 2,
          "position": 1119
        },
        "endLoc": {
          "line": 183,
          "column": 29,
          "position": 1279
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "readability: z.object({\n      fleschKincaid: z.number().optional(), // Grade level\n      fleschReadingEase: z.number().optional(), // 0-100\n      avgSentenceLength: z.number().optional(),\n      avgWordLength: z.number().optional(),\n      avgParagraphLength",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/schemas/article-research.schema.ts",
        "start": 107,
        "end": 112,
        "startLoc": {
          "line": 107,
          "column": 5,
          "position": 1023
        },
        "endLoc": {
          "line": 112,
          "column": 19,
          "position": 1097
        }
      },
      "secondFile": {
        "name": "src/lib/db/schemas/article-research.schema.ts",
        "start": 31,
        "end": 36,
        "startLoc": {
          "line": 31,
          "column": 5,
          "position": 309
        },
        "endLoc": {
          "line": 36,
          "column": 2,
          "position": 383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ": z.array(z.object({\n      id: z.string(),\n      title: z.string(),\n      url: z.string(),\n      description: z.string().optional(),\n      order: z.number(),\n    })).default([]),\n    communityHeading",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/schemas/ai-tool.ts",
        "start": 105,
        "end": 112,
        "startLoc": {
          "line": 105,
          "column": 19,
          "position": 1143
        },
        "endLoc": {
          "line": 112,
          "column": 17,
          "position": 1227
        }
      },
      "secondFile": {
        "name": "src/lib/db/schemas/ai-tool.ts",
        "start": 98,
        "end": 105,
        "startLoc": {
          "line": 98,
          "column": 18,
          "position": 1058
        },
        "endLoc": {
          "line": 105,
          "column": 19,
          "position": 1142
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ": z.object({\n      supported: z.boolean().default(true),\n      min: z.number().optional(),\n      max: z.number().optional(),\n      default: z.number().optional(),\n      notes: z.string().optional(), // e.g., \"Use maxOutputTokens instead\"",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/schemas/ai-model.ts",
        "start": 125,
        "end": 130,
        "startLoc": {
          "line": 125,
          "column": 10,
          "position": 1523
        },
        "endLoc": {
          "line": 130,
          "column": 39,
          "position": 1607
        }
      },
      "secondFile": {
        "name": "src/lib/db/schemas/ai-model.ts",
        "start": 118,
        "end": 123,
        "startLoc": {
          "line": 118,
          "column": 12,
          "position": 1426
        },
        "endLoc": {
          "line": 123,
          "column": 33,
          "position": 1510
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "]\n  ): Promise<void> {\n    const db = await getMongoDb();\n    const collection = db.collection<ArticleResearch>(ARTICLE_RESEARCH_COLLECTION);\n\n    await collection.updateOne(\n      { _id: new ObjectId(id) } as any,\n      {\n        $set: {\n          generated",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/repositories/article-research.repository.ts",
        "start": 84,
        "end": 93,
        "startLoc": {
          "line": 84,
          "column": 12,
          "position": 620
        },
        "endLoc": {
          "line": 93,
          "column": 10,
          "position": 705
        }
      },
      "secondFile": {
        "name": "src/lib/db/repositories/article-research.repository.ts",
        "start": 64,
        "end": 72,
        "startLoc": {
          "line": 64,
          "column": 9,
          "position": 485
        },
        "endLoc": {
          "line": 72,
          "column": 7,
          "position": 568
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": ");\n\n      if (!user) {\n        return {\n          success: false,\n          error: 'User not found',\n          correlationId: query.correlationId,\n          timestamp: new Date(),\n        };\n      }\n\n      return {\n        success: true,\n        data: user,\n        correlationId: query.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to get user by email'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 77,
        "end": 100,
        "startLoc": {
          "line": 77,
          "column": 6,
          "position": 451
        },
        "endLoc": {
          "line": 100,
          "column": 30,
          "position": 599
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 39,
        "end": 59,
        "startLoc": {
          "line": 39,
          "column": 7,
          "position": 190
        },
        "endLoc": {
          "line": 59,
          "column": 21,
          "position": 335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n\n      return {\n        success: true,\n        data: users,\n        totalCount: users.length,\n        page: query.page || 1,\n        pageSize: query.pageSize || users.length,\n        correlationId: query.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to get users by role'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 151,
        "end": 168,
        "startLoc": {
          "line": 151,
          "column": 5,
          "position": 962
        },
        "endLoc": {
          "line": 168,
          "column": 30,
          "position": 1090
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 118,
        "end": 133,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 716
        },
        "endLoc": {
          "line": 133,
          "column": 26,
          "position": 842
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n\n      return {\n        success: true,\n        data: users,\n        totalCount: users.length,\n        page: query.page || 1,\n        pageSize: query.pageSize || users.length,\n        correlationId: query.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to get users by plan'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 186,
        "end": 203,
        "startLoc": {
          "line": 186,
          "column": 5,
          "position": 1210
        },
        "endLoc": {
          "line": 203,
          "column": 30,
          "position": 1338
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 118,
        "end": 133,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 716
        },
        "endLoc": {
          "line": 133,
          "column": 26,
          "position": 842
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ");\n\n      return {\n        success: true,\n        data: users,\n        totalCount: users.length,\n        page: query.page || 1,\n        pageSize: query.pageSize || users.length,\n        correlationId: query.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to get users by organization'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 225,
        "end": 242,
        "startLoc": {
          "line": 225,
          "column": 7,
          "position": 1466
        },
        "endLoc": {
          "line": 242,
          "column": 38,
          "position": 1594
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserQueryHandlers.ts",
        "start": 118,
        "end": 133,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 716
        },
        "endLoc": {
          "line": 133,
          "column": 26,
          "position": 842
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": ",\n      });\n\n      if (!user) {\n        return {\n          success: false,\n          error: 'User not found',\n          correlationId: command.correlationId,\n          timestamp: new Date(),\n        };\n      }\n\n      return {\n        success: true,\n        data: user,\n        correlationId: command.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error ? error.message : 'Failed to change user plan'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 179,
        "end": 201,
        "startLoc": {
          "line": 179,
          "column": 5,
          "position": 1165
        },
        "endLoc": {
          "line": 201,
          "column": 29,
          "position": 1315
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 77,
        "end": 98,
        "startLoc": {
          "line": 77,
          "column": 12,
          "position": 487
        },
        "endLoc": {
          "line": 98,
          "column": 24,
          "position": 636
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": ",\n      });\n\n      if (!user) {\n        return {\n          success: false,\n          error: 'User not found',\n          correlationId: command.correlationId,\n          timestamp: new Date(),\n        };\n      }\n\n      return {\n        success: true,\n        data: user,\n        correlationId: command.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to assign user to organization'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 222,
        "end": 246,
        "startLoc": {
          "line": 222,
          "column": 15,
          "position": 1446
        },
        "endLoc": {
          "line": 246,
          "column": 40,
          "position": 1598
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 77,
        "end": 98,
        "startLoc": {
          "line": 77,
          "column": 12,
          "position": 487
        },
        "endLoc": {
          "line": 98,
          "column": 24,
          "position": 636
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "});\n\n      if (!user) {\n        return {\n          success: false,\n          error: 'User not found',\n          correlationId: command.correlationId,\n          timestamp: new Date(),\n        };\n      }\n\n      return {\n        success: true,\n        data: user,\n        correlationId: command.correlationId,\n        timestamp: new Date(),\n      };\n    } catch (error) {\n      return {\n        success: false,\n        error:\n          error instanceof Error\n            ? error.message\n            : 'Failed to remove user from organization'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 268,
        "end": 291,
        "startLoc": {
          "line": 268,
          "column": 7,
          "position": 1732
        },
        "endLoc": {
          "line": 291,
          "column": 42,
          "position": 1881
        }
      },
      "secondFile": {
        "name": "src/lib/cqrs/handlers/UserCommandHandlers.ts",
        "start": 78,
        "end": 98,
        "startLoc": {
          "line": 78,
          "column": 7,
          "position": 490
        },
        "endLoc": {
          "line": 98,
          "column": 24,
          "position": 636
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ";\n\n  constructor(\n    private adapter: ICacheAdapter,\n    private dataStore: {\n      get<T>(key: string): Promise<T | null>;\n      set<T>(key: string, value: T): Promise<void>;\n      delete(key: string): Promise<boolean>;\n    }\n  ) {}\n\n  async get<T>(key: string): Promise<CacheEntry<T> | null> {\n    try {\n      const value = await this.adapter.get<T>(key);\n\n      if (value === null) {\n        return null;\n      }\n\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 163,
        "end": 182,
        "startLoc": {
          "line": 163,
          "column": 13,
          "position": 1176
        },
        "endLoc": {
          "line": 182,
          "column": 7,
          "position": 1355
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 18,
        "end": 37,
        "startLoc": {
          "line": 18,
          "column": 15,
          "position": 61
        },
        "endLoc": {
          "line": 37,
          "column": 36,
          "position": 240
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "lastAccessedAt: new Date(),\n      };\n    } catch (error) {\n      throw new CacheError(\n        `Failed to get value for key ${key}`,\n        'get',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  async set<T>(\n    key: string,\n    value: T,\n    ttl?: number,\n    _tags?: string[]\n  ): Promise<void> {\n    try {\n      // Only write to cache in cache-aside",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 191,
        "end": 210,
        "startLoc": {
          "line": 191,
          "column": 9,
          "position": 1441
        },
        "endLoc": {
          "line": 210,
          "column": 38,
          "position": 1565
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 47,
        "end": 66,
        "startLoc": {
          "line": 47,
          "column": 9,
          "position": 333
        },
        "endLoc": {
          "line": 66,
          "column": 38,
          "position": 457
        }
      }
    },
    {
      "format": "typescript",
      "lines": 25,
      "fragment": "storeResult;\n    } catch (error) {\n      throw new CacheError(\n        `Failed to delete key ${key}`,\n        'delete',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  async clear(): Promise<void> {\n    await this.adapter.clear();\n  }\n\n  async exists(key: string): Promise<boolean> {\n    return this.adapter.exists(key);\n  }\n\n  async getKeys(pattern?: string): Promise<string[]> {\n    return this.adapter.getKeys(pattern);\n  }\n\n  async getStats(): Promise<CacheStats> {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 230,
        "end": 254,
        "startLoc": {
          "line": 230,
          "column": 2,
          "position": 1721
        },
        "endLoc": {
          "line": 254,
          "column": 7,
          "position": 1899
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 88,
        "end": 112,
        "startLoc": {
          "line": 88,
          "column": 2,
          "position": 636
        },
        "endLoc": {
          "line": 112,
          "column": 61,
          "position": 814
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "return {\n      hits: 0,\n      misses: 0,\n      hitRate: 0,\n      totalKeys: (await this.getKeys()).length,\n      memoryUsage: 0,\n      evictions: 0,\n      averageTtl: 0,\n      oldestEntry: null,\n      newestEntry: null,\n    };\n  }\n\n  async invalidateByTag(tag: string): Promise<void> {\n    console",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 254,
        "end": 268,
        "startLoc": {
          "line": 254,
          "column": 5,
          "position": 1899
        },
        "endLoc": {
          "line": 268,
          "column": 8,
          "position": 2004
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 113,
        "end": 127,
        "startLoc": {
          "line": 113,
          "column": 5,
          "position": 817
        },
        "endLoc": {
          "line": 127,
          "column": 33,
          "position": 922
        }
      }
    },
    {
      "format": "typescript",
      "lines": 30,
      "fragment": "console.log(`Invalidating by tag: ${tag}`);\n  }\n\n  async invalidateByPattern(pattern: string): Promise<void> {\n    const keys = await this.getKeys(pattern);\n    await Promise.all(keys.map((key) => this.delete(key)));\n  }\n\n  async refresh<T>(\n    key: string,\n    fetcher: () => Promise<T>,\n    ttl?: number\n  ): Promise<T> {\n    try {\n      const value = await fetcher();\n      await this.set(key, value, ttl);\n      return value;\n    } catch (error) {\n      throw new CacheError(\n        `Failed to refresh value for key ${key}`,\n        'refresh',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  /**\n   * Get or fetch pattern - core of cache-aside\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 268,
        "end": 297,
        "startLoc": {
          "line": 268,
          "column": 5,
          "position": 2004
        },
        "endLoc": {
          "line": 297,
          "column": 6,
          "position": 2232
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 128,
        "end": 154,
        "startLoc": {
          "line": 128,
          "column": 5,
          "position": 925
        },
        "endLoc": {
          "line": 154,
          "column": 2,
          "position": 1151
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": ": {\n      get<T>(key: string): Promise<T | null>;\n      set<T>(key: string, value: T): Promise<void>;\n      delete(key: string): Promise<boolean>;\n    }\n  ) {\n    this",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 341,
        "end": 347,
        "startLoc": {
          "line": 341,
          "column": 11,
          "position": 2489
        },
        "endLoc": {
          "line": 347,
          "column": 5,
          "position": 2566
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 22,
        "end": 27,
        "startLoc": {
          "line": 22,
          "column": 10,
          "position": 81
        },
        "endLoc": {
          "line": 27,
          "column": 2,
          "position": 156
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "}\n\n  async get<T>(key: string): Promise<CacheEntry<T> | null> {\n    try {\n      const value = await this.adapter.get<T>(key);\n\n      if (value === null) {\n        return null;\n      }\n\n      const",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 348,
        "end": 358,
        "startLoc": {
          "line": 348,
          "column": 3,
          "position": 2574
        },
        "endLoc": {
          "line": 358,
          "column": 6,
          "position": 2658
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 27,
        "end": 37,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 156
        },
        "endLoc": {
          "line": 37,
          "column": 36,
          "position": 240
        }
      }
    },
    {
      "format": "typescript",
      "lines": 22,
      "fragment": "* 1000),\n        accessCount: 1,\n        lastAccessedAt: new Date(),\n      };\n    } catch (error) {\n      throw new CacheError(\n        `Failed to get value for key ${key}`,\n        'get',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  async set<T>(\n    key: string,\n    value: T,\n    ttl?: number,\n    _tags?: string[]\n  ): Promise<void> {\n    try {\n      await",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 371,
        "end": 392,
        "startLoc": {
          "line": 371,
          "column": 2,
          "position": 2769
        },
        "endLoc": {
          "line": 392,
          "column": 6,
          "position": 2907
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 188,
        "end": 66,
        "startLoc": {
          "line": 188,
          "column": 2,
          "position": 1425
        },
        "endLoc": {
          "line": 66,
          "column": 38,
          "position": 457
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "await this.adapter.set(key, value, ttl);\n    } catch (error) {\n      throw new CacheError(\n        `Failed to set value for key ${key}`,\n        'set',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  async delete(key: string): Promise<boolean> {\n    try {\n      return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 392,
        "end": 405,
        "startLoc": {
          "line": 392,
          "column": 7,
          "position": 2907
        },
        "endLoc": {
          "line": 405,
          "column": 7,
          "position": 3003
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 211,
        "end": 224,
        "startLoc": {
          "line": 211,
          "column": 7,
          "position": 1568
        },
        "endLoc": {
          "line": 224,
          "column": 36,
          "position": 1664
        }
      }
    },
    {
      "format": "typescript",
      "lines": 68,
      "fragment": ";\n    } catch (error) {\n      throw new CacheError(\n        `Failed to delete key ${key}`,\n        'delete',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  async clear(): Promise<void> {\n    await this.adapter.clear();\n  }\n\n  async exists(key: string): Promise<boolean> {\n    return this.adapter.exists(key);\n  }\n\n  async getKeys(pattern?: string): Promise<string[]> {\n    return this.adapter.getKeys(pattern);\n  }\n\n  async getStats(): Promise<CacheStats> {\n    return {\n      hits: 0,\n      misses: 0,\n      hitRate: 0,\n      totalKeys: (await this.getKeys()).length,\n      memoryUsage: 0,\n      evictions: 0,\n      averageTtl: 0,\n      oldestEntry: null,\n      newestEntry: null,\n    };\n  }\n\n  async invalidateByTag(tag: string): Promise<void> {\n    console.log(`Invalidating by tag: ${tag}`);\n  }\n\n  async invalidateByPattern(pattern: string): Promise<void> {\n    const keys = await this.getKeys(pattern);\n    await Promise.all(keys.map((key) => this.delete(key)));\n  }\n\n  async refresh<T>(\n    key: string,\n    fetcher: () => Promise<T>,\n    ttl?: number\n  ): Promise<T> {\n    try {\n      const value = await fetcher();\n      await this.set(key, value, ttl);\n      return value;\n    } catch (error) {\n      throw new CacheError(\n        `Failed to refresh value for key ${key}`,\n        'refresh',\n        key,\n        error as Error\n      );\n    }\n  }\n\n  /**\n   * Schedule refresh for a key\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 405,
        "end": 472,
        "startLoc": {
          "line": 405,
          "column": 2,
          "position": 3015
        },
        "endLoc": {
          "line": 472,
          "column": 6,
          "position": 3525
        }
      },
      "secondFile": {
        "name": "src/lib/cache/strategies/CacheStrategies.ts",
        "start": 88,
        "end": 154,
        "startLoc": {
          "line": 88,
          "column": 12,
          "position": 637
        },
        "endLoc": {
          "line": 154,
          "column": 2,
          "position": 1151
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "import type { Metadata } from 'next';\nimport Link from 'next/link';\n\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Badge } from '@/components/ui/badge';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport { loadPainPointsFromJson",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 23,
          "position": 97
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 1,
        "end": 9,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 9,
          "column": 28,
          "position": 97
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ",\n  };\n\n  return (\n    <>\n      <script\n        type=\"application/ld+json\"\n        // SECURITY: JSON-LD is safe - it's JSON.stringify of our own data, no user input\n        // eslint-disable-next-line react/no-danger\n        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}\n      />\n      <MainLayout>\n        <div className=\"container py-10\">\n          {/* Header */}\n          <header className=\"mb-8 text-center\">\n            <div className=\"mx-auto max-w-3xl space-y-4\">\n              <h1 className=\"mb-4 text-4xl font-bold\">\n                AI Development Pain",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 99,
        "end": 116,
        "startLoc": {
          "line": 99,
          "column": 2,
          "position": 756
        },
        "endLoc": {
          "line": 116,
          "column": 5,
          "position": 869
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 120,
        "end": 137,
        "startLoc": {
          "line": 120,
          "column": 18,
          "position": 964
        },
        "endLoc": {
          "line": 137,
          "column": 16,
          "position": 1077
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                <Button asChild size=\"lg\" variant=\"outline\">\n                  <Link href=\"/workflows#workflow-library\">Explore workflows</Link>\n                </Button>\n                <Button asChild size=\"lg\" variant=\"outline\">\n                  <Link href=\"/guardrails\">View guardrails</Link>\n                </Button>\n                <",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 121,
        "end": 128,
        "startLoc": {
          "line": 121,
          "column": 2,
          "position": 950
        },
        "endLoc": {
          "line": 128,
          "column": 2,
          "position": 1035
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 145,
        "end": 152,
        "startLoc": {
          "line": 145,
          "column": 7,
          "position": 1199
        },
        "endLoc": {
          "line": 152,
          "column": 3,
          "position": 1284
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ".keywords.slice(0, 3).map((keyword, index) => (\n                        <Badge key={index} variant=\"outline\" className=\"text-xs\">\n                          {keyword}\n                        </Badge>\n                      ))}\n                    </div>\n                  )}\n                  <Button asChild variant=\"outline\" size=\"sm\" className=\"w-full\">\n                    <Link href={`/workflows/pain-points/${painPoint.slug}`}>\n                      Learn More\n                      <Icons.arrowRight className=\"ml-2 h-3 w-3\" />\n                    </Link>\n                  </Button>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 158,
        "end": 176,
        "startLoc": {
          "line": 158,
          "column": 10,
          "position": 1285
        },
        "endLoc": {
          "line": 176,
          "column": 2,
          "position": 1447
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 192,
        "end": 209,
        "startLoc": {
          "line": 192,
          "column": 15,
          "position": 1663
        },
        "endLoc": {
          "line": 209,
          "column": 2,
          "position": 1824
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ".\n            </p>\n            <div className=\"flex flex-wrap justify-center gap-3\">\n              <Button asChild>\n                <Link href=\"/workflows#workflow-library\">Explore workflows &amp; guardrails</Link>\n              </Button>\n            </div>\n          </div>\n\n        </div>\n      </MainLayout>\n    </>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 180,
        "end": 193,
        "startLoc": {
          "line": 180,
          "column": 7,
          "position": 1523
        },
        "endLoc": {
          "line": 193,
          "column": 2,
          "position": 1604
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 215,
        "end": 228,
        "startLoc": {
          "line": 215,
          "column": 9,
          "position": 1905
        },
        "endLoc": {
          "line": 228,
          "column": 2,
          "position": 1986
        }
      }
    },
    {
      "format": "javascript",
      "lines": 73,
      "fragment": "={() => router.push('/library')} className=\"mb-6\">\n          <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n          Library\n        </Button>\n\n        {/* Tag Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center gap-3 mb-4\">\n            <div className=\"rounded-lg bg-primary/10 p-3\">\n              <Icons.tag className=\"h-8 w-8 text-primary\" />\n            </div>\n            <div>\n              <h1 className=\"text-4xl font-bold\">{displayTag}</h1>\n              <p className=\"text-muted-foreground\">\n                {taggedPrompts.length} prompt{taggedPrompts.length !== 1 ? 's' : ''} tagged with {displayTag.toLowerCase()}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Prompts Grid */}\n        <div>\n          {taggedPrompts.length === 0 ? (\n            <Card>\n              <CardContent className=\"flex flex-col items-center justify-center py-12\">\n                <Icons.inbox className=\"mb-4 h-12 w-12 text-muted-foreground\" />\n                <p className=\"text-muted-foreground mb-2\">\n                  No prompts found with tag: {displayTag}\n                </p>\n                <Button className=\"mt-4\" onClick={() => router.push('/library')}>\n                  Browse All Prompts\n                </Button>\n              </CardContent>\n            </Card>\n          ) : (\n            <div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n              {taggedPrompts.map((prompt) => (\n                <Card\n                  key={prompt.id}\n                  className=\"cursor-pointer transition-all hover:shadow-lg\"\n                  onClick={() => router.push(`/library/${prompt.id}`)}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <CardTitle className=\"text-lg line-clamp-2\">{prompt.title}</CardTitle>\n                      {prompt.isFeatured && (\n                        <Badge variant=\"default\" className=\"shrink-0\">\n                          <Icons.star className=\"h-3 w-3\" />\n                        </Badge>\n                      )}\n                    </div>\n                    <CardDescription className=\"line-clamp-2\">\n                      {prompt.description}\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex flex-wrap gap-2\">\n                        <Badge variant=\"secondary\">{prompt.category}</Badge>\n                        {prompt.role && <Badge variant=\"outline\">{prompt.role}</Badge>}\n                        {prompt.pattern && (\n                          <Badge variant=\"outline\">\n                            <Icons.zap className=\"mr-1 h-3 w-3\" />\n                            {prompt.pattern}\n                          </Badge>\n                        )}\n                      </div>\n                      {prompt.tags && prompt.tags.length > 0 && (\n                        <div className=\"flex flex-wrap gap-1\">\n                          {prompt.tags.slice(0, 3).map((t) => (\n                            <Badge \n                              key={t} \n                              variant={t",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/tag-page-client.tsx",
        "start": 24,
        "end": 96,
        "startLoc": {
          "line": 24,
          "column": 8,
          "position": 218
        },
        "endLoc": {
          "line": 96,
          "column": 2,
          "position": 925
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 27,
        "end": 143,
        "startLoc": {
          "line": 27,
          "column": 8,
          "position": 235
        },
        "endLoc": {
          "line": 143,
          "column": 2,
          "position": 1395
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport type { Prompt } from '@/lib/schemas/prompt';\n\ninterface TagPageClientProps",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/tag-page-client.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 19,
          "position": 112
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 1,
        "end": 11,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 11,
          "column": 20,
          "position": 112
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ") {\n  const router = useRouter();\n\n  return (\n    <MainLayout>\n      <div className=\"container py-8\">\n        {/* Back Button */}\n        <Button variant=\"ghost\" onClick={() => router.push('/library')} className=\"mb-6\">\n          <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n          Library\n        </Button>\n\n        {/* Tag Header */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/tag-page-client.tsx",
        "start": 17,
        "end": 29,
        "startLoc": {
          "line": 17,
          "column": 19,
          "position": 164
        },
        "endLoc": {
          "line": 29,
          "column": 17,
          "position": 262
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 20,
        "end": 32,
        "startLoc": {
          "line": 20,
          "column": 20,
          "position": 181
        },
        "endLoc": {
          "line": 32,
          "column": 18,
          "position": 279
        }
      }
    },
    {
      "format": "tsx",
      "lines": 36,
      "fragment": ".map((prompt) => (\n                <Card\n                  key={prompt.id}\n                  className=\"cursor-pointer transition-all hover:shadow-lg\"\n                  onClick={() => router.push(`/library/${prompt.id}`)}\n                >\n                  <CardHeader>\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <CardTitle className=\"text-lg line-clamp-2\">{prompt.title}</CardTitle>\n                      {prompt.isFeatured && (\n                        <Badge variant=\"default\" className=\"shrink-0\">\n                          <Icons.star className=\"h-3 w-3\" />\n                        </Badge>\n                      )}\n                    </div>\n                    <CardDescription className=\"line-clamp-2\">\n                      {prompt.description}\n                    </CardDescription>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-3\">\n                      <div className=\"flex flex-wrap gap-2\">\n                        <Badge variant=\"secondary\">{prompt.category}</Badge>\n                        {prompt.role && <Badge variant=\"outline\">{prompt.role}</Badge>}\n                        {prompt.pattern && (\n                          <Badge variant=\"outline\">\n                            <Icons.zap className=\"mr-1 h-3 w-3\" />\n                            {prompt.pattern}\n                          </Badge>\n                        )}\n                      </div>\n                      {prompt.tags && prompt.tags.length > 0 && (\n                        <div className=\"flex flex-wrap gap-1\">\n                          {prompt.tags.slice(0, 3).map((t) => (\n                            <Badge \n                              ",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/tag-page-client.tsx",
        "start": 60,
        "end": 95,
        "startLoc": {
          "line": 60,
          "column": 14,
          "position": 560
        },
        "endLoc": {
          "line": 95,
          "column": 31,
          "position": 915
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 66,
        "end": 100,
        "startLoc": {
          "line": 66,
          "column": 12,
          "position": 604
        },
        "endLoc": {
          "line": 100,
          "column": 2,
          "position": 959
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": ">\n                              {t}\n                            </Badge>\n                          ))}\n                          {prompt.tags.length > 3 && (\n                            <Badge variant=\"outline\" className=\"text-xs\">\n                              +{prompt.tags.length - 3}\n                            </Badge>\n                          )}\n                        </div>\n                      )}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Related Tags Section */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/tag-page-client.tsx",
        "start": 98,
        "end": 117,
        "startLoc": {
          "line": 98,
          "column": 29,
          "position": 953
        },
        "endLoc": {
          "line": 117,
          "column": 27,
          "position": 1072
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/role-page-client.tsx",
        "start": 100,
        "end": 119,
        "startLoc": {
          "line": 100,
          "column": 2,
          "position": 977
        },
        "endLoc": {
          "line": 119,
          "column": 28,
          "position": 1096
        }
      }
    },
    {
      "format": "tsx",
      "lines": 25,
      "fragment": ",\n        isPublic: true,\n      })\n      .sort({ isFeatured: -1, views: -1 })\n      .limit(100)\n      .toArray();\n\n    return prompts.map((p) => ({\n      id: p.id || p._id.toString(),\n      slug: p.slug,\n      title: p.title,\n      description: p.description,\n      content: p.content,\n      category: p.category,\n      role: p.role,\n      pattern: p.pattern,\n      tags: p.tags || [],\n      isFeatured: p.isFeatured || false,\n      views: p.views || 0,\n      rating: p.rating || p.stats?.averageRating || 0,\n      ratingCount: p.ratingCount || p.stats?.totalRatings || 0,\n      createdAt: p.createdAt || new Date(),\n    }));\n  } catch (error) {\n    console.error('Error fetching prompts by tag:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/page.tsx",
        "start": 20,
        "end": 44,
        "startLoc": {
          "line": 20,
          "column": 2,
          "position": 174
        },
        "endLoc": {
          "line": 44,
          "column": 33,
          "position": 445
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 68,
        "end": 92,
        "startLoc": {
          "line": 68,
          "column": 2,
          "position": 414
        },
        "endLoc": {
          "line": 92,
          "column": 34,
          "position": 685
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "}`;\n\n  return {\n    title,\n    description,\n    alternates: {\n      canonical: url,\n    },\n    openGraph: {\n      title,\n      description,\n      url,\n      type: 'website',\n      siteName: 'Engify.ai',\n    },\n    twitter: {\n      card: 'summary_large_image',\n      title,\n      description,\n    },\n    keywords: [\n      'prompt engineering',\n      'AI prompts',\n      displayTag",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/page.tsx",
        "start": 94,
        "end": 117,
        "startLoc": {
          "line": 94,
          "column": 17,
          "position": 947
        },
        "endLoc": {
          "line": 117,
          "column": 11,
          "position": 1058
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 118,
        "end": 141,
        "startLoc": {
          "line": 118,
          "column": 2,
          "position": 972
        },
        "endLoc": {
          "line": 141,
          "column": 9,
          "position": 1083
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "normalized } = decodeTagFromUrl(tag);\n    \n    // Get all tag variations for database lookup\n    const tagVariations = getTagVariations(tag);\n    \n    // Try to find prompts with any of the tag variations\n    const allPrompts = [];\n    for (const tagVar of tagVariations) {\n      const prompts = await getPromptsByTag(tagVar);\n      allPrompts.push(...prompts);\n    }\n    \n    // Remove duplicates based on prompt ID\n    const uniquePrompts = Array.from(\n      new Map(allPrompts.map(p => [p.id, p])).values()\n    );\n\n    // Normalize tag for display (title case)\n    const displayTag = normalized\n      .split('-')\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ');\n\n    // Generate JSON-LD structured data",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/page.tsx",
        "start": 142,
        "end": 165,
        "startLoc": {
          "line": 142,
          "column": 2,
          "position": 1241
        },
        "endLoc": {
          "line": 165,
          "column": 36,
          "position": 1440
        }
      },
      "secondFile": {
        "name": "src/app/tags/[tag]/page.tsx",
        "start": 66,
        "end": 89,
        "startLoc": {
          "line": 66,
          "column": 2,
          "position": 659
        },
        "endLoc": {
          "line": 89,
          "column": 6,
          "position": 857
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ".slice(0, 10).map((prompt, index) => ({\n        '@type': 'ListItem',\n        position: index + 1,\n        item: {\n          '@type': 'Article',\n          name: prompt.title,\n          description: prompt.description,\n          url: `${APP_URL}/prompts/",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tags/[tag]/page.tsx",
        "start": 176,
        "end": 183,
        "startLoc": {
          "line": 176,
          "column": 14,
          "position": 1548
        },
        "endLoc": {
          "line": 183,
          "column": 10,
          "position": 1628
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 178,
        "end": 185,
        "startLoc": {
          "line": 178,
          "column": 12,
          "position": 1390
        },
        "endLoc": {
          "line": 185,
          "column": 10,
          "position": 1470
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": "const categoryLabel = categoryLabels[prompt.category] || prompt.category;\n    const roleLabel = prompt.role ? roleLabels[prompt.role as UserRole] : null;\n    const patternLabel = prompt.pattern\n      ? patternLabels[prompt.pattern as keyof typeof patternLabels]\n      : null;\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/prompts/[id]/page.tsx",
        "start": 240,
        "end": 245,
        "startLoc": {
          "line": 240,
          "column": 5,
          "position": 1857
        },
        "endLoc": {
          "line": 245,
          "column": 6,
          "position": 1942
        }
      },
      "secondFile": {
        "name": "src/app/prompts/[id]/page.tsx",
        "start": 110,
        "end": 116,
        "startLoc": {
          "line": 110,
          "column": 5,
          "position": 767
        },
        "endLoc": {
          "line": 116,
          "column": 41,
          "position": 853
        }
      }
    },
    {
      "format": "javascript",
      "lines": 70,
      "fragment": "} />\n                  Sync from Providers\n                </Button>\n              </div>\n            </CardContent>\n          </Card>\n        )}\n\n        {/* Filter */}\n        {models.length > 0 && (\n          <div className=\"flex gap-2 mb-6\">\n            <Button\n              variant={filter === 'all' ? 'default' : 'outline'}\n              onClick={() => setFilter('all')}\n              size=\"sm\"\n            >\n              All Models ({models.length})\n            </Button>\n            <Button\n              variant={filter === 'active' ? 'default' : 'outline'}\n              onClick={() => setFilter('active')}\n              size=\"sm\"\n            >\n              Active ({models.filter(m => !m.deprecated).length})\n            </Button>\n            <Button\n              variant={filter === 'deprecated' ? 'default' : 'outline'}\n              onClick={() => setFilter('deprecated')}\n              size=\"sm\"\n            >\n              Deprecated ({models.filter(m => m.deprecated).length})\n            </Button>\n          </div>\n        )}\n\n        {/* Important Notice */}\n        <Card className=\"mb-8 border-orange-200 bg-orange-50/50 dark:border-orange-900 dark:bg-orange-950/20\">\n          <CardHeader>\n            <CardTitle className=\"flex items-center gap-2 text-orange-700 dark:text-orange-400\">\n              <Icons.alertTriangle className=\"h-5 w-5\" />\n              Model Names Change Frequently!\n            </CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-2 text-sm\">\n            <p><strong>Problem:</strong> Providers update model names without notice (e.g., Google adds -002 suffixes)</p>\n            <p><strong>Solution:</strong> Check provider docs monthly and update <code>src/lib/config/ai-models.ts</code></p>\n            <p><strong>Test After Update:</strong> Run <code>pnpm exec tsx scripts/content/test-prompts-multi-model.ts --dry-run</code></p>\n            <div className=\"flex gap-2 mt-4\">\n              <Button variant=\"outline\" size=\"sm\" asChild>\n                <a href=\"https://platform.openai.com/docs/models\" target=\"_blank\">\n                  OpenAI Docs\n                </a>\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" asChild>\n                <a href=\"https://docs.anthropic.com/en/docs/models-overview\" target=\"_blank\">\n                  Anthropic Docs\n                </a>\n              </Button>\n              <Button variant=\"outline\" size=\"sm\" asChild>\n                <a href=\"https://ai.google.dev/gemini-api/docs/models/gemini\" target=\"_blank\">\n                  Google Docs\n                </a>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Models by Provider */}\n        {Object.entries(groupedByProvider).map(([provider, providerModels]) => (\n          <div key={provider",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/opshub/ai-models/page.tsx",
        "start": 269,
        "end": 338,
        "startLoc": {
          "line": 269,
          "column": 2,
          "position": 2422
        },
        "endLoc": {
          "line": 338,
          "column": 9,
          "position": 3135
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 262,
        "end": 366,
        "startLoc": {
          "line": 262,
          "column": 2,
          "position": 2119
        },
        "endLoc": {
          "line": 366,
          "column": 2,
          "position": 3001
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ");\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ error: 'Unknown error' }));\n        console.error('API Error:', errorData);\n        throw new Error(errorData.error || `Failed to load models: ",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/opshub/ai-models/page.tsx",
        "start": 33,
        "end": 38,
        "startLoc": {
          "line": 33,
          "column": 23,
          "position": 337
        },
        "endLoc": {
          "line": 38,
          "column": 25,
          "position": 414
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 66,
        "end": 71,
        "startLoc": {
          "line": 66,
          "column": 22,
          "position": 590
        },
        "endLoc": {
          "line": 71,
          "column": 24,
          "position": 667
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ");\n    }\n  }\n\n  if (loading) {\n    return (\n      <MainLayout>\n        <div className=\"container py-8\">\n          <div className=\"flex items-center justify-center min-h-[400px]\">\n            <div className=\"text-center\">\n              <Icons.spinner className=\"mx-auto mb-4 h-8 w-8 animate-spin\" />\n              <p className=\"text-muted-foreground\">Loading AI models",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/opshub/ai-models/page.tsx",
        "start": 125,
        "end": 136,
        "startLoc": {
          "line": 125,
          "column": 6,
          "position": 1112
        },
        "endLoc": {
          "line": 136,
          "column": 7,
          "position": 1200
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 184,
        "end": 195,
        "startLoc": {
          "line": 184,
          "column": 2,
          "position": 1477
        },
        "endLoc": {
          "line": 195,
          "column": 6,
          "position": 1565
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "[]>);\n\n  return (\n    <MainLayout>\n      <div className=\"container py-8\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-4xl font-bold\">AI Models",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/opshub/ai-models/page.tsx",
        "start": 156,
        "end": 165,
        "startLoc": {
          "line": 156,
          "column": 13,
          "position": 1421
        },
        "endLoc": {
          "line": 165,
          "column": 7,
          "position": 1493
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 217,
        "end": 227,
        "startLoc": {
          "line": 217,
          "column": 12,
          "position": 1792
        },
        "endLoc": {
          "line": 227,
          "column": 6,
          "position": 1866
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ").length}\n              </div>\n            </CardContent>\n          </Card>\n          \n          <Card>\n            <CardHeader className=\"pb-3\">\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n                Deprecated\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold text-orange-600\">\n                {models",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/opshub/ai-models/page.tsx",
        "start": 212,
        "end": 225,
        "startLoc": {
          "line": 212,
          "column": 11,
          "position": 1860
        },
        "endLoc": {
          "line": 225,
          "column": 7,
          "position": 1940
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 291,
        "end": 304,
        "startLoc": {
          "line": 291,
          "column": 9,
          "position": 2319
        },
        "endLoc": {
          "line": 304,
          "column": 6,
          "position": 2398
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": ";\nimport Link from 'next/link';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Icons } from '@/lib/icons';\nimport { generateCourseSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/prompt-engineering-masterclass/page.tsx",
        "start": 15,
        "end": 28,
        "startLoc": {
          "line": 15,
          "column": 7,
          "position": 16
        },
        "endLoc": {
          "line": 28,
          "column": 21,
          "position": 114
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-models/compare/[models]/page.tsx",
        "start": 9,
        "end": 22,
        "startLoc": {
          "line": 9,
          "column": 18,
          "position": 27
        },
        "endLoc": {
          "line": 22,
          "column": 15,
          "position": 125
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</span>\n        </div>\n      </nav>\n\n      <article className=\"container max-w-4xl py-12\">\n        {/* Header */}\n        <header className=\"mb-12 space-y-6 border-b pb-8\">\n          <div className=\"flex items-center gap-3\">\n            <Badge variant=\"default\" className=\"text-sm font-medium\">\n              Best",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 68,
        "end": 77,
        "startLoc": {
          "line": 68,
          "column": 6,
          "position": 393
        },
        "endLoc": {
          "line": 77,
          "column": 5,
          "position": 464
        }
      },
      "secondFile": {
        "name": "src/app/learn/prompt-engineering-masterclass/page.tsx",
        "start": 161,
        "end": 170,
        "startLoc": {
          "line": 161,
          "column": 12,
          "position": 999
        },
        "endLoc": {
          "line": 170,
          "column": 12,
          "position": 1070
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import type { Metadata } from 'next';\nimport Link from 'next/link';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Icons } from '@/lib/icons';\n\nexport const metadata: Metadata = {\n  title: 'Chain-of-Thought Prompting: Complete Guide with Examples | Engify.ai'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 11,
        "end": 20,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 20,
          "column": 71,
          "position": 122
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 11,
        "end": 20,
        "startLoc": {
          "line": 11,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 20,
          "column": 69,
          "position": 122
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "() {\n  return (\n    <MainLayout>\n      {/* Breadcrumbs */}\n      <nav className=\"border-b bg-slate-50 dark:bg-slate-900\">\n        <div className=\"container flex items-center gap-2 py-3 text-sm\">\n          <Link\n            href=\"/\"\n            className=\"text-muted-foreground hover:text-foreground\"\n          >\n            Home\n          </Link>\n          <Icons.chevronRight className=\"h-4 w-4 text-muted-foreground\" />\n          <Link\n            href=\"/learn\"\n            className=\"text-muted-foreground hover:text-foreground\"\n          >\n            Learn\n          </Link>\n          <Icons.chevronRight className=\"h-4 w-4 text-muted-foreground\" />\n          <span className=\"font-medium\">Chain",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 49,
        "end": 69,
        "startLoc": {
          "line": 49,
          "column": 24,
          "position": 264
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 392
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 48,
        "end": 68,
        "startLoc": {
          "line": 48,
          "column": 24,
          "position": 260
        },
        "endLoc": {
          "line": 68,
          "column": 5,
          "position": 388
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</span>\n        </div>\n      </nav>\n\n      <article className=\"container max-w-4xl py-12\">\n        {/* Header */}\n        <header className=\"mb-12 space-y-6 border-b pb-8\">\n          <div className=\"flex items-center gap-3\">\n            <Badge variant=\"default\" className=\"text-sm font-medium\">\n              Pattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 69,
        "end": 78,
        "startLoc": {
          "line": 69,
          "column": 10,
          "position": 399
        },
        "endLoc": {
          "line": 78,
          "column": 8,
          "position": 470
        }
      },
      "secondFile": {
        "name": "src/app/learn/prompt-engineering-masterclass/page.tsx",
        "start": 161,
        "end": 170,
        "startLoc": {
          "line": 161,
          "column": 12,
          "position": 999
        },
        "endLoc": {
          "line": 170,
          "column": 12,
          "position": 1070
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ".\n          </p>\n          <div className=\"flex items-center gap-4 text-sm text-muted-foreground\">\n            <span>Part of the</span>\n            <Link\n              href=\"/learn/prompt-engineering-masterclass\"\n              className=\"text-primary hover:underline font-medium\"\n            >\n              Prompt Engineering Masterclass\n            </Link>\n            <span></span>\n            <span>15",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 94,
        "end": 105,
        "startLoc": {
          "line": 94,
          "column": 10,
          "position": 662
        },
        "endLoc": {
          "line": 105,
          "column": 3,
          "position": 736
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 92,
        "end": 103,
        "startLoc": {
          "line": 92,
          "column": 12,
          "position": 629
        },
        "endLoc": {
          "line": 103,
          "column": 3,
          "position": 703
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": ".\n          </p>\n          <div className=\"flex flex-col sm:flex-row gap-4\">\n            <Button size=\"lg\" asChild>\n              <Link href=\"/learn/prompt-engineering-masterclass\">\n                View Full Masterclass\n                <Icons.arrowRight className=\"ml-2 h-4 w-4\" />\n              </Link>\n            </Button>\n            <Button size=\"lg\" variant=\"outline\" asChild>\n              <Link href=\"/patterns/chain-of-thought",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 502,
        "end": 512,
        "startLoc": {
          "line": 502,
          "column": 10,
          "position": 3824
        },
        "endLoc": {
          "line": 512,
          "column": 27,
          "position": 3921
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 402,
        "end": 412,
        "startLoc": {
          "line": 402,
          "column": 13,
          "position": 2492
        },
        "endLoc": {
          "line": 412,
          "column": 9,
          "position": 2589
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "</Link>\n            </Button>\n          </div>\n        </section>\n\n        {/* Related Resources */}\n        <section className=\"mb-12\">\n          <h2 className=\"mb-6 text-2xl font-bold\">Related Resources</h2>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">\n                  <Link\n                    href=\"/patterns/chain-of-thought",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 514,
        "end": 527,
        "startLoc": {
          "line": 514,
          "column": 15,
          "position": 3937
        },
        "endLoc": {
          "line": 527,
          "column": 27,
          "position": 4029
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 414,
        "end": 427,
        "startLoc": {
          "line": 414,
          "column": 15,
          "position": 2603
        },
        "endLoc": {
          "line": 427,
          "column": 38,
          "position": 2695
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": ">\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">\n                  <Link\n                    href=\"/learn/prompt-engineering-masterclass\"\n                    className=\"hover:text-primary\"\n                  >\n                    Prompt Engineering Masterclass\n                  </Link>\n                </CardTitle>\n                <CardDescription>\n                  Complete guide to all 15 prompt engineering patterns\n                </CardDescription>\n              </CardHeader>\n            </Card>\n            <Card>\n              <CardHeader>\n                <CardTitle className=\"text-lg\">\n                  <Link href=\"/patterns",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/chain-of-thought-guide/page.tsx",
        "start": 538,
        "end": 557,
        "startLoc": {
          "line": 538,
          "column": 5,
          "position": 4107
        },
        "endLoc": {
          "line": 557,
          "column": 10,
          "position": 4230
        }
      },
      "secondFile": {
        "name": "src/app/learn/code-generation-guide/page.tsx",
        "start": 422,
        "end": 441,
        "startLoc": {
          "line": 422,
          "column": 2,
          "position": 2665
        },
        "endLoc": {
          "line": 441,
          "column": 9,
          "position": 2788
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "\">\n              <CardTitle className=\"text-sm font-medium text-muted-foreground\">\n                Total Tools\n              </CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-3xl font-bold\">{tools.length}</div>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"pb-2",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-tools/page.tsx",
        "start": 224,
        "end": 234,
        "startLoc": {
          "line": 224,
          "column": 5,
          "position": 1737
        },
        "endLoc": {
          "line": 234,
          "column": 5,
          "position": 1812
        }
      },
      "secondFile": {
        "name": "src/app/opshub/ai-tools/page.tsx",
        "start": 273,
        "end": 284,
        "startLoc": {
          "line": 273,
          "column": 5,
          "position": 2178
        },
        "endLoc": {
          "line": 284,
          "column": 5,
          "position": 2254
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": ">\n            </CardHeader>\n            <CardContent>\n              <div className=\"overflow-x-auto\">\n                <table className=\"w-full\">\n                  <thead>\n                    <tr className=\"border-b\">\n                      <th className=\"p-3 text-left font-semibold\">Feature</th>\n                      <th className=\"p-3 text-left font-semibold text-blue-900 dark:text-blue-100",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/ai-models/page.tsx",
        "start": 132,
        "end": 140,
        "startLoc": {
          "line": 132,
          "column": 2,
          "position": 1057
        },
        "endLoc": {
          "line": 140,
          "column": 61,
          "position": 1129
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/page.tsx",
        "start": 264,
        "end": 272,
        "startLoc": {
          "line": 264,
          "column": 16,
          "position": 2049
        },
        "endLoc": {
          "line": 272,
          "column": 65,
          "position": 2121
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "\"\n                />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setStep(2)}\n                  className=\"flex-1\"\n                >\n                  <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n                  Back\n                </Button>\n                <Button\n                  onClick={() => setStep(4)}\n                  disabled={!data.rootCause}\n                  className=\"flex-1\"\n                >\n                  Next: Resolution",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 293,
        "end": 310,
        "startLoc": {
          "line": 293,
          "column": 14,
          "position": 2064
        },
        "endLoc": {
          "line": 310,
          "column": 11,
          "position": 2175
        }
      },
      "secondFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 239,
        "end": 256,
        "startLoc": {
          "line": 239,
          "column": 32,
          "position": 1670
        },
        "endLoc": {
          "line": 256,
          "column": 5,
          "position": 1781
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": "\"\n                />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setStep(3)}\n                  className=\"flex-1\"\n                >\n                  <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n                  Back\n                </Button>\n                <Button\n                  onClick={() => setStep(5)}\n                  disabled={!data.resolution}\n                  className=\"flex-1\"\n                >\n                  Next: Prevention",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 333,
        "end": 350,
        "startLoc": {
          "line": 333,
          "column": 14,
          "position": 2364
        },
        "endLoc": {
          "line": 350,
          "column": 11,
          "position": 2475
        }
      },
      "secondFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 239,
        "end": 256,
        "startLoc": {
          "line": 239,
          "column": 32,
          "position": 1670
        },
        "endLoc": {
          "line": 256,
          "column": 5,
          "position": 1781
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "\"\n                  value={data.preventionSteps}\n                  onChange={(e) =>\n                    updateData('preventionSteps', e.target.value)\n                  }\n                  className=\"min-h-[200px] font-mono text-sm\"\n                />\n              </div>\n              <div className=\"flex gap-2\">\n                <Button\n                  variant=\"outline\"\n                  onClick={() => setStep(4)}\n                  className=\"flex-1\"\n                >\n                  <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n                  Back\n                </Button>\n                <Button\n                  onClick={generateReport}\n                  disabled={!data.preventionSteps}\n                  className=\"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 377,
        "end": 397,
        "startLoc": {
          "line": 377,
          "column": 78,
          "position": 2657
        },
        "endLoc": {
          "line": 397,
          "column": 52,
          "position": 2787
        }
      },
      "secondFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 236,
        "end": 254,
        "startLoc": {
          "line": 236,
          "column": 37,
          "position": 1635
        },
        "endLoc": {
          "line": 254,
          "column": 7,
          "position": 1772
        }
      }
    },
    {
      "format": "typescript",
      "lines": 32,
      "fragment": "(req: NextRequest) {\n  // Rate limiting - use correct signature: (identifier, tier)\n  const session = await auth();\n  const tier = session?.user ? 'authenticated' : 'anonymous';\n  const identifier = session?.user?.id || getClientIp(req) || 'unknown';\n  \n  const rateLimitResult = await checkRateLimit(identifier, tier);\n\n  if (!rateLimitResult.allowed) {\n    const rateLimitValue = tier === 'anonymous' \n      ? AI_RATE_LIMITS.anonymous.perHour \n      : tier === 'authenticated' \n      ? AI_RATE_LIMITS.authenticated.perHour \n      : AI_RATE_LIMITS.pro.perHour;\n\n    return NextResponse.json(\n      // SECURITY: Static error message, not user input - safe to return\n      { error: rateLimitResult.reason || ERROR_MESSAGES.RATE_LIMIT_EXCEEDED },\n      { \n        status: 429,\n        headers: {\n          'Retry-After': '3600',\n          'X-RateLimit-Limit': String(rateLimitValue),\n          'X-RateLimit-Remaining': '0',\n          'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n        }\n      }\n    );\n  }\n\n  try {\n    const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/stats/route.ts",
        "start": 23,
        "end": 54,
        "startLoc": {
          "line": 23,
          "column": 4,
          "position": 107
        },
        "endLoc": {
          "line": 54,
          "column": 6,
          "position": 373
        }
      },
      "secondFile": {
        "name": "src/app/api/stats/invalidate/route.ts",
        "start": 35,
        "end": 65,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 200
        },
        "endLoc": {
          "line": 65,
          "column": 43,
          "position": 465
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "|| 'unknown';\n    \n    const rateLimitResult = await checkRateLimit(identifier, tier);\n    if (!rateLimitResult.allowed) {\n      const rateLimitValue = tier === 'anonymous' \n        ? AI_RATE_LIMITS.anonymous.perHour \n        : tier === 'authenticated' \n        ? AI_RATE_LIMITS.authenticated.perHour \n        : AI_RATE_LIMITS.pro.perHour;\n\n      return NextResponse.json(\n        {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/rag/route.ts",
        "start": 42,
        "end": 53,
        "startLoc": {
          "line": 42,
          "column": 2,
          "position": 454
        },
        "endLoc": {
          "line": 53,
          "column": 2,
          "position": 555
        }
      },
      "secondFile": {
        "name": "src/app/api/stats/invalidate/route.ts",
        "start": 39,
        "end": 51,
        "startLoc": {
          "line": 39,
          "column": 2,
          "position": 269
        },
        "endLoc": {
          "line": 51,
          "column": 67,
          "position": 371
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "const session = await auth();\n  const tier = session?.user ? 'authenticated' : 'anonymous';\n  const identifier = session?.user?.id || request.headers.get('x-forwarded-for')?.split(',')[0] || 'unknown';\n  \n  const rateLimitResult = await checkRateLimit(identifier, tier);\n  if (!rateLimitResult.allowed) {\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/rag/route.ts",
        "start": 154,
        "end": 160,
        "startLoc": {
          "line": 154,
          "column": 3,
          "position": 1243
        },
        "endLoc": {
          "line": 160,
          "column": 7,
          "position": 1350
        }
      },
      "secondFile": {
        "name": "src/app/api/rag/route.ts",
        "start": 40,
        "end": 46,
        "startLoc": {
          "line": 40,
          "column": 5,
          "position": 385
        },
        "endLoc": {
          "line": 46,
          "column": 6,
          "position": 492
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "const latency = Date.now() - startTime;\n    return {\n      status: 'healthy',\n      latency,\n    };\n  } catch (error) {\n    return {\n      status: 'unhealthy',\n      latency: Date.now() - startTime,\n      error: error instanceof Error ? error.message : 'Unknown error',\n    };\n  }\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/health/route.ts",
        "start": 67,
        "end": 81,
        "startLoc": {
          "line": 67,
          "column": 5,
          "position": 421
        },
        "endLoc": {
          "line": 81,
          "column": 7,
          "position": 527
        }
      },
      "secondFile": {
        "name": "src/app/api/health/route.ts",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 5,
          "position": 179
        },
        "endLoc": {
          "line": 49,
          "column": 6,
          "position": 285
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Rate limiting\n    const rateLimitResult = await checkRateLimit(session.user.id, 'authenticated');\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 77,
        "end": 86,
        "startLoc": {
          "line": 77,
          "column": 5,
          "position": 605
        },
        "endLoc": {
          "line": 86,
          "column": 6,
          "position": 714
        }
      },
      "secondFile": {
        "name": "src/app/api/admin/content/review/route.ts",
        "start": 22,
        "end": 32,
        "startLoc": {
          "line": 22,
          "column": 5,
          "position": 238
        },
        "endLoc": {
          "line": 32,
          "column": 8,
          "position": 348
        }
      }
    },
    {
      "format": "typescript",
      "lines": 26,
      "fragment": "(request: NextRequest) {\n  try {\n    // Auth required\n    const session = await auth();\n    if (!session?.user?.id) {\n      return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });\n    }\n\n    // Rate limiting\n    const rateLimitResult = await checkRateLimit(session.user.id, 'authenticated');\n    if (!rateLimitResult.allowed) {\n      return NextResponse.json(\n        { error: rateLimitResult.reason || 'Rate limit exceeded' },\n        {\n          status: 429,\n          headers: {\n            'Retry-After': '60',\n            'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n          },\n        }\n      );\n    }\n\n    // Validate request\n    const body = await request.json();\n    const { promptId } = RemoveFavoriteSchema",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 180,
        "end": 205,
        "startLoc": {
          "line": 180,
          "column": 7,
          "position": 1503
        },
        "endLoc": {
          "line": 205,
          "column": 21,
          "position": 1725
        }
      },
      "secondFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 74,
        "end": 99,
        "startLoc": {
          "line": 74,
          "column": 5,
          "position": 587
        },
        "endLoc": {
          "line": 99,
          "column": 18,
          "position": 809
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      },\n      ipAddress:\n        request.headers.get('x-forwarded-for')?.split(',')[0] ||\n        request.headers.get('x-real-ip') ||\n        'unknown',\n      userAgent: request.headers.get('user-agent') || 'unknown',\n    });\n\n    return NextResponse.json({\n      success: true,\n      message: 'Removed from favorites'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 245,
        "end": 256,
        "startLoc": {
          "line": 245,
          "column": 10,
          "position": 2065
        },
        "endLoc": {
          "line": 256,
          "column": 25,
          "position": 2156
        }
      },
      "secondFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 145,
        "end": 156,
        "startLoc": {
          "line": 145,
          "column": 8,
          "position": 1223
        },
        "endLoc": {
          "line": 156,
          "column": 21,
          "position": 1314
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": ",\n      promptId,\n    });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json(\n        { error: 'Invalid request', details: error.issues },\n        { status: 400 }\n      );\n    }\n\n    logger.apiError('DELETE /api/favorites'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 256,
        "end": 267,
        "startLoc": {
          "line": 256,
          "column": 25,
          "position": 2157
        },
        "endLoc": {
          "line": 267,
          "column": 24,
          "position": 2244
        }
      },
      "secondFile": {
        "name": "src/app/api/favorites/route.ts",
        "start": 156,
        "end": 167,
        "startLoc": {
          "line": 156,
          "column": 21,
          "position": 1315
        },
        "endLoc": {
          "line": 167,
          "column": 22,
          "position": 1402
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": ";\n\n  try {\n    // Rate limiting\n    const session = await auth();\n    const tier = session?.user ? 'authenticated' : 'anonymous';\n    const identifier =\n      session?.user?.id ||\n      request.headers.get('x-forwarded-for')?.split(',')[0] ||\n      'unknown';\n\n    const rateLimitResult = await checkRateLimit(identifier, tier);\n    if (!rateLimitResult.allowed) {\n      const resetTime",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/chat/route.ts",
        "start": 16,
        "end": 29,
        "startLoc": {
          "line": 16,
          "column": 5,
          "position": 172
        },
        "endLoc": {
          "line": 29,
          "column": 10,
          "position": 295
        }
      },
      "secondFile": {
        "name": "src/app/api/rag/route.ts",
        "start": 36,
        "end": 46,
        "startLoc": {
          "line": 36,
          "column": 10,
          "position": 373
        },
        "endLoc": {
          "line": 46,
          "column": 15,
          "position": 494
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "return NextResponse.json(\n        { error: 'Rate limit exceeded. Please try again later.' },\n        {\n          status: 429,\n          headers: {\n            ...corsHeaders,\n            'Retry-After': '3600',\n            'X-RateLimit-Limit': '60',\n            'X-RateLimit-Remaining': '0',\n            'X-RateLimit-Reset': rateLimitResult.resetAt.toISOString(),\n          }\n        }\n      );\n    }\n\n    const {",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api/bug-reports/route.ts",
        "start": 139,
        "end": 154,
        "startLoc": {
          "line": 139,
          "column": 7,
          "position": 1233
        },
        "endLoc": {
          "line": 154,
          "column": 2,
          "position": 1323
        }
      },
      "secondFile": {
        "name": "src/app/api/bug-reports/route.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 7,
          "position": 558
        },
        "endLoc": {
          "line": 74,
          "column": 5,
          "position": 648
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ";\n    for (const [id, doc] of coll.entries()) {\n      if (this.matchesQuery(doc, query)) {\n        const updated = this.applyUpdate(doc, update);\n        coll.set(id, updated);\n        modifiedCount",
      "tokens": 0,
      "firstFile": {
        "name": "src/test/mocks/database.ts",
        "start": 94,
        "end": 99,
        "startLoc": {
          "line": 94,
          "column": 2,
          "position": 811
        },
        "endLoc": {
          "line": 99,
          "column": 14,
          "position": 885
        }
      },
      "secondFile": {
        "name": "src/test/mocks/database.ts",
        "start": 78,
        "end": 83,
        "startLoc": {
          "line": 78,
          "column": 2,
          "position": 626
        },
        "endLoc": {
          "line": 83,
          "column": 7,
          "position": 700
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "choices: [\n              {\n                index: 0,\n                message: {\n                  role: 'assistant',\n                  content: response,\n                },\n                finish_reason: 'stop',\n              },\n            ],\n            usage: {\n              prompt_tokens: 10,\n              completion_tokens: 20,\n              total_tokens: 30,\n            },\n          };\n        }),",
      "tokens": 0,
      "firstFile": {
        "name": "src/test/mocks/ai-providers.ts",
        "start": 219,
        "end": 235,
        "startLoc": {
          "line": 219,
          "column": 13,
          "position": 1485
        },
        "endLoc": {
          "line": 235,
          "column": 2,
          "position": 1577
        }
      },
      "secondFile": {
        "name": "src/test/mocks/ai-providers.ts",
        "start": 44,
        "end": 60,
        "startLoc": {
          "line": 44,
          "column": 7,
          "position": 305
        },
        "endLoc": {
          "line": 60,
          "column": 2,
          "position": 397
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "await logAuditEvent({\n        eventType,\n        userId: ctx.session?.user?.id || null,\n        userEmail: ctx.session?.user?.email || null,\n        userRole: ctx.session?.user?.role || null,\n        organizationId: ctx.session?.user?.organizationId || null,\n        ipAddress,\n        userAgent,\n        action: getAction(input),\n        metadata: getMetadata ? getMetadata(input)",
      "tokens": 0,
      "firstFile": {
        "name": "src/server/middleware/audit.ts",
        "start": 105,
        "end": 114,
        "startLoc": {
          "line": 105,
          "column": 7,
          "position": 806
        },
        "endLoc": {
          "line": 114,
          "column": 2,
          "position": 921
        }
      },
      "secondFile": {
        "name": "src/server/middleware/audit.ts",
        "start": 89,
        "end": 98,
        "startLoc": {
          "line": 89,
          "column": 7,
          "position": 646
        },
        "endLoc": {
          "line": 98,
          "column": 2,
          "position": 761
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "researchCitations: z.array(\n    z.object({\n      source: z.string().min(1),\n      summary: z.string().min(1),\n      url: z.string().url().optional(),\n      verified: z.boolean().default(false),\n    })\n  ).default([]),\n  // SEO keywords (categorized)",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/workflows/pain-point-schema.ts",
        "start": 43,
        "end": 51,
        "startLoc": {
          "line": 43,
          "column": 3,
          "position": 443
        },
        "endLoc": {
          "line": 51,
          "column": 30,
          "position": 540
        }
      },
      "secondFile": {
        "name": "src/lib/workflows/recommendation-schema.ts",
        "start": 30,
        "end": 38,
        "startLoc": {
          "line": 30,
          "column": 3,
          "position": 329
        },
        "endLoc": {
          "line": 38,
          "column": 16,
          "position": 426
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "(date: Date | string | null | undefined): string {\n  if (!date) return '';\n  \n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  if (isNaN(d.getTime())) return '';\n  \n  return d.toLocaleDateString('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/utils/date.ts",
        "start": 28,
        "end": 39,
        "startLoc": {
          "line": 28,
          "column": 15,
          "position": 149
        },
        "endLoc": {
          "line": 39,
          "column": 5,
          "position": 274
        }
      },
      "secondFile": {
        "name": "src/lib/utils/date.ts",
        "start": 10,
        "end": 21,
        "startLoc": {
          "line": 10,
          "column": 11,
          "position": 10
        },
        "endLoc": {
          "line": 21,
          "column": 2,
          "position": 135
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "(date: Date | string | null | undefined): string {\n  if (!date) return '';\n  \n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  if (isNaN(d.getTime())) return '';\n  \n  return d.toISOString",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/utils/date.ts",
        "start": 48,
        "end": 55,
        "startLoc": {
          "line": 48,
          "column": 10,
          "position": 302
        },
        "endLoc": {
          "line": 55,
          "column": 12,
          "position": 398
        }
      },
      "secondFile": {
        "name": "src/lib/utils/date.ts",
        "start": 10,
        "end": 17,
        "startLoc": {
          "line": 10,
          "column": 11,
          "position": 10
        },
        "endLoc": {
          "line": 17,
          "column": 19,
          "position": 106
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "(date: Date | string | null | undefined): string {\n  if (!date) return '';\n  \n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  if (isNaN(d.getTime())) return '';\n  \n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/utils/date.ts",
        "start": 62,
        "end": 69,
        "startLoc": {
          "line": 62,
          "column": 16,
          "position": 413
        },
        "endLoc": {
          "line": 69,
          "column": 6,
          "position": 505
        }
      },
      "secondFile": {
        "name": "src/lib/utils/date.ts",
        "start": 10,
        "end": 17,
        "startLoc": {
          "line": 10,
          "column": 11,
          "position": 10
        },
        "endLoc": {
          "line": 17,
          "column": 7,
          "position": 102
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "// Initialize Upstash Redis (if configured)\nlet redis: Redis | null = null;\nif (process.env.UPSTASH_REDIS_REST_URL && process.env.UPSTASH_REDIS_REST_TOKEN) {\n  redis = new Redis({\n    url: process.env.UPSTASH_REDIS_REST_URL,\n    token: process.env.UPSTASH_REDIS_REST_TOKEN,\n  });\n}\n\nexport interface",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/stats/fetch-platform-stats.ts",
        "start": 18,
        "end": 27,
        "startLoc": {
          "line": 18,
          "column": 1,
          "position": 98
        },
        "endLoc": {
          "line": 27,
          "column": 10,
          "position": 179
        }
      },
      "secondFile": {
        "name": "src/app/api/stats/invalidate/route.ts",
        "start": 26,
        "end": 35,
        "startLoc": {
          "line": 26,
          "column": 1,
          "position": 114
        },
        "endLoc": {
          "line": 35,
          "column": 6,
          "position": 195
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ": string\n  ): Promise<{ success: boolean; error?: string }> {\n    try {\n      const db = await getDb();\n      const collection = db.collection(this.userMfaCollectionName);\n\n      await collection.updateOne(\n        { userId },\n        {\n          $set: {\n            enabled",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/mfaService.ts",
        "start": 317,
        "end": 327,
        "startLoc": {
          "line": 317,
          "column": 7,
          "position": 2104
        },
        "endLoc": {
          "line": 327,
          "column": 8,
          "position": 2197
        }
      },
      "secondFile": {
        "name": "src/lib/services/mfaService.ts",
        "start": 273,
        "end": 283,
        "startLoc": {
          "line": 273,
          "column": 12,
          "position": 1805
        },
        "endLoc": {
          "line": 283,
          "column": 7,
          "position": 1898
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "> {\n    const gamification = await this.getUserGamification(userId);\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    const lastActive = new Date(gamification.lastActiveDate);\n    lastActive.setHours(0, 0, 0, 0);\n\n    return",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/GamificationService.ts",
        "start": 291,
        "end": 299,
        "startLoc": {
          "line": 291,
          "column": 8,
          "position": 2079
        },
        "endLoc": {
          "line": 299,
          "column": 7,
          "position": 2170
        }
      },
      "secondFile": {
        "name": "src/lib/services/GamificationService.ts",
        "start": 235,
        "end": 243,
        "startLoc": {
          "line": 235,
          "column": 7,
          "position": 1631
        },
        "endLoc": {
          "line": 243,
          "column": 6,
          "position": 1722
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "(params: {\n    eventType: AuditEventTypeEnum;\n    userId?: string | null;\n    userEmail?: string | null;\n    userRole?: string | null;\n    resourceType?: string | null;\n    resourceId?: string | null;\n    organizationId?: string | null;\n    ipAddress: string;\n    userAgent?: string | null;\n    requestId?: string | null;\n    action: string;\n    metadata?: Record<string, unknown>;\n    success: boolean;\n    errorMessage?: string | null;\n  }): Promise<AuditLog",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/AuditLogService.ts",
        "start": 22,
        "end": 37,
        "startLoc": {
          "line": 22,
          "column": 4,
          "position": 102
        },
        "endLoc": {
          "line": 37,
          "column": 9,
          "position": 265
        }
      },
      "secondFile": {
        "name": "src/server/middleware/audit.ts",
        "start": 37,
        "end": 52,
        "startLoc": {
          "line": 37,
          "column": 14,
          "position": 173
        },
        "endLoc": {
          "line": 52,
          "column": 5,
          "position": 335
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "{\n      emailEnabled: true,\n      smsEnabled: false,\n      thresholds: {\n        fifty: false,\n        eighty: true,\n        ninety: true,\n        hundred: true,\n      },\n      alertTypes: {\n        usageLimit: true,\n        costThreshold: true,\n        rateLimit: true,\n        errorRate: true,\n      },\n    };\n  }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/ApiUsageNotificationService.ts",
        "start": 342,
        "end": 358,
        "startLoc": {
          "line": 342,
          "column": 2,
          "position": 2365
        },
        "endLoc": {
          "line": 358,
          "column": 2,
          "position": 2462
        }
      },
      "secondFile": {
        "name": "src/app/api/user/notification-preferences/route.ts",
        "start": 40,
        "end": 57,
        "startLoc": {
          "line": 40,
          "column": 2,
          "position": 348
        },
        "endLoc": {
          "line": 57,
          "column": 7,
          "position": 446
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": ".period === 'weekly') {\n        const dayOfWeek = now.getDay();\n        startDate = new Date(now);\n        startDate.setDate(now.getDate() - dayOfWeek);\n        startDate.setHours(0, 0, 0, 0);\n      } else {\n        // monthly\n        startDate = new Date(now.getFullYear(), now.getMonth(), 1);\n      }\n\n      // Get current value based on alert type",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/ApiKeyUsageService.ts",
        "start": 320,
        "end": 330,
        "startLoc": {
          "line": 320,
          "column": 6,
          "position": 2629
        },
        "endLoc": {
          "line": 330,
          "column": 41,
          "position": 2743
        }
      },
      "secondFile": {
        "name": "src/app/api/v2/users/api-keys/usage/route.ts",
        "start": 73,
        "end": 83,
        "startLoc": {
          "line": 73,
          "column": 10,
          "position": 684
        },
        "endLoc": {
          "line": 83,
          "column": 6,
          "position": 798
        }
      }
    },
    {
      "format": "typescript",
      "lines": 23,
      "fragment": "} },\n        {\n          $group: {\n            _id: '$itemId',\n            count: { $sum: 1 },\n          },\n        },\n        { $sort: { count: -1 } },\n        { $limit: limit },\n      ])\n      .toArray();\n\n    return results.map((r: unknown) => {\n      const item = r as { _id: string; count: number };\n      return {\n        itemId: item._id,\n        count: item.count,\n      };\n    });\n  }\n}\n\nexport const activityService",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/ActivityService.ts",
        "start": 185,
        "end": 207,
        "startLoc": {
          "line": 185,
          "column": 2,
          "position": 1467
        },
        "endLoc": {
          "line": 207,
          "column": 16,
          "position": 1639
        }
      },
      "secondFile": {
        "name": "src/lib/services/FavoriteService.ts",
        "start": 143,
        "end": 165,
        "startLoc": {
          "line": 143,
          "column": 2,
          "position": 966
        },
        "endLoc": {
          "line": 165,
          "column": 16,
          "position": 1138
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "const dbModelIds = new Set(dbModels.map(m => m.id));\n  const staticOnly = staticModels.filter(m => !dbModelIds.has(m.id));\n\n  return [\n    ...dbModels.map(convertDbModelToStatic),\n    ...staticOnly,\n  ];\n}\n\n/**\n * Check if model is allowed (from DB or static config)\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/services/AIModelRegistry.ts",
        "start": 51,
        "end": 62,
        "startLoc": {
          "line": 51,
          "column": 3,
          "position": 403
        },
        "endLoc": {
          "line": 62,
          "column": 4,
          "position": 483
        }
      },
      "secondFile": {
        "name": "src/lib/services/AIModelRegistry.ts",
        "start": 34,
        "end": 45,
        "startLoc": {
          "line": 34,
          "column": 3,
          "position": 230
        },
        "endLoc": {
          "line": 45,
          "column": 4,
          "position": 310
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ";\n\n  return {\n    title,\n    description,\n    alternates: {\n      canonical: url,\n    },\n    keywords,\n    openGraph: {\n      title,\n      description,\n      url,\n      type: 'article',\n      siteName: 'Engify.ai',\n    },\n    twitter: {\n      card: 'summary_large_image',\n      title,\n      description,\n      creator: '@engifyai',\n    },\n  };\n}\n\n/**\n * Generate unique metadata for collection pages\n * Template: Expert AI Prompts for [Topic] | Engify.ai\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/seo/metadata.ts",
        "start": 235,
        "end": 263,
        "startLoc": {
          "line": 235,
          "column": 2,
          "position": 1684
        },
        "endLoc": {
          "line": 263,
          "column": 4,
          "position": 1796
        }
      },
      "secondFile": {
        "name": "src/lib/seo/metadata.ts",
        "start": 145,
        "end": 173,
        "startLoc": {
          "line": 145,
          "column": 2,
          "position": 1004
        },
        "endLoc": {
          "line": 173,
          "column": 4,
          "position": 1116
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "let matchingPillars: PillarPageConfig[] = completePillars;\n  \n  if (tags && tags.length > 0) {\n    matchingPillars = matchingPillars.filter((pillar) => {\n      const pillarTags = Array.isArray(pillar.relatedTags) ? pillar.relatedTags : [];\n      return pillarTags.length > 0 && pillarTags.some((tag) => tags.includes(tag));\n    });\n  }\n  \n  if (role) {\n    matchingPillars = matchingPillars.filter((pillar) => {\n      const pillarRoles = Array.isArray(pillar.relatedRoles) ? pillar.relatedRoles : [];\n      return pillarRoles.includes(role);\n    });\n  }\n  \n  // If no matches, return primary pillar",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/seo/internal-linking.ts",
        "start": 76,
        "end": 92,
        "startLoc": {
          "line": 76,
          "column": 3,
          "position": 551
        },
        "endLoc": {
          "line": 92,
          "column": 40,
          "position": 749
        }
      },
      "secondFile": {
        "name": "src/lib/seo/internal-linking.ts",
        "start": 45,
        "end": 61,
        "startLoc": {
          "line": 45,
          "column": 3,
          "position": 248
        },
        "endLoc": {
          "line": 61,
          "column": 62,
          "position": 446
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n      userId,\n      resource: 'api_key',\n      details: {\n        keyId,\n        error: error instanceof Error ? error.message : 'Unknown error',\n      },\n      severity: 'error',\n    });\n\n    return {\n      success: false,\n      error: error instanceof Error ? error.message : 'Unknown error',\n    };\n  }\n}\n\n/**\n * List all active keys for a user\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/security/keyRotation.ts",
        "start": 173,
        "end": 192,
        "startLoc": {
          "line": 173,
          "column": 24,
          "position": 1175
        },
        "endLoc": {
          "line": 192,
          "column": 4,
          "position": 1279
        }
      },
      "secondFile": {
        "name": "src/lib/security/keyRotation.ts",
        "start": 103,
        "end": 122,
        "startLoc": {
          "line": 103,
          "column": 24,
          "position": 709
        },
        "endLoc": {
          "line": 122,
          "column": 4,
          "position": 813
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "function getClientIP(request: NextRequest): string {\n  const forwarded = request.headers.get('x-forwarded-for');\n  if (forwarded) {\n    const parts = forwarded.split(',');\n    return parts.length > 0 ? parts[0].trim() : 'unknown';\n  }\n  \n  return request.headers.get('x-real-ip') || 'unknown';\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/security/feedback-rate-limit.ts",
        "start": 114,
        "end": 122,
        "startLoc": {
          "line": 114,
          "column": 1,
          "position": 817
        },
        "endLoc": {
          "line": 122,
          "column": 2,
          "position": 922
        }
      },
      "secondFile": {
        "name": "src/app/api/prompts/[id]/test-results/route.ts",
        "start": 17,
        "end": 24,
        "startLoc": {
          "line": 17,
          "column": 1,
          "position": 124
        },
        "endLoc": {
          "line": 24,
          "column": 2,
          "position": 227
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": "role: z.enum(['engineer', 'manager', 'designer', 'pm', 'qa', 'executive']),\n  yearsExperience: z.enum(['0-2', '3-5', '6-10', '10+']),\n  aiExperienceLevel: z.enum(['beginner', 'intermediate', 'advanced', 'expert']),\n  companySize: z.enum(['1-10', '11-50', '51-200', '201-1000', '1000+']).optional(),\n  industry: z.string().optional(),\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/schemas/user-profile.ts",
        "start": 45,
        "end": 50,
        "startLoc": {
          "line": 45,
          "column": 3,
          "position": 477
        },
        "endLoc": {
          "line": 50,
          "column": 2,
          "position": 596
        }
      },
      "secondFile": {
        "name": "src/lib/schemas/user-profile.ts",
        "start": 14,
        "end": 20,
        "startLoc": {
          "line": 14,
          "column": 3,
          "position": 71
        },
        "endLoc": {
          "line": 20,
          "column": 29,
          "position": 193
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": ");\n\n      operation()\n        .then((result) => {\n          clearTimeout(timeout);\n          resolve(result);\n        })\n        .catch((error) => {\n          clearTimeout(timeout);\n          reject(error);\n        });\n    });\n  }\n\n  /**\n   * Record a successful operation\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/resilience/CircuitBreaker.ts",
        "start": 232,
        "end": 248,
        "startLoc": {
          "line": 232,
          "column": 15,
          "position": 1616
        },
        "endLoc": {
          "line": 248,
          "column": 6,
          "position": 1696
        }
      },
      "secondFile": {
        "name": "src/lib/resilience/ResilienceDecorator.ts",
        "start": 278,
        "end": 294,
        "startLoc": {
          "line": 278,
          "column": 5,
          "position": 2096
        },
        "endLoc": {
          "line": 294,
          "column": 6,
          "position": 2176
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "= JSON.parse(existingContent);\n    \n    // Compare everything except generatedAt timestamp\n    const existingWithoutTimestamp = { ...existingData, generatedAt: '' };\n    const newWithoutTimestamp = { ...newExportData, generatedAt: '' };\n    \n    if (JSON.stringify(existingWithoutTimestamp) === JSON.stringify(newWithoutTimestamp)) {\n      // Content hasn't changed, just update timestamp\n      existingData.generatedAt = new Date().toISOString();\n      await fs.writeFile(jsonPath, JSON.stringify(existingData)",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/prompts/generate-prompts-json.ts",
        "start": 133,
        "end": 142,
        "startLoc": {
          "line": 133,
          "column": 2,
          "position": 1174
        },
        "endLoc": {
          "line": 142,
          "column": 2,
          "position": 1292
        }
      },
      "secondFile": {
        "name": "src/lib/workflows/generate-workflows-json.ts",
        "start": 43,
        "end": 52,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 318
        },
        "endLoc": {
          "line": 52,
          "column": 2,
          "position": 436
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": "{\n    this.metrics = {\n      hits: 0,\n      misses: 0,\n      sets: 0,\n      deletes: 0,\n      evictions: 0,\n      hitRate: 0,\n      missRate: 0,\n      averageGetTime: 0,\n      averageSetTime: 0,\n      totalKeys: 0,\n      memoryUsage: 0,\n      timestamp: new Date(),\n    };\n    this",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/cache-metrics.ts",
        "start": 224,
        "end": 239,
        "startLoc": {
          "line": 224,
          "column": 2,
          "position": 1856
        },
        "endLoc": {
          "line": 239,
          "column": 5,
          "position": 1960
        }
      },
      "secondFile": {
        "name": "src/lib/performance/cache-metrics.ts",
        "start": 59,
        "end": 74,
        "startLoc": {
          "line": 59,
          "column": 2,
          "position": 287
        },
        "endLoc": {
          "line": 74,
          "column": 2,
          "position": 391
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "formatBytes(bytes: number): string {\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n    if (bytes === 0) return '0 Bytes';\n    const i = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${(bytes / Math.pow(1024, i)).toFixed(2)} ${sizes[i]}`;\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/benchmark.ts",
        "start": 220,
        "end": 226,
        "startLoc": {
          "line": 220,
          "column": 2,
          "position": 1441
        },
        "endLoc": {
          "line": 226,
          "column": 2,
          "position": 1556
        }
      },
      "secondFile": {
        "name": "src/lib/performance/cache-metrics.ts",
        "start": 214,
        "end": 223,
        "startLoc": {
          "line": 214,
          "column": 2,
          "position": 1729
        },
        "endLoc": {
          "line": 223,
          "column": 6,
          "position": 1846
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "fn();\n  const duration = timer.stop();\n\n  const memStats = profiler.getStats();\n\n  const metrics: PerformanceMetrics = {\n    duration,\n    memoryUsed: memStats.delta.heapUsed,\n    timestamp: new Date(),\n    context: { name },\n  };\n\n  return { result, metrics };\n}\n\n/**\n * Create a performance snapshot\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/benchmark.ts",
        "start": 491,
        "end": 508,
        "startLoc": {
          "line": 491,
          "column": 2,
          "position": 3872
        },
        "endLoc": {
          "line": 508,
          "column": 4,
          "position": 3977
        }
      },
      "secondFile": {
        "name": "src/lib/performance/benchmark.ts",
        "start": 465,
        "end": 482,
        "startLoc": {
          "line": 465,
          "column": 2,
          "position": 3673
        },
        "endLoc": {
          "line": 482,
          "column": 4,
          "position": 3778
        }
      }
    },
    {
      "format": "typescript",
      "lines": 29,
      "fragment": ");\n      });\n    }\n  }\n\n  /**\n   * Enable monitoring\n   */\n  enable(): void {\n    this.enabled = true;\n  }\n\n  /**\n   * Disable monitoring\n   */\n  disable(): void {\n    this.enabled = false;\n  }\n\n  /**\n   * Clear all metrics\n   */\n  clear(): void {\n    this.metrics = [];\n  }\n\n  /**\n   * Get all metrics\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/api-monitor.ts",
        "start": 298,
        "end": 326,
        "startLoc": {
          "line": 298,
          "column": 9,
          "position": 2534
        },
        "endLoc": {
          "line": 326,
          "column": 6,
          "position": 2632
        }
      },
      "secondFile": {
        "name": "src/lib/performance/query-monitor.ts",
        "start": 531,
        "end": 556,
        "startLoc": {
          "line": 531,
          "column": 5,
          "position": 4532
        },
        "endLoc": {
          "line": 556,
          "column": 2,
          "position": 4628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 16,
      "fragment": ");\n      statusCode = response.status;\n\n      const duration = timer.stop();\n\n      // Track metrics\n      globalApiMonitor.track({\n        path,\n        method,\n        statusCode,\n        duration,\n        timestamp: new Date(),\n        userAgent: req.headers.get('user-agent') || undefined,\n      });\n\n      // Check budget",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/api-monitor.ts",
        "start": 416,
        "end": 431,
        "startLoc": {
          "line": 416,
          "column": 8,
          "position": 3351
        },
        "endLoc": {
          "line": 431,
          "column": 16,
          "position": 3442
        }
      },
      "secondFile": {
        "name": "src/lib/performance/api-monitor.ts",
        "start": 355,
        "end": 370,
        "startLoc": {
          "line": 355,
          "column": 4,
          "position": 2871
        },
        "endLoc": {
          "line": 370,
          "column": 27,
          "position": 2962
        }
      }
    },
    {
      "format": "typescript",
      "lines": 28,
      "fragment": "// Add performance headers\n      response.headers.set('X-Response-Time', `${duration.toFixed(2)}ms`);\n      response.headers.set('X-Response-Time-Ms', duration.toString());\n\n      return response;\n    } catch (err) {\n      statusCode = 500;\n      error = err instanceof Error ? err.message : 'Unknown error';\n\n      const duration = timer.stop();\n\n      globalApiMonitor.track({\n        path,\n        method,\n        statusCode,\n        duration,\n        timestamp: new Date(),\n        error,\n      });\n\n      throw err;\n    }\n  };\n}\n\n/**\n * Set default performance budgets for common routes\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/performance/api-monitor.ts",
        "start": 438,
        "end": 465,
        "startLoc": {
          "line": 438,
          "column": 7,
          "position": 3503
        },
        "endLoc": {
          "line": 465,
          "column": 4,
          "position": 3670
        }
      },
      "secondFile": {
        "name": "src/lib/performance/api-monitor.ts",
        "start": 370,
        "end": 397,
        "startLoc": {
          "line": 370,
          "column": 7,
          "position": 2962
        },
        "endLoc": {
          "line": 397,
          "column": 4,
          "position": 3129
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "= JSON.parse(existingContent);\n    \n    // Compare everything except generatedAt timestamp\n    const existingWithoutTimestamp = { ...existingData, generatedAt: '' };\n    const newWithoutTimestamp = { ...newExportData, generatedAt: '' };\n    \n    if (JSON.stringify(existingWithoutTimestamp) === JSON.stringify(newWithoutTimestamp)) {\n      // Content hasn't changed, just update timestamp\n      existingData.generatedAt = new Date().toISOString();\n      await fs.writeFile(jsonPath, JSON.stringify(existingData), 'utf-8');\n      shouldWrite = false;\n      console.log('[Patterns JSON] Content unchanged, refreshed timestamp only'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/patterns/generate-patterns-json.ts",
        "start": 120,
        "end": 131,
        "startLoc": {
          "line": 120,
          "column": 2,
          "position": 1017
        },
        "endLoc": {
          "line": 131,
          "column": 62,
          "position": 1155
        }
      },
      "secondFile": {
        "name": "src/lib/workflows/generate-workflows-json.ts",
        "start": 43,
        "end": 144,
        "startLoc": {
          "line": 43,
          "column": 2,
          "position": 318
        },
        "endLoc": {
          "line": 144,
          "column": 61,
          "position": 1312
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n        await auditLog({\n          action: 'unauthorized_access',\n          userId,\n          resource: _request.url,\n          severity: 'warning',\n          ipAddress: _request.headers.get('x-forwarded-for') || 'unknown',\n          userAgent: _request.headers.get('user-agent') || 'unknown',\n          details: {\n            reason: 'MFA_NOT_VERIFIED'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 164,
        "end": 173,
        "startLoc": {
          "line": 164,
          "column": 14,
          "position": 1067
        },
        "endLoc": {
          "line": 173,
          "column": 19,
          "position": 1151
        }
      },
      "secondFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 128,
        "end": 137,
        "startLoc": {
          "line": 128,
          "column": 5,
          "position": 792
        },
        "endLoc": {
          "line": 137,
          "column": 18,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n          await auditLog({\n            action: 'unauthorized_access',\n            userId,\n            resource: _request.url,\n            severity: 'warning',\n            ipAddress: _request.headers.get('x-forwarded-for') || 'unknown',\n            userAgent: _request.headers.get('user-agent') || 'unknown',\n            details: {\n              reason: 'INSUFFICIENT_ROLE'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 194,
        "end": 203,
        "startLoc": {
          "line": 194,
          "column": 8,
          "position": 1311
        },
        "endLoc": {
          "line": 203,
          "column": 20,
          "position": 1395
        }
      },
      "secondFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 128,
        "end": 137,
        "startLoc": {
          "line": 128,
          "column": 5,
          "position": 792
        },
        "endLoc": {
          "line": 137,
          "column": 18,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n          await auditLog({\n            action: 'unauthorized_access',\n            userId,\n            resource: _request.url,\n            severity: 'warning',\n            ipAddress: _request.headers.get('x-forwarded-for') || 'unknown',\n            userAgent: _request.headers.get('user-agent') || 'unknown',\n            details: {\n              reason: 'INSUFFICIENT_PERMISSION'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 228,
        "end": 237,
        "startLoc": {
          "line": 228,
          "column": 14,
          "position": 1537
        },
        "endLoc": {
          "line": 237,
          "column": 26,
          "position": 1621
        }
      },
      "secondFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 128,
        "end": 137,
        "startLoc": {
          "line": 128,
          "column": 5,
          "position": 792
        },
        "endLoc": {
          "line": 137,
          "column": 18,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ") {\n          await auditLog({\n            action: 'unauthorized_access',\n            userId,\n            resource: _request.url,\n            severity: 'warning',\n            ipAddress: _request.headers.get('x-forwarded-for') || 'unknown',\n            userAgent: _request.headers.get('user-agent') || 'unknown',\n            details: {\n              reason: 'INSUFFICIENT_RESOURCE_ACCESS'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 263,
        "end": 272,
        "startLoc": {
          "line": 263,
          "column": 10,
          "position": 1775
        },
        "endLoc": {
          "line": 272,
          "column": 31,
          "position": 1859
        }
      },
      "secondFile": {
        "name": "src/lib/middleware/rbac-enhanced.ts",
        "start": 128,
        "end": 137,
        "startLoc": {
          "line": 128,
          "column": 5,
          "position": 792
        },
        "endLoc": {
          "line": 137,
          "column": 18,
          "position": 876
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "new Redis({\n              host: process.env.REDIS_HOST || 'localhost',\n              port: parseInt(process.env.REDIS_PORT || '6379'),\n              password: process.env.REDIS_PASSWORD,\n              db: parseInt(process.env.REDIS_DB || '0'),\n              maxRetriesPerRequest: 3,\n            });\n          }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/messaging/MessageBroker.ts",
        "start": 47,
        "end": 54,
        "startLoc": {
          "line": 47,
          "column": 2,
          "position": 273
        },
        "endLoc": {
          "line": 54,
          "column": 2,
          "position": 354
        }
      },
      "secondFile": {
        "name": "src/lib/messaging/queues/RedisMessageQueue.ts",
        "start": 41,
        "end": 49,
        "startLoc": {
          "line": 41,
          "column": 7,
          "position": 208
        },
        "endLoc": {
          "line": 49,
          "column": 5,
          "position": 290
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "const keyBuffer = encryptionKey.startsWith('hex:')\n      ? Buffer.from(encryptionKey.slice(4), 'hex')\n      : crypto.createHash('sha256').update(encryptionKey).digest();\n\n    const iv = crypto.randomBytes(16);\n    const cipher = crypto.createCipheriv(ALGORITHM, keyBuffer.slice(0, 32), iv);\n\n    let encrypted = cipher.update(token",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/integrations/jira.ts",
        "start": 440,
        "end": 447,
        "startLoc": {
          "line": 440,
          "column": 5,
          "position": 3544
        },
        "endLoc": {
          "line": 447,
          "column": 6,
          "position": 3652
        }
      },
      "secondFile": {
        "name": "src/lib/services/ApiKeyService.ts",
        "start": 76,
        "end": 83,
        "startLoc": {
          "line": 76,
          "column": 5,
          "position": 454
        },
        "endLoc": {
          "line": 83,
          "column": 7,
          "position": 562
        }
      }
    },
    {
      "format": "typescript",
      "lines": 7,
      "fragment": "> {\n    const encryptionKey = await this.getEncryptionKey();\n    const keyBuffer = encryptionKey.startsWith('hex:')\n      ? Buffer.from(encryptionKey.slice(4), 'hex')\n      : crypto.createHash('sha256').update(encryptionKey).digest();\n\n    const parts",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/integrations/jira.ts",
        "start": 458,
        "end": 464,
        "startLoc": {
          "line": 458,
          "column": 7,
          "position": 3748
        },
        "endLoc": {
          "line": 464,
          "column": 6,
          "position": 3824
        }
      },
      "secondFile": {
        "name": "src/lib/integrations/jira.ts",
        "start": 438,
        "end": 444,
        "startLoc": {
          "line": 438,
          "column": 2,
          "position": 3523
        },
        "endLoc": {
          "line": 444,
          "column": 3,
          "position": 3599
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const keyBuffer = encryptionKey.startsWith('hex:')\n      ? Buffer.from(encryptionKey.slice(4), 'hex')\n      : crypto.createHash('sha256').update(encryptionKey).digest();\n\n    const parts = encryptedData.split(':');\n    if (parts.length !== 3) {\n      throw new Error('Invalid encrypted data format');\n    }\n\n    const [",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/integrations/jira.ts",
        "start": 460,
        "end": 469,
        "startLoc": {
          "line": 460,
          "column": 5,
          "position": 3769
        },
        "endLoc": {
          "line": 469,
          "column": 2,
          "position": 3869
        }
      },
      "secondFile": {
        "name": "src/lib/services/ApiKeyService.ts",
        "start": 106,
        "end": 115,
        "startLoc": {
          "line": 106,
          "column": 5,
          "position": 714
        },
        "endLoc": {
          "line": 115,
          "column": 10,
          "position": 814
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": ", 'hex');\n\n    const decipher = crypto.createDecipheriv(\n      ALGORITHM,\n      keyBuffer.slice(0, 32),\n      iv\n    );\n    decipher.setAuthTag(authTag);\n\n    let decrypted = decipher.update(encrypted, 'hex', 'utf8');\n    decrypted += decipher.final('utf8');\n\n    return decrypted;\n  }\n\n  /**\n   * Save Jira connection for user\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/integrations/jira.ts",
        "start": 471,
        "end": 488,
        "startLoc": {
          "line": 471,
          "column": 11,
          "position": 3914
        },
        "endLoc": {
          "line": 488,
          "column": 6,
          "position": 4012
        }
      },
      "secondFile": {
        "name": "src/lib/services/ApiKeyService.ts",
        "start": 117,
        "end": 134,
        "startLoc": {
          "line": 117,
          "column": 2,
          "position": 860
        },
        "endLoc": {
          "line": 134,
          "column": 6,
          "position": 958
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ",\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Update last login\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 361,
        "startLoc": {
          "line": 342,
          "column": 2,
          "position": 2342
        },
        "endLoc": {
          "line": 361,
          "column": 6,
          "position": 2457
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 309,
        "end": 328,
        "startLoc": {
          "line": 309,
          "column": 8,
          "position": 2108
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "correlationId?: string): void {\n    if (!this.state.id) {\n      throw new Error('User does not exist');\n    }\n\n    if (this.state.deletedAt) {\n      throw new Error('Cannot update deleted user');\n    }\n\n    const event = this.createEvent(\n      UserEvents.lastLoginUpdated",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 362,
        "end": 372,
        "startLoc": {
          "line": 362,
          "column": 2,
          "position": 2462
        },
        "endLoc": {
          "line": 372,
          "column": 17,
          "position": 2546
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 295,
        "end": 306,
        "startLoc": {
          "line": 295,
          "column": 5,
          "position": 1999
        },
        "endLoc": {
          "line": 306,
          "column": 8,
          "position": 2085
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Change user plan\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 375,
        "end": 394,
        "startLoc": {
          "line": 375,
          "column": 12,
          "position": 2569
        },
        "endLoc": {
          "line": 394,
          "column": 6,
          "position": 2691
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 328,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2335
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Assign user to organization\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 414,
        "end": 433,
        "startLoc": {
          "line": 414,
          "column": 10,
          "position": 2851
        },
        "endLoc": {
          "line": 433,
          "column": 6,
          "position": 2973
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 328,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2335
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ": string, correlationId?: string): void {\n    if (!this.state.id) {\n      throw new Error('User does not exist');\n    }\n\n    if (this.state.deletedAt) {\n      throw new Error('Cannot update deleted user');\n    }\n\n    if (this.state.organizationId",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 434,
        "end": 443,
        "startLoc": {
          "line": 434,
          "column": 15,
          "position": 2979
        },
        "endLoc": {
          "line": 443,
          "column": 15,
          "position": 3061
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 395,
        "end": 404,
        "startLoc": {
          "line": 395,
          "column": 8,
          "position": 2697
        },
        "endLoc": {
          "line": 404,
          "column": 5,
          "position": 2779
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Remove user from organization\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 452,
        "end": 471,
        "startLoc": {
          "line": 452,
          "column": 11,
          "position": 3122
        },
        "endLoc": {
          "line": 471,
          "column": 6,
          "position": 3244
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 328,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2335
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Verify user email\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 490,
        "end": 509,
        "startLoc": {
          "line": 490,
          "column": 10,
          "position": 3391
        },
        "endLoc": {
          "line": 509,
          "column": 6,
          "position": 3513
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 328,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2335
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": ": new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Change user password\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 527,
        "end": 546,
        "startLoc": {
          "line": 527,
          "column": 11,
          "position": 3648
        },
        "endLoc": {
          "line": 546,
          "column": 6,
          "position": 3770
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 342,
        "end": 328,
        "startLoc": {
          "line": 342,
          "column": 10,
          "position": 2335
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "(correlationId?: string): void {\n    if (!this.state.id) {\n      throw new Error('User does not exist');\n    }\n\n    if (this.state.deletedAt) {\n      throw new Error('Cannot update deleted user');\n    }\n\n    const event = this.createEvent(\n      UserEvents.passwordChanged",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 547,
        "end": 557,
        "startLoc": {
          "line": 547,
          "column": 15,
          "position": 3774
        },
        "endLoc": {
          "line": 557,
          "column": 16,
          "position": 3859
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 362,
        "end": 306,
        "startLoc": {
          "line": 362,
          "column": 16,
          "position": 2461
        },
        "endLoc": {
          "line": 306,
          "column": 8,
          "position": 2085
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": ",\n          changedAt: new Date(),\n        },\n        correlationId,\n      }) as unknown as Omit<\n        IEvent,\n        'eventId' | 'aggregateId' | 'version' | 'timestamp'\n      >,\n      this.state.id\n    );\n\n    this.uncommittedEvents.push(event);\n    this.state = {\n      ...this.applyEvent(this.state, event),\n      version: event.version,\n    } as UserState;\n  }\n\n  /**\n   * Create an event with proper metadata\n   */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 559,
        "end": 579,
        "startLoc": {
          "line": 559,
          "column": 3,
          "position": 3878
        },
        "endLoc": {
          "line": 579,
          "column": 6,
          "position": 4004
        }
      },
      "secondFile": {
        "name": "src/lib/events/UserAggregate.ts",
        "start": 413,
        "end": 328,
        "startLoc": {
          "line": 413,
          "column": 8,
          "position": 2847
        },
        "endLoc": {
          "line": 328,
          "column": 6,
          "position": 2223
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "ErrorFactory.validation('Request validation failed', undefined, undefined, {\n        validationErrors: error.errors,\n        issues: error.issues.map((issue) => ({\n          path: issue.path.join('.'),\n          message: issue.message,\n          code: issue.code,\n        })),\n      });\n    }\n    throw",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/errors/handler.ts",
        "start": 275,
        "end": 284,
        "startLoc": {
          "line": 275,
          "column": 2,
          "position": 1739
        },
        "endLoc": {
          "line": 284,
          "column": 6,
          "position": 1829
        }
      },
      "secondFile": {
        "name": "src/lib/errors/handler.ts",
        "start": 100,
        "end": 110,
        "startLoc": {
          "line": 100,
          "column": 2,
          "position": 602
        },
        "endLoc": {
          "line": 110,
          "column": 18,
          "position": 693
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "= {\n      findById: vi.fn(),\n      findAll: vi.fn(),\n      create: vi.fn(),\n      update: vi.fn(),\n      delete: vi.fn(),\n      count: vi.fn(),\n      findByUserId",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/di/Container.ts",
        "start": 217,
        "end": 224,
        "startLoc": {
          "line": 217,
          "column": 2,
          "position": 1429
        },
        "endLoc": {
          "line": 224,
          "column": 13,
          "position": 1500
        }
      },
      "secondFile": {
        "name": "src/lib/di/Container.ts",
        "start": 202,
        "end": 209,
        "startLoc": {
          "line": 202,
          "column": 2,
          "position": 1280
        },
        "endLoc": {
          "line": 209,
          "column": 12,
          "position": 1351
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "views: -1 })\n      .toArray();\n\n    return prompts.map((p) => ({\n      ...p,\n      _id: p._id.toString(),\n    })) as unknown as Prompt[];\n  } catch (error) {\n    console.error('Error fetching prompts by category:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/prompts.ts",
        "start": 64,
        "end": 72,
        "startLoc": {
          "line": 64,
          "column": 2,
          "position": 599
        },
        "endLoc": {
          "line": 72,
          "column": 38,
          "position": 682
        }
      },
      "secondFile": {
        "name": "src/lib/db/prompts.ts",
        "start": 26,
        "end": 34,
        "startLoc": {
          "line": 26,
          "column": 2,
          "position": 220
        },
        "endLoc": {
          "line": 34,
          "column": 26,
          "position": 303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", isPublic: true })\n      .sort({ views: -1 })\n      .toArray();\n\n    return prompts.map((p) => ({\n      ...p,\n      _id: p._id.toString(),\n    })) as unknown as Prompt[];\n  } catch (error) {\n    console.error('Error fetching prompts by role:'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/db/prompts.ts",
        "start": 83,
        "end": 92,
        "startLoc": {
          "line": 83,
          "column": 5,
          "position": 785
        },
        "endLoc": {
          "line": 92,
          "column": 34,
          "position": 884
        }
      },
      "secondFile": {
        "name": "src/lib/db/prompts.ts",
        "start": 63,
        "end": 34,
        "startLoc": {
          "line": 63,
          "column": 9,
          "position": 583
        },
        "endLoc": {
          "line": 34,
          "column": 26,
          "position": 303
        }
      }
    },
    {
      "format": "typescript",
      "lines": 31,
      "fragment": ",\n      functionCalling: true,\n      fineTuning: false,\n    },\n    tools: {\n      webSearch: true,\n      imageGeneration: false,\n      computerUse: false,\n      fileSearch: true,\n      codeInterpreter: true,\n      mcp: true,\n    },\n    endpoints: [\n      { name: 'Chat Completions', path: 'v1/chat/completions', supported: true },\n      { name: 'Responses', path: 'v1/responses', supported: true },\n      { name: 'Realtime', path: 'v1/realtime', supported: true },\n      { name: 'Assistants', path: 'v1/assistants', supported: true },\n      { name: 'Batch', path: 'v1/batch', supported: true },\n      { name: 'Fine-tuning', path: 'v1/fine-tuning', supported: false },\n      { name: 'Embeddings', path: 'v1/embeddings', supported: false },\n      { name: 'Image generation', path: 'v1/images/generations', supported: false },\n      { name: 'Videos', path: 'v1/videos', supported: false },\n      { name: 'Image edit', path: 'v1/images/edits', supported: false },\n      { name: 'Speech generation', path: 'v1/audio/speech', supported: false },\n      { name: 'Transcription', path: 'v1/audio/transcriptions', supported: false },\n      { name: 'Translation', path: 'v1/audio/translations', supported: false },\n      { name: 'Moderation', path: 'v1/moderations', supported: false },\n      { name: 'Completions (legacy)', path: 'v1/completions', supported: false },\n    ],\n    snapshots: [\n      { id: 'gpt-5-mini'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 175,
        "end": 205,
        "startLoc": {
          "line": 175,
          "column": 6,
          "position": 1598
        },
        "endLoc": {
          "line": 205,
          "column": 13,
          "position": 2037
        }
      },
      "secondFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 105,
        "end": 135,
        "startLoc": {
          "line": 105,
          "column": 5,
          "position": 710
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1149
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "pricingUnit: 'tokens',\n    },\n    modalities: {\n      text: 'input-output',\n      image: 'input-only',\n      audio: 'not-supported',\n      video: 'not-supported',\n    },\n    features: {\n      streaming: true,\n      structuredOutputs: true,\n      distillation: false,\n      functionCalling: true,\n      fineTuning: false,\n    },\n    tools: {\n      webSearch: false",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 234,
        "end": 250,
        "startLoc": {
          "line": 234,
          "column": 7,
          "position": 2413
        },
        "endLoc": {
          "line": 250,
          "column": 6,
          "position": 2516
        }
      },
      "secondFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 164,
        "end": 180,
        "startLoc": {
          "line": 164,
          "column": 7,
          "position": 1525
        },
        "endLoc": {
          "line": 180,
          "column": 5,
          "position": 1628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "computerUse: false,\n      fileSearch: true,\n      codeInterpreter: true,\n      mcp: true,\n    },\n    endpoints: [\n      { name: 'Chat Completions', path: 'v1/chat/completions', supported: true },\n      { name: 'Responses', path: 'v1/responses', supported: true },\n      { name: 'Realtime', path: 'v1/realtime', supported: true },\n      { name: 'Assistants', path: 'v1/assistants', supported: true },\n      { name: 'Batch', path: 'v1/batch', supported: true },\n      { name: 'Fine-tuning', path: 'v1/fine-tuning', supported: false },\n      { name: 'Embeddings', path: 'v1/embeddings', supported: false },\n      { name: 'Image generation', path: 'v1/images/generations', supported: false },\n      { name: 'Videos', path: 'v1/videos', supported: false },\n      { name: 'Image edit', path: 'v1/images/edits', supported: false },\n      { name: 'Speech generation', path: 'v1/audio/speech', supported: false },\n      { name: 'Transcription', path: 'v1/audio/transcriptions', supported: false },\n      { name: 'Translation', path: 'v1/audio/translations', supported: false },\n      { name: 'Moderation', path: 'v1/moderations', supported: false },\n      { name: 'Completions (legacy)', path: 'v1/completions', supported: false },\n    ],\n    snapshots: [\n      { id: 'gpt-5-nano'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 252,
        "end": 275,
        "startLoc": {
          "line": 252,
          "column": 7,
          "position": 2531
        },
        "endLoc": {
          "line": 275,
          "column": 13,
          "position": 2929
        }
      },
      "secondFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 112,
        "end": 135,
        "startLoc": {
          "line": 112,
          "column": 7,
          "position": 751
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1149
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": "},\n      { tier: 'Tier 2', rpm: 5000, tpm: 2000000, batchQueueLimit: 20000000 },\n      { tier: 'Tier 3', rpm: 5000, tpm: 4000000, batchQueueLimit: 40000000 },\n      { tier: 'Tier 4', rpm: 10000, tpm: 10000000, batchQueueLimit: 1000000000 },\n      { tier: 'Tier 5', rpm: 30000, tpm: 180000000, batchQueueLimit: 15000000000 },\n    ],\n  },\n  'sora-2'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 280,
        "end": 287,
        "startLoc": {
          "line": 280,
          "column": 2,
          "position": 3046
        },
        "endLoc": {
          "line": 287,
          "column": 9,
          "position": 3174
        }
      },
      "secondFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 210,
        "end": 217,
        "startLoc": {
          "line": 210,
          "column": 2,
          "position": 2154
        },
        "endLoc": {
          "line": 217,
          "column": 13,
          "position": 2282
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": ", supported: false },\n      { name: 'Image edit', path: 'v1/images/edits', supported: false },\n      { name: 'Speech generation', path: 'v1/audio/speech', supported: false },\n      { name: 'Transcription', path: 'v1/audio/transcriptions', supported: false },\n      { name: 'Translation', path: 'v1/audio/translations', supported: false },\n      { name: 'Moderation', path: 'v1/moderations', supported: false },\n      { name: 'Completions (legacy)', path: 'v1/completions', supported: false },\n    ],\n    snapshots: [\n      { id: 'sora-2'",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 335,
        "end": 344,
        "startLoc": {
          "line": 335,
          "column": 24,
          "position": 3634
        },
        "endLoc": {
          "line": 344,
          "column": 9,
          "position": 3798
        }
      },
      "secondFile": {
        "name": "src/lib/data/openai-model-data.ts",
        "start": 126,
        "end": 135,
        "startLoc": {
          "line": 126,
          "column": 12,
          "position": 985
        },
        "endLoc": {
          "line": 135,
          "column": 8,
          "position": 1149
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "): string {\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += chars.charAt(Math.floor(Math.random() * chars.length));\n  }\n  return result;\n}\n\n/**\n * Check if running in browser\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/config/utils.ts",
        "start": 366,
        "end": 377,
        "startLoc": {
          "line": 366,
          "column": 3,
          "position": 2791
        },
        "endLoc": {
          "line": 377,
          "column": 4,
          "position": 2884
        }
      },
      "secondFile": {
        "name": "src/lib/utils/string.ts",
        "start": 183,
        "end": 195,
        "startLoc": {
          "line": 183,
          "column": 3,
          "position": 1260
        },
        "endLoc": {
          "line": 195,
          "column": 4,
          "position": 1353
        }
      }
    },
    {
      "format": "typescript",
      "lines": 8,
      "fragment": ": z\n    .string()\n    .optional()\n    .transform((val) =>\n      val ? val.split(',').map((s) => s.trim()) : []\n    )\n    .pipe(z.array(z.string())),\n  CONTENT_CREATION_BUDGET_LIMIT",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/config/schema.ts",
        "start": 208,
        "end": 215,
        "startLoc": {
          "line": 208,
          "column": 32,
          "position": 1537
        },
        "endLoc": {
          "line": 215,
          "column": 30,
          "position": 1616
        }
      },
      "secondFile": {
        "name": "src/lib/config/schema.ts",
        "start": 102,
        "end": 109,
        "startLoc": {
          "line": 102,
          "column": 25,
          "position": 664
        },
        "endLoc": {
          "line": 109,
          "column": 22,
          "position": 743
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "async getSecretJSON<T = unknown>(\n    secretName: string,\n    fallbackEnvVar?: string\n  ): Promise<T> {\n    const secretString = await this.getSecret(secretName, fallbackEnvVar);\n    try {\n      return JSON.parse(secretString) as T;\n    } catch (error) {\n      throw new Error(\n        `Secret ",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/aws/SecretsManager.ts",
        "start": 136,
        "end": 145,
        "startLoc": {
          "line": 136,
          "column": 3,
          "position": 866
        },
        "endLoc": {
          "line": 145,
          "column": 9,
          "position": 963
        }
      },
      "secondFile": {
        "name": "src/lib/aws/secrets-manager.ts",
        "start": 271,
        "end": 277,
        "startLoc": {
          "line": 271,
          "column": 3,
          "position": 1739
        },
        "endLoc": {
          "line": 277,
          "column": 10,
          "position": 1831
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "const { password: _, ...userWithoutPassword } = user;\n      const value = JSON.stringify(userWithoutPassword);\n\n      if (isUpstash) {\n        await (this.redis as UpstashRedis).setex(\n          key,\n          CACHE_TTL.userData,\n          value\n        );\n      } else {\n        await (this.redis as Redis).setex(key, CACHE_TTL.userData, value);\n      }\n    }",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/auth/RedisAuthCache.ts",
        "start": 204,
        "end": 216,
        "startLoc": {
          "line": 204,
          "column": 7,
          "position": 1407
        },
        "endLoc": {
          "line": 216,
          "column": 2,
          "position": 1523
        }
      },
      "secondFile": {
        "name": "src/lib/auth/RedisAuthCache.ts",
        "start": 125,
        "end": 138,
        "startLoc": {
          "line": 125,
          "column": 9,
          "position": 744
        },
        "endLoc": {
          "line": 138,
          "column": 37,
          "position": 861
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": ");\n      const cached = isUpstash\n        ? await (this.redis as UpstashRedis).get(key)\n        : await (this.redis as Redis).get(key);\n\n      if (cached === null) return null;\n      if (!cached || typeof cached !== 'string') return null; // Invalid cache\n\n      return JSON.parse(cached);",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/auth/RedisAuthCache.ts",
        "start": 385,
        "end": 393,
        "startLoc": {
          "line": 385,
          "column": 10,
          "position": 3056
        },
        "endLoc": {
          "line": 393,
          "column": 2,
          "position": 3161
        }
      },
      "secondFile": {
        "name": "src/lib/auth/RedisAuthCache.ts",
        "start": 231,
        "end": 239,
        "startLoc": {
          "line": 231,
          "column": 3,
          "position": 1648
        },
        "endLoc": {
          "line": 239,
          "column": 3,
          "position": 1754
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "import { Redis } from '@upstash/redis';\n\n// Singleton Redis client\nlet redis: Redis | null = null;\n\nfunction getRedis(): Redis {\n  if (!redis) {\n    if (!process.env.UPSTASH_REDIS_REST_URL || !process.env.UPSTASH_REDIS_REST_TOKEN) {\n      throw new Error('Upstash Redis credentials not configured');\n    }\n\n    redis = new Redis({\n      url: process.env.UPSTASH_REDIS_REST_URL,\n      token: process.env.UPSTASH_REDIS_REST_TOKEN,\n    });\n  }\n\n  return redis;\n}\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/analytics/affiliate-tracking.ts",
        "start": 10,
        "end": 30,
        "startLoc": {
          "line": 10,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 30,
          "column": 7,
          "position": 146
        }
      },
      "secondFile": {
        "name": "src/lib/analytics/redis-tracker.ts",
        "start": 9,
        "end": 31,
        "startLoc": {
          "line": 9,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 31,
          "column": 4,
          "position": 148
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "();\n\n    // Get all tool keys\n    const toolKeys = await redis.keys('affiliate:tool:*:clicks');\n    const toolNames = toolKeys\n      .filter((key: string) => !key.includes(':clicks:'))\n      .map((key: string) => key.split(':')[2]);\n\n    // Collect stats for each tool",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/analytics/affiliate-tracking.ts",
        "start": 379,
        "end": 387,
        "startLoc": {
          "line": 379,
          "column": 11,
          "position": 3309
        },
        "endLoc": {
          "line": 387,
          "column": 31,
          "position": 3392
        }
      },
      "secondFile": {
        "name": "src/lib/analytics/affiliate-tracking.ts",
        "start": 289,
        "end": 297,
        "startLoc": {
          "line": 289,
          "column": 9,
          "position": 2545
        },
        "endLoc": {
          "line": 297,
          "column": 27,
          "position": 2628
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "(response: any): ParsedResponse {\n  const choice = response.choices?.[0];\n  const content = choice?.message?.content || '';\n  \n  return {\n    content,\n    raw: response,\n    format: detectFormat(content),\n    metadata: {\n      model: response.model,\n      tokens: {\n        input: response.usage?.prompt_tokens || 0,\n        output: response.usage?.completion_tokens || 0,\n        total: response.usage?.total_tokens || 0,\n      },\n      finishReason: choice?.finish_reason,\n      citations",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 93,
        "end": 109,
        "startLoc": {
          "line": 93,
          "column": 24,
          "position": 670
        },
        "endLoc": {
          "line": 109,
          "column": 10,
          "position": 831
        }
      },
      "secondFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 25,
        "end": 41,
        "startLoc": {
          "line": 25,
          "column": 20,
          "position": 125
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 286
        }
      }
    },
    {
      "format": "typescript",
      "lines": 17,
      "fragment": "(response: any): ParsedResponse {\n  const choice = response.choices?.[0];\n  const content = choice?.message?.content || '';\n  \n  return {\n    content,\n    raw: response,\n    format: detectFormat(content),\n    metadata: {\n      model: response.model,\n      tokens: {\n        input: response.usage?.prompt_tokens || 0,\n        output: response.usage?.completion_tokens || 0,\n        total: response.usage?.total_tokens || 0,\n      },\n      finishReason: choice?.finish_reason,\n      xGroq",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 117,
        "end": 133,
        "startLoc": {
          "line": 117,
          "column": 18,
          "position": 859
        },
        "endLoc": {
          "line": 133,
          "column": 6,
          "position": 1020
        }
      },
      "secondFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 25,
        "end": 41,
        "startLoc": {
          "line": 25,
          "column": 20,
          "position": 125
        },
        "endLoc": {
          "line": 41,
          "column": 2,
          "position": 286
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "|| '';\n  \n  return {\n    content,\n    raw: response,\n    format: detectFormat(content),\n    metadata: {\n      model: response.model,\n      tokens: {\n        input: response.usage?.prompt_tokens || 0,\n        output: response.usage?.completion_tokens || 0,\n        total: response.usage?.total_tokens || 0,\n      },\n      finishReason: choice?.finish_reason,\n    },\n  };\n}\n\n/**\n * Parse Mistral response\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 143,
        "end": 163,
        "startLoc": {
          "line": 143,
          "column": 2,
          "position": 1099
        },
        "endLoc": {
          "line": 163,
          "column": 4,
          "position": 1226
        }
      },
      "secondFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 27,
        "end": 47,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 169
        },
        "endLoc": {
          "line": 47,
          "column": 4,
          "position": 296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "(response: any): ParsedResponse {\n  const choice = response.choices?.[0];\n  const content = choice?.message?.content || '';\n  \n  return {\n    content,\n    raw: response,\n    format: detectFormat(content),\n    metadata: {\n      model: response.model,\n      tokens: {\n        input: response.usage?.prompt_tokens || 0,\n        output: response.usage?.completion_tokens || 0,\n        total: response.usage?.total_tokens || 0,\n      },\n      finishReason: choice?.finish_reason,\n    },\n  };\n}\n\n/**\n * Universal response parser\n * Automatically detects provider and parses accordingly\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 164,
        "end": 187,
        "startLoc": {
          "line": 164,
          "column": 21,
          "position": 1233
        },
        "endLoc": {
          "line": 187,
          "column": 4,
          "position": 1404
        }
      },
      "secondFile": {
        "name": "src/lib/ai/response-parser.ts",
        "start": 25,
        "end": 47,
        "startLoc": {
          "line": 25,
          "column": 20,
          "position": 125
        },
        "endLoc": {
          "line": 47,
          "column": 4,
          "position": 296
        }
      }
    },
    {
      "format": "typescript",
      "lines": 10,
      "fragment": "const scoredModels = availableModels.map(model => ({\n    model,\n    score: scoreModel(model, criteria),\n    reasons: getSelectionReasons(model, criteria),\n    estimatedCost: estimateCost(model, criteria),\n    estimatedLatency: estimateLatency(model, criteria),\n    confidence: calculateConfidence(model, criteria),\n  }));\n\n  scoredModels",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/ai/model-selector.ts",
        "start": 90,
        "end": 99,
        "startLoc": {
          "line": 90,
          "column": 3,
          "position": 651
        },
        "endLoc": {
          "line": 99,
          "column": 13,
          "position": 745
        }
      },
      "secondFile": {
        "name": "src/lib/ai/model-selector.ts",
        "start": 65,
        "end": 74,
        "startLoc": {
          "line": 65,
          "column": 3,
          "position": 460
        },
        "endLoc": {
          "line": 74,
          "column": 33,
          "position": 554
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ".length > 1 && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => removeStakeholder(index)}\n                      >\n                        <Icons.x className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={addStakeholder}\n                  className=\"w-full\"\n                >\n                  <Icons.plus className=\"h-4 w-4 mr-2\" />\n                  Add Stakeholder",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 303,
        "end": 321,
        "startLoc": {
          "line": 303,
          "column": 13,
          "position": 2318
        },
        "endLoc": {
          "line": 321,
          "column": 12,
          "position": 2437
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 264,
        "end": 282,
        "startLoc": {
          "line": 264,
          "column": 7,
          "position": 2023
        },
        "endLoc": {
          "line": 282,
          "column": 7,
          "position": 2142
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "'use client';\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\n\ninterface RetrospectiveScenario",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/RetrospectiveDiagnostician.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 22,
          "position": 94
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 17,
          "position": 94
        }
      }
    },
    {
      "format": "tsx",
      "lines": 19,
      "fragment": ".length > 1 && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => removeIssue(index)}\n                      >\n                        <Icons.x className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={addIssue}\n                  className=\"w-full\"\n                >\n                  <Icons.plus className=\"h-4 w-4 mr-2\" />\n                  Add Issue",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/RetrospectiveDiagnostician.tsx",
        "start": 233,
        "end": 251,
        "startLoc": {
          "line": 233,
          "column": 14,
          "position": 1761
        },
        "endLoc": {
          "line": 251,
          "column": 6,
          "position": 1880
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 264,
        "end": 282,
        "startLoc": {
          "line": 264,
          "column": 7,
          "position": 2023
        },
        "endLoc": {
          "line": 282,
          "column": 7,
          "position": 2142
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "</CardTitle>\n          </CardHeader>\n          <CardContent>\n            {generatedPrompt ? (\n              <div className=\"space-y-4\">\n                <div className=\"bg-muted p-4 rounded-lg\">\n                  <pre className=\"whitespace-pre-wrap text-sm\">\n                    {generatedPrompt}\n                  </pre>\n                </div>\n                <div className=\"flex gap-2\">\n                  <Button onClick={copyToClipboard} className=\"flex-1\">\n                    <Icons.copy className=\"h-4 w-4 mr-2\" />\n                    Copy Plan",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/RetrospectiveDiagnostician.tsx",
        "start": 273,
        "end": 286,
        "startLoc": {
          "line": 273,
          "column": 13,
          "position": 2016
        },
        "endLoc": {
          "line": 286,
          "column": 5,
          "position": 2129
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 343,
        "end": 356,
        "startLoc": {
          "line": 343,
          "column": 13,
          "position": 2589
        },
        "endLoc": {
          "line": 356,
          "column": 9,
          "position": 2702
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</Button>\n                  <Button variant=\"outline\" onClick={() => setGeneratedPrompt('')}>\n                    <Icons.refresh className=\"h-4 w-4 mr-2\" />\n                    Regenerate\n                  </Button>\n                </div>\n                <div className=\"text-sm text-muted-foreground\">\n                  <p className=\"font-medium mb-1\">How to use:</p>\n                  <ol className=\"list-decimal list-inside space-y-1\">\n                    <li>Copy the retrospective",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/RetrospectiveDiagnostician.tsx",
        "start": 287,
        "end": 296,
        "startLoc": {
          "line": 287,
          "column": 19,
          "position": 2132
        },
        "endLoc": {
          "line": 296,
          "column": 14,
          "position": 2236
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 357,
        "end": 366,
        "startLoc": {
          "line": 357,
          "column": 19,
          "position": 2705
        },
        "endLoc": {
          "line": 366,
          "column": 9,
          "position": 2809
        }
      }
    },
    {
      "format": "tsx",
      "lines": 18,
      "fragment": ".length > 1 && (\n                      <Button\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => removeKeyResult(index)}\n                      >\n                        <Icons.x className=\"h-4 w-4\" />\n                      </Button>\n                    )}\n                  </div>\n                ))}\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={addKeyResult}\n                  className=\"w-full\"\n                >\n                  <Icons.plus className=\"mr-2 h-4 w-4",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/workbench/OKRWorkbench.tsx",
        "start": 196,
        "end": 213,
        "startLoc": {
          "line": 196,
          "column": 11,
          "position": 1376
        },
        "endLoc": {
          "line": 213,
          "column": 13,
          "position": 1487
        }
      },
      "secondFile": {
        "name": "src/components/workbench/TechDebtStrategist.tsx",
        "start": 264,
        "end": 281,
        "startLoc": {
          "line": 264,
          "column": 7,
          "position": 2023
        },
        "endLoc": {
          "line": 281,
          "column": 13,
          "position": 2134
        }
      }
    },
    {
      "format": "tsx",
      "lines": 23,
      "fragment": ".map((role) => {\n              const Icon = role.icon;\n              const isActive = pathname === role.href;\n\n              return (\n                <Link key={role.id} href={role.href}>\n                  <Badge\n                    variant={isActive ? 'default' : 'outline'}\n                    className={cn(\n                      'cursor-pointer whitespace-nowrap transition-all hover:scale-105',\n                      isActive\n                        ? 'border-purple-600 bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-sm'\n                        : 'border-gray-300 bg-white text-gray-700 hover:border-gray-400 hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:bg-gray-700'\n                    )}\n                  >\n                    <Icon className=\"mr-1 h-3 w-3\" />\n                    {role.label}\n                  </Badge>\n                </Link>\n              );\n            })}\n          </div>\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/roles/RoleSelector.tsx",
        "start": 142,
        "end": 164,
        "startLoc": {
          "line": 142,
          "column": 10,
          "position": 955
        },
        "endLoc": {
          "line": 164,
          "column": 3,
          "position": 1104
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleSelector.tsx",
        "start": 118,
        "end": 140,
        "startLoc": {
          "line": 118,
          "column": 9,
          "position": 788
        },
        "endLoc": {
          "line": 140,
          "column": 2,
          "position": 937
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ",\n      category: p.category,\n      role: p.role,\n      pattern: p.pattern,\n      tags: p.tags || [],\n      isFeatured: p.isFeatured || false,\n      views: p.views || 0,\n      rating: p.rating || 0",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 60,
        "end": 67,
        "startLoc": {
          "line": 60,
          "column": 12,
          "position": 633
        },
        "endLoc": {
          "line": 67,
          "column": 2,
          "position": 712
        }
      },
      "secondFile": {
        "name": "src/app/prompts/role/[role]/page.tsx",
        "start": 80,
        "end": 87,
        "startLoc": {
          "line": 80,
          "column": 8,
          "position": 533
        },
        "endLoc": {
          "line": 87,
          "column": 2,
          "position": 612
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "(role: string): Promise<string[]> {\n  try {\n    // Load from static JSON\n    const allPrompts = await loadPromptsFromJson();\n    const prompts = allPrompts.filter(\n      (p) => p.role?.toLowerCase() === role.toLowerCase()\n    );\n\n    const examples",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 99,
        "end": 107,
        "startLoc": {
          "line": 99,
          "column": 31,
          "position": 1045
        },
        "endLoc": {
          "line": 107,
          "column": 9,
          "position": 1128
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 77,
        "end": 85,
        "startLoc": {
          "line": 77,
          "column": 23,
          "position": 807
        },
        "endLoc": {
          "line": 85,
          "column": 9,
          "position": 890
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "(role: string): Promise<string[]> {\n  try {\n    // Load from static JSON\n    const allPrompts = await loadPromptsFromJson();\n    const prompts = allPrompts.filter(\n      (p) => p.role?.toLowerCase() === role.toLowerCase()\n    );\n\n    // Extract task-related tags (common daily task keywords)",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 139,
        "end": 147,
        "startLoc": {
          "line": 139,
          "column": 22,
          "position": 1418
        },
        "endLoc": {
          "line": 147,
          "column": 58,
          "position": 1499
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 77,
        "end": 85,
        "startLoc": {
          "line": 77,
          "column": 23,
          "position": 807
        },
        "endLoc": {
          "line": 85,
          "column": 6,
          "position": 888
        }
      }
    },
    {
      "format": "tsx",
      "lines": 35,
      "fragment": "\"\n                          value={resource.title}\n                          onChange={(e) =>\n                            updateResource('community', idx, 'title', e.target.value)\n                          }\n                        />\n                        <Input\n                          placeholder=\"URL\"\n                          value={resource.url}\n                          onChange={(e) =>\n                            updateResource('community', idx, 'url', e.target.value)\n                          }\n                        />\n                        <Input\n                          placeholder=\"Description (optional)\"\n                          value={resource.description || ''}\n                          onChange={(e) =>\n                            updateResource('community', idx, 'description', e.target.value)\n                          }\n                        />\n                        <Button\n                          variant=\"destructive\"\n                          size=\"sm\"\n                          onClick={() => removeResource('community', idx)}\n                        >\n                          <Icons.trash className=\"mr-2 h-4 w-4\" />\n                          Remove\n                        </Button>\n                      </div>\n                    </CardContent>\n                  </Card>\n                ))}\n                <Button onClick={() => addResource('community')} variant=\"outline\" size=\"sm\">\n                  <Icons.plus className=\"mr-2 h-4 w-4\" />\n                  Add Community",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/opshub/HubContentEditor.tsx",
        "start": 287,
        "end": 321,
        "startLoc": {
          "line": 287,
          "column": 31,
          "position": 2764
        },
        "endLoc": {
          "line": 321,
          "column": 10,
          "position": 3020
        }
      },
      "secondFile": {
        "name": "src/components/opshub/HubContentEditor.tsx",
        "start": 239,
        "end": 273,
        "startLoc": {
          "line": 239,
          "column": 37,
          "position": 2381
        },
        "endLoc": {
          "line": 273,
          "column": 9,
          "position": 2637
        }
      }
    },
    {
      "format": "javascript",
      "lines": 87,
      "fragment": "={link.href}\n                    className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Company Links */}\n          <div>\n            <h3 className=\"mb-3 text-sm font-semibold uppercase tracking-wider text-foreground\">Company</h3>\n            <ul className=\"space-y-3\">\n              {footerLinks.company.map((link) => (\n                <li key={link.href}>\n                  {link.external ? (\n                    <a\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {link.label}\n                    </a>\n                  ) : (\n                    <Link\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                    >\n                      {link.label}\n                    </Link>\n                  )}\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Resources Links */}\n          <div>\n            <h3 className=\"mb-3 text-sm font-semibold uppercase tracking-wider text-foreground\">Resources</h3>\n            <ul className=\"space-y-3\">\n              {footerLinks.resources.map((link) => (\n                <li key={link.href}>\n                  <Link\n                    href={link.href}\n                    className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                  >\n                    {link.label}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Social & Legal Links */}\n          <div>\n            <h3 className=\"mb-4 font-semibold\">Social</h3>\n            <ul className=\"space-y-3\">\n              {footerLinks.social.map((link) => (\n                <li key={link.href}>\n                  {link.external ? (\n                    <a\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {link.label}\n                    </a>\n                  ) : (\n                    <Link\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                    >\n                      {link.label}\n                    </Link>\n                  )}\n                </li>\n              ))}\n            </ul>\n            <h3 className=\"mb-4 mt-6 font-semibold\">Legal</h3>\n            <ul className=\"space-y-3\">\n              {footerLinks.legal.map((link) => (\n                <li key={link.href}>\n                  <Link\n                    href={link.href}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/layout/Footer.tsx",
        "start": 87,
        "end": 173,
        "startLoc": {
          "line": 87,
          "column": 5,
          "position": 691
        },
        "endLoc": {
          "line": 173,
          "column": 2,
          "position": 1282
        }
      },
      "secondFile": {
        "name": "src/components/layout/Footer.tsx",
        "start": 85,
        "end": 150,
        "startLoc": {
          "line": 85,
          "column": 4,
          "position": 678
        },
        "endLoc": {
          "line": 150,
          "column": 2,
          "position": 1125
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "[\n    { href: '/prompts', label: 'Prompts' },\n    { href: '/patterns', label: 'Patterns' },\n    { href: '/workflows', label: 'Workflows' },\n    { href: '/learn/ai-tools', label: 'Tools' },\n    { href: '/learn', label: 'Learn' },\n    { href: '/workbench', label: 'Workbench' },\n  ],",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/layout/Footer.tsx",
        "start": 16,
        "end": 23,
        "startLoc": {
          "line": 16,
          "column": 2,
          "position": 51
        },
        "endLoc": {
          "line": 23,
          "column": 2,
          "position": 157
        }
      },
      "secondFile": {
        "name": "src/components/layout/Header.tsx",
        "start": 41,
        "end": 48,
        "startLoc": {
          "line": 41,
          "column": 2,
          "position": 247
        },
        "endLoc": {
          "line": 48,
          "column": 2,
          "position": 352
        }
      }
    },
    {
      "format": "tsx",
      "lines": 23,
      "fragment": ".map((link) => (\n                <li key={link.href}>\n                  {link.external ? (\n                    <a\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      {link.label}\n                    </a>\n                  ) : (\n                    <Link\n                      href={link.href}\n                      className=\"text-sm text-muted-foreground transition-colors hover:text-foreground\"\n                    >\n                      {link.label}\n                    </Link>\n                  )}\n                </li>\n              ))}\n            </ul>\n            <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/layout/Footer.tsx",
        "start": 146,
        "end": 168,
        "startLoc": {
          "line": 146,
          "column": 7,
          "position": 1081
        },
        "endLoc": {
          "line": 168,
          "column": 2,
          "position": 1218
        }
      },
      "secondFile": {
        "name": "src/components/layout/Footer.tsx",
        "start": 101,
        "end": 123,
        "startLoc": {
          "line": 101,
          "column": 8,
          "position": 780
        },
        "endLoc": {
          "line": 123,
          "column": 3,
          "position": 917
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ")</label>\n                <Select value={selectedRev2} onValueChange={setSelectedRev2}>\n                  <SelectTrigger>\n                    <SelectValue placeholder=\"Select revision\" />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {revisions.map((rev) => (\n                      <SelectItem key={rev.revisionNumber} value={rev.revisionNumber.toString()}>\n                        v{rev.revisionNumber} - {rev.changeReason || 'Prompt updated'}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              </div>\n            </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/RevisionComparison.tsx",
        "start": 124,
        "end": 138,
        "startLoc": {
          "line": 124,
          "column": 6,
          "position": 1181
        },
        "endLoc": {
          "line": 138,
          "column": 3,
          "position": 1315
        }
      },
      "secondFile": {
        "name": "src/components/features/RevisionComparison.tsx",
        "start": 109,
        "end": 123,
        "startLoc": {
          "line": 109,
          "column": 6,
          "position": 1027
        },
        "endLoc": {
          "line": 123,
          "column": 2,
          "position": 1161
        }
      }
    },
    {
      "format": "javascript",
      "lines": 12,
      "fragment": "}\n              />\n            )}\n\n            {param.type === 'textarea' && (\n              <Textarea\n                id={param.id}\n                placeholder={param.placeholder || param.example || `Enter ${param.label.toLowerCase()}`}\n                value={(values[param.id] as string) || ''}\n                onChange={(e) => handleChange(param.id, e.target.value)}\n                required={param.required}\n                rows={4",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 142,
        "end": 153,
        "startLoc": {
          "line": 142,
          "column": 9,
          "position": 1528
        },
        "endLoc": {
          "line": 153,
          "column": 2,
          "position": 1643
        }
      },
      "secondFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 127,
        "end": 148,
        "startLoc": {
          "line": 127,
          "column": 3,
          "position": 1341
        },
        "endLoc": {
          "line": 148,
          "column": 6,
          "position": 1558
        }
      }
    },
    {
      "format": "javascript",
      "lines": 41,
      "fragment": "} className=\"cursor-pointer\">\n                        {option}\n                      </Label>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n\n            {param.type === 'checkbox' && param.options && (\n              <div className=\"space-y-2\">\n                {param.options.map((option) => {\n                  const currentValues = (values[param.id] as string[]) || [];\n                  const checked = currentValues.includes(option);\n                  return (\n                    <div key={option} className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`${param.id}-${option}`}\n                        checked={checked}\n                        onCheckedChange={(checked) => handleMultiSelectChange(param.id, option, checked as boolean)}\n                      />\n                      <Label htmlFor={`${param.id}-${option}`} className=\"cursor-pointer\">\n                        {option}\n                      </Label>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n\n            {param.example && (\n              <p className=\"text-xs text-muted-foreground\">\n                Example: <code className=\"bg-muted px-1 rounded\">{param.example}</code>\n              </p>\n            )}\n          </div>\n        ))}\n\n        <div className=\"pt-4 border-t\">\n          <Button\n            onClick={handleCopy",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 187,
        "end": 227,
        "startLoc": {
          "line": 187,
          "column": 2,
          "position": 2014
        },
        "endLoc": {
          "line": 227,
          "column": 11,
          "position": 2363
        }
      },
      "secondFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 167,
        "end": 202,
        "startLoc": {
          "line": 167,
          "column": 7,
          "position": 1799
        },
        "endLoc": {
          "line": 202,
          "column": 7,
          "position": 2159
        }
      }
    },
    {
      "format": "tsx",
      "lines": 22,
      "fragment": "&& param.options && (\n              <div className=\"space-y-2\">\n                {param.options.map((option) => {\n                  const currentValues = (values[param.id] as string[]) || [];\n                  const checked = currentValues.includes(option);\n                  return (\n                    <div key={option} className=\"flex items-center space-x-2\">\n                      <Checkbox\n                        id={`${param.id}-${option}`}\n                        checked={checked}\n                        onCheckedChange={(checked) => handleMultiSelectChange(param.id, option, checked as boolean)}\n                      />\n                      <Label htmlFor={`${param.id}-${option}`} className=\"cursor-pointer\">\n                        {option}\n                      </Label>\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n\n            {param.example",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 196,
        "end": 217,
        "startLoc": {
          "line": 196,
          "column": 2,
          "position": 2067
        },
        "endLoc": {
          "line": 217,
          "column": 8,
          "position": 2286
        }
      },
      "secondFile": {
        "name": "src/components/features/PromptParameters.tsx",
        "start": 175,
        "end": 196,
        "startLoc": {
          "line": 175,
          "column": 2,
          "position": 1842
        },
        "endLoc": {
          "line": 196,
          "column": 5,
          "position": 2061
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "}\n        <div className=\"flex flex-wrap gap-2\">\n          <Badge variant=\"secondary\">\n            {categoryLabels[prompt.category] || prompt.category}\n          </Badge>\n          {prompt.role && (\n            <Badge variant=\"outline\">\n              {roleLabels[prompt.role as UserRole] || prompt.role}\n            </Badge>\n          )}\n          {prompt.pattern && (\n            <Badge className=\"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-100\">\n              <Icons.brain className=\"mr-1 h-3 w-3\" />\n              {prompt.pattern}\n            </Badge>\n          )}\n        </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PromptDetailModal.tsx",
        "start": 99,
        "end": 115,
        "startLoc": {
          "line": 99,
          "column": 15,
          "position": 693
        },
        "endLoc": {
          "line": 115,
          "column": 3,
          "position": 838
        }
      },
      "secondFile": {
        "name": "src/app/prompts/[id]/page.tsx",
        "start": 411,
        "end": 427,
        "startLoc": {
          "line": 411,
          "column": 22,
          "position": 3219
        },
        "endLoc": {
          "line": 427,
          "column": 2,
          "position": 3364
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ".map((reason, i) => (\n                  <li key={visibleCount + i} className=\"flex items-start gap-3\">\n                    <Icons.check className=\"mt-0.5 h-5 w-5 shrink-0 text-green-600\" />\n                    <span className=\"text-base leading-relaxed\">{reason}</span>\n                  </li>\n                ))}\n              </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PromptContextExplanation.tsx",
        "start": 201,
        "end": 207,
        "startLoc": {
          "line": 201,
          "column": 14,
          "position": 1327
        },
        "endLoc": {
          "line": 207,
          "column": 3,
          "position": 1400
        }
      },
      "secondFile": {
        "name": "src/components/features/PromptContextExplanation.tsx",
        "start": 193,
        "end": 200,
        "startLoc": {
          "line": 193,
          "column": 15,
          "position": 1243
        },
        "endLoc": {
          "line": 200,
          "column": 2,
          "position": 1316
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "\">\n              {prompt.description}\n            </p>\n            <div className=\"mb-2 flex flex-wrap gap-1\">\n              <Badge variant=\"secondary\" className=\"text-xs\">\n                {categoryLabels[prompt.category] || prompt.category}\n              </Badge>\n              {prompt.role && (\n                <Badge variant=\"outline\" className=\"text-xs\">\n                  {roleLabels[prompt.role as UserRole] || prompt.role}\n                </Badge>\n              )}\n            </div>\n            <PromptMetrics\n              ",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternPrompts.tsx",
        "start": 121,
        "end": 135,
        "startLoc": {
          "line": 121,
          "column": 48,
          "position": 1045
        },
        "endLoc": {
          "line": 135,
          "column": 15,
          "position": 1173
        }
      },
      "secondFile": {
        "name": "src/components/features/RelatedPrompts.tsx",
        "start": 228,
        "end": 242,
        "startLoc": {
          "line": 228,
          "column": 73,
          "position": 1732
        },
        "endLoc": {
          "line": 242,
          "column": 19,
          "position": 1860
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n              </div>\n              <div className=\"flex gap-2\">\n                <Badge className={levelColors[pattern.level]}>\n                  {pattern.level}\n                </Badge>\n                <Badge variant=\"outline\">{pattern.category}</Badge>\n              </div>\n            </div>\n          </DrawerHeader",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternDetailDrawer.tsx",
        "start": 51,
        "end": 60,
        "startLoc": {
          "line": 51,
          "column": 18,
          "position": 324
        },
        "endLoc": {
          "line": 60,
          "column": 13,
          "position": 401
        }
      },
      "secondFile": {
        "name": "src/app/patterns/[pattern]/pattern-detail-client.tsx",
        "start": 52,
        "end": 61,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 479
        },
        "endLoc": {
          "line": 61,
          "column": 4,
          "position": 556
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "<div>\n                  <div className=\"mb-2 flex items-center gap-2\">\n                    <Badge variant=\"destructive\" className=\"text-xs\">\n                       Before (Weak)\n                    </Badge>\n                  </div>\n                  <div className=\"rounded-md border border-red-200 bg-red-50 p-4 dark:border-red-800 dark:bg-red-950\">\n                    <code className=\"text-sm text-red-900 dark:text-red-100\">\n                      {pattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternDetailDrawer.tsx",
        "start": 110,
        "end": 118,
        "startLoc": {
          "line": 110,
          "column": 17,
          "position": 784
        },
        "endLoc": {
          "line": 118,
          "column": 8,
          "position": 859
        }
      },
      "secondFile": {
        "name": "src/app/patterns/[pattern]/pattern-detail-client.tsx",
        "start": 119,
        "end": 127,
        "startLoc": {
          "line": 119,
          "column": 19,
          "position": 1021
        },
        "endLoc": {
          "line": 127,
          "column": 8,
          "position": 1096
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "{/* After */}\n                <div>\n                  <div className=\"mb-2 flex items-center gap-2\">\n                    <Badge className=\"bg-green-600 text-xs\">\n                       After (Strong)\n                    </Badge>\n                  </div>\n                  <div className=\"rounded-md border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-950\">\n                    <code className=\"whitespace-pre-wrap text-sm text-green-900 dark:text-green-100\">\n                      {pattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternDetailDrawer.tsx",
        "start": 123,
        "end": 132,
        "startLoc": {
          "line": 123,
          "column": 17,
          "position": 883
        },
        "endLoc": {
          "line": 132,
          "column": 8,
          "position": 957
        }
      },
      "secondFile": {
        "name": "src/app/patterns/[pattern]/pattern-detail-client.tsx",
        "start": 133,
        "end": 142,
        "startLoc": {
          "line": 133,
          "column": 17,
          "position": 1122
        },
        "endLoc": {
          "line": 142,
          "column": 8,
          "position": 1196
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n              <ul className=\"space-y-2\">\n                {pattern.bestPractices.map((practice, index) => (\n                  <li key={index} className=\"flex items-start gap-2\">\n                    <Icons.check className=\"mt-1 h-4 w-4 flex-shrink-0 text-green-600\" />\n                    <span className=\"text-muted-foreground\">{practice}</span>\n                  </li>\n                ))}\n              </ul>\n            </section>\n\n            {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternDetailDrawer.tsx",
        "start": 152,
        "end": 163,
        "startLoc": {
          "line": 152,
          "column": 3,
          "position": 1095
        },
        "endLoc": {
          "line": 163,
          "column": 2,
          "position": 1195
        }
      },
      "secondFile": {
        "name": "src/app/patterns/[pattern]/pattern-detail-client.tsx",
        "start": 165,
        "end": 175,
        "startLoc": {
          "line": 165,
          "column": 3,
          "position": 1366
        },
        "endLoc": {
          "line": 175,
          "column": 2,
          "position": 1465
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n              <ul className=\"space-y-2\">\n                {pattern.commonMistakes.map((mistake, index) => (\n                  <li key={index} className=\"flex items-start gap-2\">\n                    <Icons.x className=\"mt-1 h-4 w-4 flex-shrink-0 text-red-600\" />\n                    <span className=\"text-muted-foreground\">{mistake}</span>\n                  </li>\n                ))}\n              </ul>\n            </section>\n\n            {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/features/PatternDetailDrawer.tsx",
        "start": 168,
        "end": 179,
        "startLoc": {
          "line": 168,
          "column": 3,
          "position": 1239
        },
        "endLoc": {
          "line": 179,
          "column": 2,
          "position": 1339
        }
      },
      "secondFile": {
        "name": "src/app/patterns/[pattern]/pattern-detail-client.tsx",
        "start": 183,
        "end": 193,
        "startLoc": {
          "line": 183,
          "column": 3,
          "position": 1536
        },
        "endLoc": {
          "line": 193,
          "column": 2,
          "position": 1635
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "</div>\n            </div>\n          ))}\n          {isLoading && (\n            <div className=\"flex justify-start\">\n              <div className=\"max-w-[80%] rounded-lg bg-muted px-4 py-2\">\n                <Icons.spinner className=\"h-4 w-4 animate-spin\" />\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Quick Prompts */",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/chat/ChatWidget.tsx",
        "start": 133,
        "end": 145,
        "startLoc": {
          "line": 133,
          "column": 15,
          "position": 1107
        },
        "endLoc": {
          "line": 145,
          "column": 20,
          "position": 1185
        }
      },
      "secondFile": {
        "name": "src/components/features/ChatWidget.tsx",
        "start": 138,
        "end": 150,
        "startLoc": {
          "line": 138,
          "column": 17,
          "position": 1118
        },
        "endLoc": {
          "line": 150,
          "column": 12,
          "position": 1196
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "}</AvatarFallback>\n          </Avatar>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\n        <DropdownMenuLabel className=\"font-normal\">\n          <div className=\"flex flex-col space-y-1\">\n            <p className=\"text-sm font-medium leading-none\">{user.name}</p>\n            <p className=\"text-xs leading-none text-gray-500",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/auth/UserMenu.tsx",
        "start": 52,
        "end": 60,
        "startLoc": {
          "line": 52,
          "column": 9,
          "position": 409
        },
        "endLoc": {
          "line": 60,
          "column": 35,
          "position": 496
        }
      },
      "secondFile": {
        "name": "src/components/layout/Header.tsx",
        "start": 198,
        "end": 209,
        "startLoc": {
          "line": 198,
          "column": 4,
          "position": 1198
        },
        "endLoc": {
          "line": 209,
          "column": 43,
          "position": 1291
        }
      }
    },
    {
      "format": "tsx",
      "lines": 20,
      "fragment": "<div className=\"flex items-center gap-3\">\n        {article.category && (\n          <Badge variant=\"default\" className=\"text-sm font-medium\">\n            {article.category}\n          </Badge>\n        )}\n        {article.level && (\n          <Badge variant=\"outline\" className=\"text-sm\">\n            {article.level}\n          </Badge>\n        )}\n        {article.featured && (\n          <Badge variant=\"secondary\" className=\"text-sm\">\n            <Icons.star className=\"mr-1 h-3 w-3\" />\n            Featured\n          </Badge>\n        )}\n      </div>\n\n      {",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/article/ArticleHeader.tsx",
        "start": 21,
        "end": 40,
        "startLoc": {
          "line": 21,
          "column": 7,
          "position": 155
        },
        "endLoc": {
          "line": 40,
          "column": 2,
          "position": 309
        }
      },
      "secondFile": {
        "name": "src/app/learn/[slug]/page.tsx",
        "start": 110,
        "end": 129,
        "startLoc": {
          "line": 110,
          "column": 11,
          "position": 980
        },
        "endLoc": {
          "line": 129,
          "column": 2,
          "position": 1135
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "}\n      <div className=\"flex items-center gap-6\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"flex h-12 w-12 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n            <Icons.user className=\"h-6 w-6\" />\n          </div>\n          <div>\n            <p className=\"font-medium\">{article.author || 'Engify.ai Team'}</p>\n            <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n              {article.publishedAt && (\n                <time>{formatArticleDate",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/article/ArticleHeader.tsx",
        "start": 52,
        "end": 62,
        "startLoc": {
          "line": 52,
          "column": 24,
          "position": 383
        },
        "endLoc": {
          "line": 62,
          "column": 18,
          "position": 489
        }
      },
      "secondFile": {
        "name": "src/app/learn/[slug]/page.tsx",
        "start": 137,
        "end": 149,
        "startLoc": {
          "line": 137,
          "column": 2,
          "position": 1193
        },
        "endLoc": {
          "line": 149,
          "column": 4,
          "position": 1302
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "}\n      <div className=\"rounded-lg border bg-slate-50 p-6 dark:bg-slate-900\">\n        <div className=\"flex items-start gap-4\">\n          <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n            <Icons.user className=\"h-8 w-8\" />\n          </div>\n          <div className=\"flex-1\">\n            <h3 className=\"font-semibold\">{article.author || 'Engify.ai Team'}</h3>\n            <p className=\"mt-1 text-sm text-muted-foreground\">\n              Helping developers master AI-assisted development with proven workflows and\n              enterprise practices.\n            </p>\n            <div className=\"mt-3 flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" asChild>\n                <Link href=\"/learn\">More Articles</Link>\n              </Button>\n              <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/article/ArticleFooter.tsx",
        "start": 33,
        "end": 49,
        "startLoc": {
          "line": 33,
          "column": 17,
          "position": 252
        },
        "endLoc": {
          "line": 49,
          "column": 2,
          "position": 434
        }
      },
      "secondFile": {
        "name": "src/app/learn/[slug]/page.tsx",
        "start": 200,
        "end": 217,
        "startLoc": {
          "line": 200,
          "column": 18,
          "position": 1771
        },
        "endLoc": {
          "line": 217,
          "column": 3,
          "position": 1956
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <SelectItem value=\"free\">Free</SelectItem>\n                      <SelectItem value=\"basic\">Basic</SelectItem>\n                      <SelectItem value=\"pro\">Pro</SelectItem>\n                      <SelectItem value=\"enterprise\">Enterprise</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 493,
        "end": 500,
        "startLoc": {
          "line": 493,
          "column": 14,
          "position": 4010
        },
        "endLoc": {
          "line": 500,
          "column": 3,
          "position": 4083
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 281,
        "end": 288,
        "startLoc": {
          "line": 281,
          "column": 11,
          "position": 2372
        },
        "endLoc": {
          "line": 288,
          "column": 2,
          "position": 2445
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <SelectItem value=\"user\">User</SelectItem>\n                      <SelectItem value=\"admin\">Admin</SelectItem>\n                      <SelectItem value=\"super_admin\">Super Admin</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n              </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 513,
        "end": 520,
        "startLoc": {
          "line": 513,
          "column": 14,
          "position": 4180
        },
        "endLoc": {
          "line": 520,
          "column": 3,
          "position": 4245
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 293,
        "end": 301,
        "startLoc": {
          "line": 293,
          "column": 11,
          "position": 2509
        },
        "endLoc": {
          "line": 301,
          "column": 2,
          "position": 2575
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                  <option value=\"user\">User</option>\n                  <option value=\"admin\">Admin</option>\n                  <option value=\"super_admin\">Super Admin</option>\n                  <option value=\"org_admin\">Org Admin</option>\n                </select>\n              </div>\n            </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/UserManagement.tsx",
        "start": 221,
        "end": 228,
        "startLoc": {
          "line": 221,
          "column": 17,
          "position": 2161
        },
        "endLoc": {
          "line": 228,
          "column": 3,
          "position": 2238
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagement.tsx",
        "start": 154,
        "end": 161,
        "startLoc": {
          "line": 154,
          "column": 7,
          "position": 1495
        },
        "endLoc": {
          "line": 161,
          "column": 2,
          "position": 1572
        }
      }
    },
    {
      "format": "javascript",
      "lines": 67,
      "fragment": "._id)}\n                            >\n                              <Icons.delete className=\"h-4 w-4 text-red-600\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Page {currentPage} of {totalPages}\n                  </p>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                      disabled={currentPage === 1}\n                    >\n                      <Icons.left className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        setCurrentPage((p) => Math.min(totalPages, p + 1))\n                      }\n                      disabled={currentPage === totalPages}\n                    >\n                      <Icons.arrowRight className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit/Create Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"max-h-[90vh] max-w-2xl overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {isCreating ? 'Create New Setting' : 'Edit Setting'}\n            </DialogTitle>\n            <DialogDescription>\n              {isCreating\n                ? 'Add a new system configuration setting'\n                : 'Update setting value and details'}\n            </DialogDescription>\n          </DialogHeader>\n\n          {editingSetting && (\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"key\">Key</Label>\n                  <Input\n                    id=\"key\"\n                    value={editingSetting",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 417,
        "end": 483,
        "startLoc": {
          "line": 417,
          "column": 8,
          "position": 3405
        },
        "endLoc": {
          "line": 483,
          "column": 15,
          "position": 3874
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 394,
        "end": 460,
        "startLoc": {
          "line": 394,
          "column": 5,
          "position": 3298
        },
        "endLoc": {
          "line": 460,
          "column": 12,
          "position": 3762
        }
      }
    },
    {
      "format": "tsx",
      "lines": 37,
      "fragment": ";\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\n\ninterface SystemSetting",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 13,
        "end": 49,
        "startLoc": {
          "line": 13,
          "column": 27,
          "position": 88
        },
        "endLoc": {
          "line": 49,
          "column": 14,
          "position": 277
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 12,
        "end": 48,
        "startLoc": {
          "line": 12,
          "column": 24,
          "position": 75
        },
        "endLoc": {
          "line": 48,
          "column": 5,
          "position": 264
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "| null>(null);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [isPreviewOpen, setIsPreviewOpen] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n\n  useEffect(() => {\n    fetchSettings",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 66,
        "end": 74,
        "startLoc": {
          "line": 66,
          "column": 2,
          "position": 493
        },
        "endLoc": {
          "line": 74,
          "column": 14,
          "position": 596
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 68,
        "end": 76,
        "startLoc": {
          "line": 68,
          "column": 2,
          "position": 511
        },
        "endLoc": {
          "line": 76,
          "column": 11,
          "position": 614
        }
      }
    },
    {
      "format": "tsx",
      "lines": 65,
      "fragment": ").toLocaleDateString()}\n                        </TableCell>\n                        <TableCell className=\"text-right\">\n                          <div className=\"flex justify-end gap-2\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleEdit(setting)}\n                            >\n                              <Icons.edit className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleDelete(setting._id)}\n                            >\n                              <Icons.delete className=\"h-4 w-4 text-red-600\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Page {currentPage} of {totalPages}\n                  </p>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                      disabled={currentPage === 1}\n                    >\n                      <Icons.left className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        setCurrentPage((p) => Math.min(totalPages, p + 1))\n                      }\n                      disabled={currentPage === totalPages}\n                    >\n                      <Icons.arrowRight className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit/Create Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"max-h-[90vh] max-w-2xl overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {isCreating ? 'Create New Setting'",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 403,
        "end": 467,
        "startLoc": {
          "line": 403,
          "column": 10,
          "position": 3295
        },
        "endLoc": {
          "line": 467,
          "column": 21,
          "position": 3762
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 380,
        "end": 444,
        "startLoc": {
          "line": 380,
          "column": 10,
          "position": 3188
        },
        "endLoc": {
          "line": 444,
          "column": 18,
          "position": 3655
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": "</div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsEditDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleSave}>\n              {isCreating ? 'Create' : 'Save Changes'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview Sheet */}\n      <Sheet open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>\n        <SheetContent className=\"w-[600px] overflow-y-auto sm:max-w-[600px]\">\n          {previewSetting",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 549,
        "end": 569,
        "startLoc": {
          "line": 549,
          "column": 13,
          "position": 4337
        },
        "endLoc": {
          "line": 569,
          "column": 15,
          "position": 4465
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 567,
        "end": 587,
        "startLoc": {
          "line": 567,
          "column": 13,
          "position": 4537
        },
        "endLoc": {
          "line": 587,
          "column": 12,
          "position": 4665
        }
      }
    },
    {
      "format": "tsx",
      "lines": 32,
      "fragment": "</dl>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleEdit(previewSetting);\n                    }}\n                    className=\"flex-1\"\n                  >\n                    <Icons.edit className=\"mr-2 h-4 w-4\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"destructive\"\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleDelete(previewSetting._id);\n                    }}\n                  >\n                    <Icons.delete className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </SheetContent>\n      </Sheet>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 627,
        "end": 658,
        "startLoc": {
          "line": 627,
          "column": 19,
          "position": 4950
        },
        "endLoc": {
          "line": 658,
          "column": 2,
          "position": 5122
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 678,
        "end": 709,
        "startLoc": {
          "line": 678,
          "column": 19,
          "position": 5455
        },
        "endLoc": {
          "line": 709,
          "column": 2,
          "position": 5627
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Sheet",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PromptManagementPanel.tsx",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 6,
          "position": 143
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 1,
        "end": 24,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 143
        }
      }
    },
    {
      "format": "javascript",
      "lines": 67,
      "fragment": "._id)}\n                            >\n                              <Icons.delete className=\"h-4 w-4 text-red-600\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Page {currentPage} of {totalPages}\n                  </p>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                      disabled={currentPage === 1}\n                    >\n                      <Icons.left className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        setCurrentPage((p) => Math.min(totalPages, p + 1))\n                      }\n                      disabled={currentPage === totalPages}\n                    >\n                      <Icons.arrowRight className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit/Create Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"max-h-[90vh] max-w-3xl overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle>\n              {isCreating ? 'Create New Pattern' : 'Edit Pattern'}\n            </DialogTitle>\n            <DialogDescription>\n              {isCreating\n                ? 'Add a new prompt engineering pattern'\n                : 'Update pattern details'}\n            </DialogDescription>\n          </DialogHeader>\n\n          {editingPattern && (\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"id\">Pattern ID</Label>\n                  <Input\n                    id=\"id\"\n                    value={editingPattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 381,
        "end": 447,
        "startLoc": {
          "line": 381,
          "column": 8,
          "position": 3157
        },
        "endLoc": {
          "line": 447,
          "column": 15,
          "position": 3628
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 394,
        "end": 460,
        "startLoc": {
          "line": 394,
          "column": 5,
          "position": 3298
        },
        "endLoc": {
          "line": 460,
          "column": 12,
          "position": 3762
        }
      }
    },
    {
      "format": "tsx",
      "lines": 48,
      "fragment": "'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from '@/components/ui/table';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from '@/components/ui/dialog';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from '@/components/ui/sheet';\nimport { Label } from '@/components/ui/label';\n\ninterface",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 1,
        "end": 48,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 48,
          "column": 10,
          "position": 262
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 1,
        "end": 46,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 46,
          "column": 7,
          "position": 248
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "| null>(null);\n  const [isEditDialogOpen, setIsEditDialogOpen] = useState(false);\n  const [isPreviewOpen, setIsPreviewOpen] = useState(false);\n  const [isCreating, setIsCreating] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 10;\n\n  useEffect(() => {\n    fetchPatterns",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 70,
        "end": 78,
        "startLoc": {
          "line": 70,
          "column": 2,
          "position": 536
        },
        "endLoc": {
          "line": 78,
          "column": 14,
          "position": 639
        }
      },
      "secondFile": {
        "name": "src/components/admin/UserManagementPanel.tsx",
        "start": 68,
        "end": 76,
        "startLoc": {
          "line": 68,
          "column": 2,
          "position": 511
        },
        "endLoc": {
          "line": 76,
          "column": 11,
          "position": 614
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ">\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-2 gap-4 md:grid-cols-5\">\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription className=\"text-xs\">Total</CardDescription>\n            <CardTitle className=\"text-4xl font-bold\">{stats.total}</CardTitle>\n          </CardHeader>\n        </Card>\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription className=\"text-xs\">Foundational",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 215,
        "end": 227,
        "startLoc": {
          "line": 215,
          "column": 4,
          "position": 1837
        },
        "endLoc": {
          "line": 227,
          "column": 13,
          "position": 1942
        }
      },
      "secondFile": {
        "name": "src/components/admin/PromptManagementPanel.tsx",
        "start": 139,
        "end": 150,
        "startLoc": {
          "line": 139,
          "column": 2,
          "position": 1168
        },
        "endLoc": {
          "line": 150,
          "column": 7,
          "position": 1272
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": "\"\n            value={searchTerm}\n            onChange={(e) => {\n              setSearchTerm(e.target.value);\n              setCurrentPage(1);\n            }}\n            className=\"bg-white dark:bg-gray-800\"\n          />\n        </div>\n        <Select value={filter} onValueChange={setFilter}>\n          <SelectTrigger className=\"w-[200px] bg-white dark:bg-gray-800\">\n            <SelectValue placeholder=\"Filter by category\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Categories</SelectItem>\n            <",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 263,
        "end": 278,
        "startLoc": {
          "line": 263,
          "column": 19,
          "position": 2213
        },
        "endLoc": {
          "line": 278,
          "column": 2,
          "position": 2332
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 317,
        "end": 332,
        "startLoc": {
          "line": 317,
          "column": 19,
          "position": 2616
        },
        "endLoc": {
          "line": 332,
          "column": 2,
          "position": 2735
        }
      }
    },
    {
      "format": "tsx",
      "lines": 62,
      "fragment": ".updatedAt).toLocaleDateString()}\n                        </TableCell>\n                        <TableCell className=\"text-right\">\n                          <div className=\"flex justify-end gap-2\">\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleEdit(pattern)}\n                            >\n                              <Icons.edit className=\"h-4 w-4\" />\n                            </Button>\n                            <Button\n                              size=\"sm\"\n                              variant=\"ghost\"\n                              onClick={() => handleDelete(pattern._id)}\n                            >\n                              <Icons.delete className=\"h-4 w-4 text-red-600\" />\n                            </Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n\n              {/* Pagination */}\n              {totalPages > 1 && (\n                <div className=\"mt-4 flex items-center justify-between\">\n                  <p className=\"text-sm text-muted-foreground\">\n                    Page {currentPage} of {totalPages}\n                  </p>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\n                      disabled={currentPage === 1}\n                    >\n                      <Icons.left className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() =>\n                        setCurrentPage((p) => Math.min(totalPages, p + 1))\n                      }\n                      disabled={currentPage === totalPages}\n                    >\n                      <Icons.arrowRight className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Edit/Create Dialog */}\n      <Dialog open={isEditDialogOpen} onOpenChange={setIsEditDialogOpen}>\n        <DialogContent className=\"max-h-[90vh] max-w-3xl overflow-y-auto",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 367,
        "end": 428,
        "startLoc": {
          "line": 367,
          "column": 8,
          "position": 3045
        },
        "endLoc": {
          "line": 428,
          "column": 39,
          "position": 3494
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 403,
        "end": 441,
        "startLoc": {
          "line": 403,
          "column": 8,
          "position": 3293
        },
        "endLoc": {
          "line": 441,
          "column": 39,
          "position": 3635
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <SelectItem value=\"FOUNDATIONAL\">Foundational</SelectItem>\n                      <SelectItem value=\"STRUCTURAL\">Structural</SelectItem>\n                      <SelectItem value=\"COGNITIVE\">Cognitive</SelectItem>\n                      <SelectItem value=\"ITERATIVE\">Iterative</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 481,
        "end": 488,
        "startLoc": {
          "line": 481,
          "column": 14,
          "position": 3878
        },
        "endLoc": {
          "line": 488,
          "column": 3,
          "position": 3951
        }
      },
      "secondFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 277,
        "end": 284,
        "startLoc": {
          "line": 277,
          "column": 11,
          "position": 2329
        },
        "endLoc": {
          "line": 284,
          "column": 2,
          "position": 2402
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "\n                />\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsEditDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleSave}>\n              {isCreating ? 'Create' : 'Save Changes'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview Sheet */}\n      <Sheet open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>\n        <SheetContent className=\"w-[600px] overflow-y-auto sm:max-w-[600px]\">\n          {previewPattern",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 553,
        "end": 576,
        "startLoc": {
          "line": 553,
          "column": 2,
          "position": 4425
        },
        "endLoc": {
          "line": 576,
          "column": 15,
          "position": 4562
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 546,
        "end": 587,
        "startLoc": {
          "line": 546,
          "column": 2,
          "position": 4328
        },
        "endLoc": {
          "line": 587,
          "column": 12,
          "position": 4665
        }
      }
    },
    {
      "format": "tsx",
      "lines": 35,
      "fragment": ".updatedAt).toLocaleString()}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleEdit(previewPattern);\n                    }}\n                    className=\"flex-1\"\n                  >\n                    <Icons.edit className=\"mr-2 h-4 w-4\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"destructive\"\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleDelete(previewPattern._id);\n                    }}\n                  >\n                    <Icons.delete className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </SheetContent>\n      </Sheet>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 636,
        "end": 670,
        "startLoc": {
          "line": 636,
          "column": 15,
          "position": 5081
        },
        "endLoc": {
          "line": 670,
          "column": 2,
          "position": 5273
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 624,
        "end": 709,
        "startLoc": {
          "line": 624,
          "column": 15,
          "position": 4930
        },
        "endLoc": {
          "line": 709,
          "column": 2,
          "position": 5627
        }
      }
    },
    {
      "format": "javascript",
      "lines": 86,
      "fragment": ".trim()),\n                    })\n                  }\n                  placeholder=\"ai-adoption, engineering-leadership, etc.\"\n                />\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsEditDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleSave}>\n              {isCreating ? 'Create' : 'Save Changes'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview Sheet */}\n      <Sheet open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>\n        <SheetContent className=\"w-[600px] overflow-y-auto sm:max-w-[600px]\">\n          {previewItem && (\n            <>\n              <SheetHeader>\n                <SheetTitle>{previewItem.title}</SheetTitle>\n                <SheetDescription>\n                  <div className=\"mt-2 flex items-center gap-2\">\n                    <Badge>{previewItem.type}</Badge>\n                    {previewItem.category && (\n                      <Badge variant=\"outline\">{previewItem.category}</Badge>\n                    )}\n                  </div>\n                </SheetDescription>\n              </SheetHeader>\n\n              <div className=\"mt-6 space-y-4\">\n                <div>\n                  <h4 className=\"mb-2 text-sm font-semibold\">Content</h4>\n                  <div className=\"prose prose-sm max-w-none\">\n                    <pre className=\"whitespace-pre-wrap text-sm\">\n                      {previewItem.content}\n                    </pre>\n                  </div>\n                </div>\n\n                {previewItem.tags.length > 0 && (\n                  <div>\n                    <h4 className=\"mb-2 text-sm font-semibold\">Tags</h4>\n                    <div className=\"flex flex-wrap gap-2\">\n                      {previewItem.tags.map((tag, i) => (\n                        <Badge key={i} variant=\"secondary\">\n                          {tag}\n                        </Badge>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                <div>\n                  <h4 className=\"mb-2 text-sm font-semibold\">Metadata</h4>\n                  <dl className=\"space-y-1 text-sm\">\n                    <div>\n                      <dt className=\"inline font-medium\">Created:</dt>\n                      <dd className=\"ml-2 inline text-muted-foreground\">\n                        {new Date(previewItem.createdAt).toLocaleString()}\n                      </dd>\n                    </div>\n                    <div>\n                      <dt className=\"inline font-medium\">Updated:</dt>\n                      <dd className=\"ml-2 inline text-muted-foreground\">\n                        {new Date(previewItem.updatedAt).toLocaleString()}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleEdit(previewItem",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/ContentManagementCMS.tsx",
        "start": 598,
        "end": 683,
        "startLoc": {
          "line": 598,
          "column": 3,
          "position": 4655
        },
        "endLoc": {
          "line": 683,
          "column": 12,
          "position": 5295
        }
      },
      "secondFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 550,
        "end": 646,
        "startLoc": {
          "line": 550,
          "column": 3,
          "position": 4408
        },
        "endLoc": {
          "line": 646,
          "column": 15,
          "position": 5144
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "'use client';\n\nimport { useState, useEffect } from 'react';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { Icons } from '@/lib/icons';\nimport {\n  Dialog",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/ContentManagementCMS.tsx",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 17,
          "column": 7,
          "position": 121
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 17,
          "column": 6,
          "position": 121
        }
      }
    },
    {
      "format": "tsx",
      "lines": 24,
      "fragment": "\"\n                />\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setIsEditDialogOpen(false)}\n            >\n              Cancel\n            </Button>\n            <Button onClick={handleSave}>\n              {isCreating ? 'Create' : 'Save Changes'}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Preview Sheet */}\n      <Sheet open={isPreviewOpen} onOpenChange={setIsPreviewOpen}>\n        <SheetContent className=\"w-[600px] overflow-y-auto sm:max-w-[600px]\">\n          {previewItem",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/ContentManagementCMS.tsx",
        "start": 601,
        "end": 624,
        "startLoc": {
          "line": 601,
          "column": 42,
          "position": 4671
        },
        "endLoc": {
          "line": 624,
          "column": 12,
          "position": 4809
        }
      },
      "secondFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 553,
        "end": 587,
        "startLoc": {
          "line": 553,
          "column": 23,
          "position": 4424
        },
        "endLoc": {
          "line": 587,
          "column": 12,
          "position": 4665
        }
      }
    },
    {
      "format": "tsx",
      "lines": 35,
      "fragment": ".updatedAt).toLocaleString()}\n                      </dd>\n                    </div>\n                  </dl>\n                </div>\n\n                <div className=\"flex gap-2 pt-4\">\n                  <Button\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleEdit(previewItem);\n                    }}\n                    className=\"flex-1\"\n                  >\n                    <Icons.edit className=\"mr-2 h-4 w-4\" />\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"destructive\"\n                    onClick={() => {\n                      setIsPreviewOpen(false);\n                      handleDelete(previewItem._id);\n                    }}\n                  >\n                    <Icons.delete className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </SheetContent>\n      </Sheet>\n    </div>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/ContentManagementCMS.tsx",
        "start": 673,
        "end": 707,
        "startLoc": {
          "line": 673,
          "column": 12,
          "position": 5232
        },
        "endLoc": {
          "line": 707,
          "column": 2,
          "position": 5424
        }
      },
      "secondFile": {
        "name": "src/components/admin/SystemSettingsPanel.tsx",
        "start": 624,
        "end": 709,
        "startLoc": {
          "line": 624,
          "column": 15,
          "position": 4930
        },
        "endLoc": {
          "line": 709,
          "column": 2,
          "position": 5627
        }
      }
    },
    {
      "format": "tsx",
      "lines": 7,
      "fragment": ") =>\n            log.action.toLowerCase().includes(searchLower) ||\n            log.eventType.toLowerCase().includes(searchLower) ||\n            log.userEmail?.toLowerCase().includes(searchLower) ||\n            log.userId?.toLowerCase().includes(searchLower)\n        )\n      )",
      "tokens": 0,
      "firstFile": {
        "name": "src/components/admin/AuditLogViewer.tsx",
        "start": 113,
        "end": 119,
        "startLoc": {
          "line": 113,
          "column": 4,
          "position": 1019
        },
        "endLoc": {
          "line": 119,
          "column": 2,
          "position": 1091
        }
      },
      "secondFile": {
        "name": "src/components/admin/AuditLogViewer.tsx",
        "start": 72,
        "end": 77,
        "startLoc": {
          "line": 72,
          "column": 9,
          "position": 700
        },
        "endLoc": {
          "line": 77,
          "column": 2,
          "position": 770
        }
      }
    },
    {
      "format": "tsx",
      "lines": 6,
      "fragment": ">\n              <Button asChild size=\"lg\" variant=\"outline\">\n                <Link href=\"/workflows/pain-points\">View pain points</Link>\n              </Button>\n              <Button asChild size=\"lg\" variant=\"outline\">\n                <Link href=\"/workflows/recommendations",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/page.tsx",
        "start": 133,
        "end": 138,
        "startLoc": {
          "line": 133,
          "column": 7,
          "position": 1136
        },
        "endLoc": {
          "line": 138,
          "column": 27,
          "position": 1207
        }
      },
      "secondFile": {
        "name": "src/app/workflows/recommendations/page.tsx",
        "start": 142,
        "end": 147,
        "startLoc": {
          "line": 142,
          "column": 2,
          "position": 1156
        },
        "endLoc": {
          "line": 147,
          "column": 28,
          "position": 1227
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "</Link>\n              </Button>\n              <Button asChild size=\"lg\" variant=\"outline\">\n                <Link href=\"/workflows/recommendations\">View recommendations</Link>\n              </Button>\n            </div>\n          </div>\n        </header>\n\n        {/* Brief intro - Workflows & Guardrails Cards */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/page.tsx",
        "start": 135,
        "end": 144,
        "startLoc": {
          "line": 135,
          "column": 7,
          "position": 1172
        },
        "endLoc": {
          "line": 144,
          "column": 49,
          "position": 1240
        }
      },
      "secondFile": {
        "name": "src/app/workflows/pain-points/page.tsx",
        "start": 126,
        "end": 135,
        "startLoc": {
          "line": 126,
          "column": 11,
          "position": 1025
        },
        "endLoc": {
          "line": 135,
          "column": 23,
          "position": 1093
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ",\n    sortBy,\n  ]);\n\n  // Track search with debounce\n  useEffect(() => {\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    if (searchQuery.trim()) {\n      searchTimeoutRef.current = setTimeout(() => {\n        trackSearchEvent('search', {\n          query: searchQuery,\n          result_count: filteredWorkflows",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 143,
        "end": 157,
        "startLoc": {
          "line": 143,
          "column": 17,
          "position": 1120
        },
        "endLoc": {
          "line": 157,
          "column": 18,
          "position": 1217
        }
      },
      "secondFile": {
        "name": "src/components/features/LibraryClient.tsx",
        "start": 149,
        "end": 163,
        "startLoc": {
          "line": 149,
          "column": 10,
          "position": 1378
        },
        "endLoc": {
          "line": 163,
          "column": 16,
          "position": 1475
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"pl-10\"\n          />\n        </div>\n\n        {/* Category Filter */}\n        <div>\n          <div className=\"mb-2 flex items-center justify-between\">\n            <p className=\"text-sm font-medium\">Category</p>\n            {selectedCategory !== 'all' && (\n              <span className=\"text-xs text-muted-foreground\">\n                {categoryStats[selectedCategory] || 0} workflows",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 207,
        "end": 220,
        "startLoc": {
          "line": 207,
          "column": 20,
          "position": 1565
        },
        "endLoc": {
          "line": 220,
          "column": 10,
          "position": 1677
        }
      },
      "secondFile": {
        "name": "src/components/features/LibraryClient.tsx",
        "start": 284,
        "end": 297,
        "startLoc": {
          "line": 284,
          "column": 18,
          "position": 2398
        },
        "endLoc": {
          "line": 297,
          "column": 8,
          "position": 2510
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "</span>\n            )}\n          </div>\n          <div className=\"flex flex-wrap gap-2\">\n            {visibleCategories.map((category) => (\n              <Badge\n                key={category}\n                variant={selectedCategory === category ? 'default' : 'outline'}\n                className=\"cursor-pointer transition-colors hover:bg-primary/10\"\n                onClick={() => {\n                  setSelectedCategory(category);\n                  if (category !== 'all') {\n                    trackFilterUsage('category', category, {\n                      result_count: filteredWorkflows",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 221,
        "end": 234,
        "startLoc": {
          "line": 221,
          "column": 15,
          "position": 1680
        },
        "endLoc": {
          "line": 234,
          "column": 18,
          "position": 1799
        }
      },
      "secondFile": {
        "name": "src/components/features/LibraryClient.tsx",
        "start": 298,
        "end": 311,
        "startLoc": {
          "line": 298,
          "column": 15,
          "position": 2513
        },
        "endLoc": {
          "line": 311,
          "column": 16,
          "position": 2632
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\"\n                className=\"cursor-pointer text-primary hover:bg-primary/10\"\n                onClick={() => setShowAllCategories(!showAllCategories)}\n              >\n                {showAllCategories ? (\n                  <>\n                    <Icons.chevronUp className=\"mr-1 h-3 w-3\" />\n                    Show Less\n                  </>\n                ) : (\n                  <>\n                    <Icons.chevronDown className=\"mr-1 h-3 w-3\" />\n                    Show {allCategories.length - INITIAL_VISIBLE_CATEGORIES} More",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 246,
        "end": 258,
        "startLoc": {
          "line": 246,
          "column": 10,
          "position": 1897
        },
        "endLoc": {
          "line": 258,
          "column": 5,
          "position": 1992
        }
      },
      "secondFile": {
        "name": "src/components/features/LibraryClient.tsx",
        "start": 323,
        "end": 336,
        "startLoc": {
          "line": 323,
          "column": 8,
          "position": 2730
        },
        "endLoc": {
          "line": 336,
          "column": 2,
          "position": 2825
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "const CATEGORY_LABELS: Record<string, string> = {\n  'ai-behavior': 'AI Behavior',\n  'code-quality': 'Code Quality',\n  communication: 'Communication',\n  community: 'Community',\n  enablement: 'Enablement',\n  governance: 'Governance',\n  guardrails: 'Guardrails',\n  memory: 'Memory & Knowledge',\n  process: 'Process & Delivery',\n  'risk-management': 'Risk Management',\n  security: 'Security',\n};\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowFilters.tsx",
        "start": 15,
        "end": 29,
        "startLoc": {
          "line": 15,
          "column": 1,
          "position": 103
        },
        "endLoc": {
          "line": 29,
          "column": 6,
          "position": 201
        }
      },
      "secondFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 35,
        "end": 49,
        "startLoc": {
          "line": 35,
          "column": 1,
          "position": 259
        },
        "endLoc": {
          "line": 49,
          "column": 56,
          "position": 357
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "const AUDIENCE_LABELS: Record<string, string> = {\n  analysts: 'Analysts',\n  architects: 'Architects',\n  engineers: 'Engineers',\n  'engineering-managers': 'Engineering Managers',\n  executives: 'Executives',\n  platform: 'Platform',\n  'product-managers': 'Product Managers',\n  qa: 'QA',\n  security: 'Security',\n};\n\nexport function WorkflowFilters",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowFilters.tsx",
        "start": 29,
        "end": 41,
        "startLoc": {
          "line": 29,
          "column": 1,
          "position": 201
        },
        "endLoc": {
          "line": 41,
          "column": 16,
          "position": 289
        }
      },
      "secondFile": {
        "name": "src/app/workflows/WorkflowsClient.tsx",
        "start": 66,
        "end": 78,
        "startLoc": {
          "line": 66,
          "column": 1,
          "position": 389
        },
        "endLoc": {
          "line": 78,
          "column": 16,
          "position": 477
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": ";\n\nconst AUDIENCE_LABELS: Record<string, string> = {\n  analysts: 'Analysts',\n  architects: 'Architects',\n  engineers: 'Engineers',\n  'engineering-managers': 'Engineering Managers',\n  executives: 'Executives',\n  platform: 'Platform',\n  'product-managers': 'Product Managers',\n  qa: 'QA',\n  security: 'Security',\n};\n\nconst",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowCardClient.tsx",
        "start": 16,
        "end": 30,
        "startLoc": {
          "line": 16,
          "column": 14,
          "position": 113
        },
        "endLoc": {
          "line": 30,
          "column": 6,
          "position": 200
        }
      },
      "secondFile": {
        "name": "src/app/workflows/WorkflowFilters.tsx",
        "start": 27,
        "end": 41,
        "startLoc": {
          "line": 27,
          "column": 2,
          "position": 198
        },
        "endLoc": {
          "line": 41,
          "column": 7,
          "position": 285
        }
      }
    },
    {
      "format": "tsx",
      "lines": 21,
      "fragment": ",\n};\n\nconst SUBCATEGORY_LABELS: Record<string, string> = {\n  'data-integrity': 'Data Integrity',\n  security: 'Security',\n  performance: 'Performance',\n  availability: 'Availability',\n  financial: 'Financial',\n  integration: 'Integration',\n  testing: 'Testing',\n};\n\nconst SEVERITY_COLORS: Record<string, 'destructive' | 'default' | 'secondary'> = {\n  critical: 'destructive',\n  high: 'destructive',\n  medium: 'default',\n  low: 'secondary',\n};\n\nconst APP_SECTION_LABELS",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowCardClient.tsx",
        "start": 41,
        "end": 61,
        "startLoc": {
          "line": 41,
          "column": 11,
          "position": 292
        },
        "endLoc": {
          "line": 61,
          "column": 19,
          "position": 427
        }
      },
      "secondFile": {
        "name": "src/app/workflows/[category]/[slug]/page.tsx",
        "start": 31,
        "end": 51,
        "startLoc": {
          "line": 31,
          "column": 12,
          "position": 289
        },
        "endLoc": {
          "line": 51,
          "column": 16,
          "position": 424
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": "identifier.startsWith('/learn/')) {\n    const pathParts = identifier.replace('/learn/', '').split('/');\n    return pathParts.map((part) => formatLabel(part)).join('  ');\n  }\n  return formatLabel(identifier);\n}\n\nfunction",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/workflows/WorkflowCardClient.tsx",
        "start": 72,
        "end": 79,
        "startLoc": {
          "line": 72,
          "column": 2,
          "position": 566
        },
        "endLoc": {
          "line": 79,
          "column": 9,
          "position": 639
        }
      },
      "secondFile": {
        "name": "src/app/workflows/[category]/[slug]/page.tsx",
        "start": 503,
        "end": 511,
        "startLoc": {
          "line": 503,
          "column": 2,
          "position": 4451
        },
        "endLoc": {
          "line": 511,
          "column": 53,
          "position": 4525
        }
      }
    },
    {
      "format": "tsx",
      "lines": 15,
      "fragment": "</Link>\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" asChild>\n                <Link href=\"/ai-workflow\">\n                  <Icons.target className=\"mr-2 h-5 w-5\" />\n                  See Our Workflow\n                </Link>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </section>\n    </MainLayout>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/tools/page.tsx",
        "start": 666,
        "end": 680,
        "startLoc": {
          "line": 666,
          "column": 17,
          "position": 4788
        },
        "endLoc": {
          "line": 680,
          "column": 2,
          "position": 4885
        }
      },
      "secondFile": {
        "name": "src/app/learn/case-studies/7-day-saas-build/page.tsx",
        "start": 508,
        "end": 522,
        "startLoc": {
          "line": 508,
          "column": 17,
          "position": 3483
        },
        "endLoc": {
          "line": 522,
          "column": 2,
          "position": 3580
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <div className=\"mb-4 flex items-center justify-center\">\n            <Icons.sparkles className=\"h-8 w-8 text-blue-600 dark:text-blue-400\" />\n          </div>\n          <CardTitle className=\"text-center text-2xl text-gray-900 dark:text-white\">\n            Create",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/signup/page.tsx",
        "start": 180,
        "end": 188,
        "startLoc": {
          "line": 180,
          "column": 3,
          "position": 1306
        },
        "endLoc": {
          "line": 188,
          "column": 7,
          "position": 1383
        }
      },
      "secondFile": {
        "name": "src/app/signup/page.tsx",
        "start": 138,
        "end": 146,
        "startLoc": {
          "line": 138,
          "column": 5,
          "position": 1022
        },
        "endLoc": {
          "line": 146,
          "column": 8,
          "position": 1099
        }
      }
    },
    {
      "format": "tsx",
      "lines": 8,
      "fragment": ">\n                      <SelectValue />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"beginner\">Beginner</SelectItem>\n                      <SelectItem value=\"intermediate\">Intermediate</SelectItem>\n                      <SelectItem value=\"advanced\">Advanced</SelectItem>\n                      <",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/settings/page.tsx",
        "start": 166,
        "end": 173,
        "startLoc": {
          "line": 166,
          "column": 14,
          "position": 1591
        },
        "endLoc": {
          "line": 173,
          "column": 2,
          "position": 1655
        }
      },
      "secondFile": {
        "name": "src/components/admin/PatternManagementPanel.tsx",
        "start": 498,
        "end": 505,
        "startLoc": {
          "line": 498,
          "column": 2,
          "position": 4034
        },
        "endLoc": {
          "line": 505,
          "column": 3,
          "position": 4098
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "};\n    setMessages((prev) => [...prev, userMessage]);\n    setInput('');\n    setIsLoading(true);\n\n    try {\n      const response = await fetch('/api/chat', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          messages: [...messages, userMessage],\n          useRAG",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/rag-chat/page.tsx",
        "start": 52,
        "end": 63,
        "startLoc": {
          "line": 52,
          "column": 2,
          "position": 568
        },
        "endLoc": {
          "line": 63,
          "column": 7,
          "position": 671
        }
      },
      "secondFile": {
        "name": "src/components/features/ChatWidget.tsx",
        "start": 36,
        "end": 47,
        "startLoc": {
          "line": 36,
          "column": 2,
          "position": 313
        },
        "endLoc": {
          "line": 47,
          "column": 2,
          "position": 416
        }
      }
    },
    {
      "format": "tsx",
      "lines": 30,
      "fragment": ",\n        }),\n      });\n\n      if (!response.ok) throw new Error('Failed to get response');\n\n      const data = await response.json();\n      setMessages((prev) => [\n        ...prev,\n        {\n          role: 'assistant',\n          content: data.message,\n          sources: data.sources,\n          usedRAG: data.usedRAG,\n        },\n      ]);\n    } catch (error) {\n      setMessages((prev) => [\n        ...prev,\n        {\n          role: 'assistant',\n          content: 'Sorry, I encountered an error. Please try again.',\n        },\n      ]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/rag-chat/page.tsx",
        "start": 63,
        "end": 92,
        "startLoc": {
          "line": 63,
          "column": 5,
          "position": 675
        },
        "endLoc": {
          "line": 92,
          "column": 6,
          "position": 863
        }
      },
      "secondFile": {
        "name": "src/components/features/ChatWidget.tsx",
        "start": 46,
        "end": 75,
        "startLoc": {
          "line": 46,
          "column": 2,
          "position": 413
        },
        "endLoc": {
          "line": 75,
          "column": 3,
          "position": 601
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": " />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"engineer\">Software Engineer</SelectItem>\n                      <SelectItem value=\"manager\">Engineering Manager</SelectItem>\n                      <SelectItem value=\"designer\">Designer</SelectItem>\n                      <SelectItem value=\"pm\">Product Manager</SelectItem>\n                      <SelectItem value=\"qa\">QA Engineer</SelectItem>\n                      <SelectItem value=\"executive\">Executive/",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/onboarding/page.tsx",
        "start": 77,
        "end": 85,
        "startLoc": {
          "line": 77,
          "column": 2,
          "position": 724
        },
        "endLoc": {
          "line": 85,
          "column": 2,
          "position": 831
        }
      },
      "secondFile": {
        "name": "src/app/settings/page.tsx",
        "start": 125,
        "end": 133,
        "startLoc": {
          "line": 125,
          "column": 12,
          "position": 1135
        },
        "endLoc": {
          "line": 133,
          "column": 3,
          "position": 1242
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ">\n                </div>\n\n                <div className=\"flex gap-2\">\n                  <Button variant=\"outline\" onClick={() => setStep(2)} className=\"w-full\">\n                    <Icons.arrowLeft className=\"mr-2 h-4 w-4\" />\n                    Back\n                  </Button>\n                  <Button\n                    className=\"w-full bg-gradient-to-r from-purple-600 to-pink-600",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/onboarding/page.tsx",
        "start": 187,
        "end": 196,
        "startLoc": {
          "line": 187,
          "column": 4,
          "position": 1960
        },
        "endLoc": {
          "line": 196,
          "column": 52,
          "position": 2037
        }
      },
      "secondFile": {
        "name": "src/app/onboarding/page.tsx",
        "start": 146,
        "end": 155,
        "startLoc": {
          "line": 146,
          "column": 7,
          "position": 1557
        },
        "endLoc": {
          "line": 155,
          "column": 7,
          "position": 1634
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ";\nimport Link from 'next/link';\nimport { Icons } from '@/lib/icons';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\n\nexport",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/login/page.tsx",
        "start": 9,
        "end": 24,
        "startLoc": {
          "line": 9,
          "column": 18,
          "position": 31
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 130
        }
      },
      "secondFile": {
        "name": "src/app/signup/page.tsx",
        "start": 10,
        "end": 24,
        "startLoc": {
          "line": 10,
          "column": 18,
          "position": 34
        },
        "endLoc": {
          "line": 24,
          "column": 7,
          "position": 132
        }
      }
    },
    {
      "format": "tsx",
      "lines": 9,
      "fragment": "return (\n    <div className=\"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <div className=\"mb-4 flex items-center justify-center\">\n            <Icons.sparkles className=\"h-8 w-8 text-blue-600 dark:text-blue-400\" />\n          </div>\n          <CardTitle className=\"text-center text-2xl text-gray-900 dark:text-white\">\n            Welcome",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/login/page.tsx",
        "start": 73,
        "end": 81,
        "startLoc": {
          "line": 73,
          "column": 3,
          "position": 558
        },
        "endLoc": {
          "line": 81,
          "column": 8,
          "position": 635
        }
      },
      "secondFile": {
        "name": "src/app/signup/page.tsx",
        "start": 138,
        "end": 146,
        "startLoc": {
          "line": 138,
          "column": 5,
          "position": 1022
        },
        "endLoc": {
          "line": 146,
          "column": 8,
          "position": 1099
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ">\n            <div className=\"space-y-2\">\n              <Label\n                htmlFor=\"email\"\n                className=\"text-gray-700 dark:text-gray-200\"\n              >\n                Email\n              </Label>\n              <Input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/login/page.tsx",
        "start": 111,
        "end": 123,
        "startLoc": {
          "line": 111,
          "column": 11,
          "position": 882
        },
        "endLoc": {
          "line": 123,
          "column": 13,
          "position": 943
        }
      },
      "secondFile": {
        "name": "src/app/signup/page.tsx",
        "start": 214,
        "end": 227,
        "startLoc": {
          "line": 214,
          "column": 4,
          "position": 1554
        },
        "endLoc": {
          "line": 227,
          "column": 12,
          "position": 1616
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "import Link from 'next/link';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport { getAllLearningResources",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/learn/page.tsx",
        "start": 7,
        "end": 19,
        "startLoc": {
          "line": 7,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 19,
          "column": 24,
          "position": 99
        }
      },
      "secondFile": {
        "name": "src/app/learn/ai-tools/page.tsx",
        "start": 9,
        "end": 21,
        "startLoc": {
          "line": 9,
          "column": 1,
          "position": 16
        },
        "endLoc": {
          "line": 21,
          "column": 14,
          "position": 112
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "const [promptCount, setPromptCount] = useState(300);\n\n  useEffect(() => {\n    async function fetchStats() {\n      try {\n        const response = await fetch('/api/stats');\n        if (response.ok) {\n          const data = await response.json();\n          setPromptCount(data.prompts?.total || data.stats?.prompts || 300);\n        }\n      } catch (error) {\n        console.error('Failed to fetch stats:', error);\n      }\n    }\n    fetchStats();\n  }, []);\n  const principles",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/kernel/page.tsx",
        "start": 20,
        "end": 36,
        "startLoc": {
          "line": 20,
          "column": 3,
          "position": 138
        },
        "endLoc": {
          "line": 36,
          "column": 11,
          "position": 299
        }
      },
      "secondFile": {
        "name": "src/app/pattern-playground/page.tsx",
        "start": 28,
        "end": 45,
        "startLoc": {
          "line": 28,
          "column": 3,
          "position": 209
        },
        "endLoc": {
          "line": 45,
          "column": 16,
          "position": 371
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": "</div>\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0\">\n          <svg viewBox=\"0 0 1440 120\" className=\"h-12 w-full fill-white\">\n            <path d=\"M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z\"></path>\n          </svg>\n        </div>\n      </section>\n\n      {/* The 6 Principles */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/kernel/page.tsx",
        "start": 143,
        "end": 154,
        "startLoc": {
          "line": 143,
          "column": 13,
          "position": 1029
        },
        "endLoc": {
          "line": 154,
          "column": 23,
          "position": 1104
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 512,
        "end": 523,
        "startLoc": {
          "line": 512,
          "column": 15,
          "position": 4644
        },
        "endLoc": {
          "line": 523,
          "column": 53,
          "position": 4719
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "]);\n\n  // Track search with debounce\n  useEffect(() => {\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n\n    if (searchQuery.trim()) {\n      searchTimeoutRef.current = setTimeout(() => {\n        trackSearchEvent('search', {\n          query: searchQuery,\n          result_count: filteredGuardrails",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/guardrails/GuardrailsClient.tsx",
        "start": 121,
        "end": 133,
        "startLoc": {
          "line": 121,
          "column": 7,
          "position": 1173
        },
        "endLoc": {
          "line": 133,
          "column": 19,
          "position": 1263
        }
      },
      "secondFile": {
        "name": "src/components/features/LibraryClient.tsx",
        "start": 151,
        "end": 163,
        "startLoc": {
          "line": 151,
          "column": 3,
          "position": 1385
        },
        "endLoc": {
          "line": 163,
          "column": 16,
          "position": 1475
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'vp-engineering'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-vp-engineering/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 17,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": ";\n\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport Link from 'next/link';\n\n\nexport default function ForTechnicalWritersPage",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 13,
          "position": 1
        },
        "endLoc": {
          "line": 17,
          "column": 24,
          "position": 104
        }
      },
      "secondFile": {
        "name": "src/app/kernel/page.tsx",
        "start": 5,
        "end": 19,
        "startLoc": {
          "line": 5,
          "column": 8,
          "position": 30
        },
        "endLoc": {
          "line": 19,
          "column": 11,
          "position": 131
        }
      }
    },
    {
      "format": "tsx",
      "lines": 12,
      "fragment": ">\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0\">\n          <svg viewBox=\"0 0 1440 120\" className=\"h-12 w-full fill-white\">\n            <path d=\"M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z\"></path>\n          </svg>\n        </div>\n      </section>\n\n      {/* Pain Points */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 45,
        "end": 56,
        "startLoc": {
          "line": 45,
          "column": 2,
          "position": 322
        },
        "endLoc": {
          "line": 56,
          "column": 18,
          "position": 395
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 512,
        "end": 523,
        "startLoc": {
          "line": 512,
          "column": 4,
          "position": 4646
        },
        "endLoc": {
          "line": 523,
          "column": 53,
          "position": 4719
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "'use client';\n\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport Link from 'next/link';\n\n\nexport default function ForSecurityEngineersPage",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-security-engineers/page.tsx",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 17,
          "column": 25,
          "position": 104
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 11,
          "position": 131
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ".\n            </p>\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0\">\n          <svg viewBox=\"0 0 1440 120\" className=\"h-12 w-full fill-white\">\n            <path d=\"M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z\"></path>\n          </svg>\n        </div>\n      </section>\n\n      {/* Pain Points */}\n      <section className=\"container py-20\">\n        <div className=\"mb-12 text-center\">\n          <h2 className=\"mb-4 text-4xl font-bold\">Your Daily Battles",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-security-engineers/page.tsx",
        "start": 36,
        "end": 51,
        "startLoc": {
          "line": 36,
          "column": 7,
          "position": 270
        },
        "endLoc": {
          "line": 51,
          "column": 8,
          "position": 387
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 44,
        "end": 59,
        "startLoc": {
          "line": 44,
          "column": 12,
          "position": 317
        },
        "endLoc": {
          "line": 59,
          "column": 10,
          "position": 434
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</CardDescription>\n            </CardHeader>\n          </Card>\n        </div>\n      </section>\n\n      {/* Solutions */}\n      <section className=\"bg-gray-50 py-20\">\n        <div className=\"container\">\n          <div className=\"mb-12 text-center\">\n            <h2 className=\"mb-4 text-4xl font-bold\">AI-Powered Defense",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-security-engineers/page.tsx",
        "start": 93,
        "end": 103,
        "startLoc": {
          "line": 93,
          "column": 15,
          "position": 725
        },
        "endLoc": {
          "line": 103,
          "column": 8,
          "position": 802
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 15,
          "position": 782
        },
        "endLoc": {
          "line": 112,
          "column": 14,
          "position": 861
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "Prompts\n                  <Icons.arrowRight className=\"ml-2 h-4 w-4\" />\n                </Link>\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" asChild>\n                <Link href=\"/patterns\">Learn Patterns</Link>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </section>\n    </MainLayout>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-security-engineers/page.tsx",
        "start": 204,
        "end": 217,
        "startLoc": {
          "line": 204,
          "column": 2,
          "position": 1617
        },
        "endLoc": {
          "line": 217,
          "column": 2,
          "position": 1711
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 209,
        "end": 222,
        "startLoc": {
          "line": 209,
          "column": 2,
          "position": 1700
        },
        "endLoc": {
          "line": 222,
          "column": 2,
          "position": 1794
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'scrum-masters'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-scrum-masters/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 16,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'qa'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-qa/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 5,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'product-owners'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-product-owners/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 17,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'product-directors'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-product-directors/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 20,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'pms'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-pms/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 6,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'managers'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-managers/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 11,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'engineers'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-engineers/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 12,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'engineering-directors'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-engineering-directors/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 24,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'directors'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-directors/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 12,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'devops-sre'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-devops-sre/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'designers'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-designers/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 12,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 17,
      "fragment": "'use client';\n\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport Link from 'next/link';\n\n\nexport default function ForDataScientistsPage",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-data-scientists/page.tsx",
        "start": 1,
        "end": 17,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 17,
          "column": 22,
          "position": 104
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 1,
        "end": 19,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 19,
          "column": 11,
          "position": 131
        }
      }
    },
    {
      "format": "tsx",
      "lines": 16,
      "fragment": ".\n            </p>\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0\">\n          <svg viewBox=\"0 0 1440 120\" className=\"h-12 w-full fill-white\">\n            <path d=\"M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z\"></path>\n          </svg>\n        </div>\n      </section>\n\n      {/* Pain Points */}\n      <section className=\"container py-20\">\n        <div className=\"mb-12 text-center\">\n          <h2 className=\"mb-4 text-4xl font-bold\">Your Biggest",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-data-scientists/page.tsx",
        "start": 44,
        "end": 59,
        "startLoc": {
          "line": 44,
          "column": 13,
          "position": 316
        },
        "endLoc": {
          "line": 59,
          "column": 8,
          "position": 431
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 44,
        "end": 59,
        "startLoc": {
          "line": 44,
          "column": 12,
          "position": 317
        },
        "endLoc": {
          "line": 59,
          "column": 6,
          "position": 432
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</CardDescription>\n            </CardHeader>\n          </Card>\n        </div>\n      </section>\n\n      {/* Solutions */}\n      <section className=\"bg-gray-50 py-20\">\n        <div className=\"container\">\n          <div className=\"mb-12 text-center\">\n            <h2 className=\"mb-4 text-4xl font-bold\">AI-Powered Solutions",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-data-scientists/page.tsx",
        "start": 102,
        "end": 112,
        "startLoc": {
          "line": 102,
          "column": 15,
          "position": 780
        },
        "endLoc": {
          "line": 112,
          "column": 10,
          "position": 857
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 101,
        "end": 112,
        "startLoc": {
          "line": 101,
          "column": 15,
          "position": 782
        },
        "endLoc": {
          "line": 112,
          "column": 14,
          "position": 861
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "\"\n                asChild\n              >\n                <Link href=\"/prompts\">\n                  Browse Prompts\n                  <Icons.arrowRight className=\"ml-2 h-4 w-4\" />\n                </Link>\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" asChild>\n                <Link href=\"/patterns\">Learn",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-data-scientists/page.tsx",
        "start": 205,
        "end": 214,
        "startLoc": {
          "line": 205,
          "column": 45,
          "position": 1649
        },
        "endLoc": {
          "line": 214,
          "column": 6,
          "position": 1722
        }
      },
      "secondFile": {
        "name": "src/app/kernel/page.tsx",
        "start": 308,
        "end": 317,
        "startLoc": {
          "line": 308,
          "column": 47,
          "position": 2243
        },
        "endLoc": {
          "line": 317,
          "column": 5,
          "position": 2316
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "Prompts\n                  <Icons.arrowRight className=\"ml-2 h-4 w-4\" />\n                </Link>\n              </Button>\n              <Button size=\"lg\" variant=\"outline\" asChild>\n                <Link href=\"/patterns\">Learn Patterns</Link>\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </section>\n    </MainLayout>\n  );\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-data-scientists/page.tsx",
        "start": 209,
        "end": 222,
        "startLoc": {
          "line": 209,
          "column": 2,
          "position": 1669
        },
        "endLoc": {
          "line": 222,
          "column": 2,
          "position": 1763
        }
      },
      "secondFile": {
        "name": "src/app/for-technical-writers/page.tsx",
        "start": 209,
        "end": 222,
        "startLoc": {
          "line": 209,
          "column": 2,
          "position": 1700
        },
        "endLoc": {
          "line": 222,
          "column": 2,
          "position": 1794
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "import { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport { RoleSelector } from '@/components/roles/RoleSelector';\nimport Link",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-c-level/page.tsx",
        "start": 1,
        "end": 13,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 13,
          "column": 5,
          "position": 98
        }
      },
      "secondFile": {
        "name": "src/components/roles/RoleLandingPageContent.tsx",
        "start": 2,
        "end": 14,
        "startLoc": {
          "line": 2,
          "column": 1,
          "position": 13
        },
        "endLoc": {
          "line": 14,
          "column": 2,
          "position": 111
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": ">\n            </div>\n          </div>\n        </div>\n\n        <div className=\"absolute bottom-0 left-0 right-0\">\n          <svg viewBox=\"0 0 1440 120\" className=\"h-12 w-full fill-white\">\n            <path d=\"M0,64L80,69.3C160,75,320,85,480,80C640,75,800,53,960,48C1120,43,1280,53,1360,58.7L1440,64L1440,120L1360,120C1280,120,1120,120,960,120C800,120,640,120,480,120C320,120,160,120,80,120L0,120Z\"></path>\n          </svg>\n        </div>\n      </section>\n\n      {/* ROI Metrics */",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-c-level/page.tsx",
        "start": 104,
        "end": 116,
        "startLoc": {
          "line": 104,
          "column": 7,
          "position": 669
        },
        "endLoc": {
          "line": 116,
          "column": 18,
          "position": 747
        }
      },
      "secondFile": {
        "name": "src/app/kernel/page.tsx",
        "start": 142,
        "end": 523,
        "startLoc": {
          "line": 142,
          "column": 5,
          "position": 1026
        },
        "endLoc": {
          "line": 523,
          "column": 53,
          "position": 4719
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": "import { Metadata } from 'next';\nimport { getDbRoleFromSlug } from '@/lib/utils/role-mapping';\nimport { RoleLandingPageContent, generateRoleMetadata } from '@/components/roles/RoleLandingPageContent';\n\n// ISR: Regenerate every hour, don't generate at build time\nexport const revalidate = 3600; // 1 hour\nexport const dynamic = 'force-static';\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const slug = 'architects'",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/for-architects/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      },
      "secondFile": {
        "name": "src/app/for-vp-product/page.tsx",
        "start": 1,
        "end": 10,
        "startLoc": {
          "line": 1,
          "column": 1,
          "position": 0
        },
        "endLoc": {
          "line": 10,
          "column": 13,
          "position": 95
        }
      }
    },
    {
      "format": "tsx",
      "lines": 14,
      "fragment": "} from 'react';\nimport Link from 'next/link';\nimport { MainLayout } from '@/components/layout/MainLayout';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Icons } from '@/lib/icons';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Label",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/demo/page.tsx",
        "start": 3,
        "end": 16,
        "startLoc": {
          "line": 3,
          "column": 2,
          "position": 16
        },
        "endLoc": {
          "line": 16,
          "column": 6,
          "position": 119
        }
      },
      "secondFile": {
        "name": "src/app/demo/rca/page.tsx",
        "start": 5,
        "end": 18,
        "startLoc": {
          "line": 5,
          "column": 2,
          "position": 22
        },
        "endLoc": {
          "line": 18,
          "column": 6,
          "position": 125
        }
      }
    },
    {
      "format": "tsx",
      "lines": 10,
      "fragment": ");\n\n  useEffect(() => {\n    async function fetchStats() {\n      try {\n        const response = await fetch('/api/stats');\n        if (response.ok) {\n          const data = await response.json();\n          setPromptCount(data.prompts?.total || data.stats?.prompts || 300);\n          setPatternCount",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/demo/page.tsx",
        "start": 74,
        "end": 83,
        "startLoc": {
          "line": 74,
          "column": 2,
          "position": 422
        },
        "endLoc": {
          "line": 83,
          "column": 16,
          "position": 520
        }
      },
      "secondFile": {
        "name": "src/app/pattern-playground/page.tsx",
        "start": 28,
        "end": 37,
        "startLoc": {
          "line": 28,
          "column": 4,
          "position": 223
        },
        "endLoc": {
          "line": 37,
          "column": 2,
          "position": 321
        }
      }
    },
    {
      "format": "tsx",
      "lines": 13,
      "fragment": "\">\n                      POST\n                    </span>\n                  </div>\n                </div>\n                <div className=\"px-6 py-4\">\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-900\">\n                        Endpoint\n                      </h3>\n                      <code className=\"rounded bg-gray-100 px-2 py-1 text-sm\">\n                        /api/v2/execution",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api-docs/page.tsx",
        "start": 220,
        "end": 232,
        "startLoc": {
          "line": 220,
          "column": 98,
          "position": 1374
        },
        "endLoc": {
          "line": 232,
          "column": 10,
          "position": 1458
        }
      },
      "secondFile": {
        "name": "src/app/api-docs/page.tsx",
        "start": 142,
        "end": 154,
        "startLoc": {
          "line": 142,
          "column": 100,
          "position": 1050
        },
        "endLoc": {
          "line": 154,
          "column": 3,
          "position": 1134
        }
      }
    },
    {
      "format": "tsx",
      "lines": 11,
      "fragment": "</span>\n                  </div>\n                </div>\n                <div className=\"px-6 py-4\">\n                  <div className=\"space-y-4\">\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-900\">\n                        Endpoint\n                      </h3>\n                      <code className=\"rounded bg-gray-100 px-2 py-1 text-sm\">\n                        /api/v2/health",
      "tokens": 0,
      "firstFile": {
        "name": "src/app/api-docs/page.tsx",
        "start": 332,
        "end": 342,
        "startLoc": {
          "line": 332,
          "column": 21,
          "position": 2100
        },
        "endLoc": {
          "line": 342,
          "column": 7,
          "position": 2177
        }
      },
      "secondFile": {
        "name": "src/app/api-docs/page.tsx",
        "start": 144,
        "end": 154,
        "startLoc": {
          "line": 144,
          "column": 21,
          "position": 1057
        },
        "endLoc": {
          "line": 154,
          "column": 3,
          "position": 1134
        }
      }
    },
    {
      "format": "typescript",
      "lines": 20,
      "fragment": "${section.context}\n\n${research.pricing ? `**Pricing Data:**\\n${research.pricing}\\n` : ''}\n\n${research.corePhilosophy ? `**Core Philosophy:**\nCursor: ${research.corePhilosophy.cursor || 'N/A'}\nWindsurf: ${research.corePhilosophy.windsurf || 'N/A'}\n` : ''}\n\n**Target Keywords:** ${research.keywords.slice(0, 3).join(', ')}\n\n${section.externalLinks && section.externalLinks.length > 0 ? `\n**EXTERNAL AUTHORITY LINKS (Include naturally):**\n${section.externalLinks.map(l => `- Link \"${l.anchor}\" to ${l.url} (${l.authority})`).join('\\n')}\n` : ''}\n\n${section.internalLinks && section.internalLinks.length > 0 ? `\n**INTERNAL LINKS (Include naturally):**\n${section.internalLinks.map(l => `- Link \"${l.anchor}\" to ${l.url} (${l.type})`).join('\\n')}\nExample",
      "tokens": 0,
      "firstFile": {
        "name": "src/scripts/content-railroad-generate.ts",
        "start": 76,
        "end": 95,
        "startLoc": {
          "line": 76,
          "column": 1,
          "position": 604
        },
        "endLoc": {
          "line": 95,
          "column": 8,
          "position": 792
        }
      },
      "secondFile": {
        "name": "src/scripts/content-railroad-regenerate-section.ts",
        "start": 41,
        "end": 77,
        "startLoc": {
          "line": 41,
          "column": 1,
          "position": 240
        },
        "endLoc": {
          "line": 77,
          "column": 1,
          "position": 428
        }
      }
    },
    {
      "format": "typescript",
      "lines": 9,
      "fragment": "const flags: string[] = [];\n    if (wordCount < section.targetWords * 0.7) flags.push('too-short');\n    if (wordCount > section.targetWords * 1.5) flags.push('too-long');\n    if (!content.includes('```')) flags.push('no-code');\n    if (!/\\d+/.test(content)) flags.push('no-numbers');\n    if (readability.fleschKincaid > 12) flags.push('too-complex');\n    if (readability.fleschKincaid < 6) flags.push('too-simple');\n    \n    const qualityScore = 10 - flags.length * 2; // Simple: 10 minus 2 per flag",
      "tokens": 0,
      "firstFile": {
        "name": "src/scripts/content-railroad-generate.ts",
        "start": 159,
        "end": 167,
        "startLoc": {
          "line": 159,
          "column": 5,
          "position": 1284
        },
        "endLoc": {
          "line": 167,
          "column": 31,
          "position": 1455
        }
      },
      "secondFile": {
        "name": "src/scripts/content-railroad-regenerate-section.ts",
        "start": 150,
        "end": 160,
        "startLoc": {
          "line": 150,
          "column": 3,
          "position": 1048
        },
        "endLoc": {
          "line": 160,
          "column": 8,
          "position": 1222
        }
      }
    },
    {
      "format": "typescript",
      "lines": 13,
      "fragment": "//   .sort({ order: 1 })\n    //   .lean<ILearningResource[]>();\n\n    const resources: ILearningResource[] = [];\n\n    if (resources && resources.length > 0) {\n      return resources;\n    }\n\n    // Fallback to JSON\n    const jsonResources =\n      learningResourcesData.resources as unknown as ILearningResource[];\n    return jsonResources.filter((r) => r.level",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 85,
        "end": 97,
        "startLoc": {
          "line": 85,
          "column": 5,
          "position": 515
        },
        "endLoc": {
          "line": 97,
          "column": 6,
          "position": 608
        }
      },
      "secondFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 54,
        "end": 66,
        "startLoc": {
          "line": 54,
          "column": 5,
          "position": 290
        },
        "endLoc": {
          "line": 66,
          "column": 9,
          "position": 383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 12,
      "fragment": "//   .lean<ILearningResource[]>();\n\n    const resources: ILearningResource[] = [];\n\n    if (resources && resources.length > 0) {\n      return resources;\n    }\n\n    // Fallback to JSON\n    const jsonResources =\n      learningResourcesData.resources as unknown as ILearningResource[];\n    return jsonResources.filter((r) => r.featured",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 118,
        "end": 129,
        "startLoc": {
          "line": 118,
          "column": 5,
          "position": 742
        },
        "endLoc": {
          "line": 129,
          "column": 9,
          "position": 832
        }
      },
      "secondFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 55,
        "end": 66,
        "startLoc": {
          "line": 55,
          "column": 5,
          "position": 293
        },
        "endLoc": {
          "line": 66,
          "column": 9,
          "position": 383
        }
      }
    },
    {
      "format": "typescript",
      "lines": 11,
      "fragment": "const jsonResources =\n      learningResourcesData.resources as unknown as ILearningResource[];\n    const lowerQuery = query.toLowerCase();\n    return jsonResources.filter(\n      (r) =>\n        r.title.toLowerCase().includes(lowerQuery) ||\n        r.description.toLowerCase().includes(lowerQuery) ||\n        r.tags.some((tag) => tag.toLowerCase().includes(lowerQuery))\n    );\n  }\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 175,
        "end": 185,
        "startLoc": {
          "line": 175,
          "column": 5,
          "position": 1172
        },
        "endLoc": {
          "line": 185,
          "column": 2,
          "position": 1287
        }
      },
      "secondFile": {
        "name": "src/lib/learning-resources.ts",
        "start": 164,
        "end": 173,
        "startLoc": {
          "line": 164,
          "column": 5,
          "position": 1036
        },
        "endLoc": {
          "line": 173,
          "column": 6,
          "position": 1151
        }
      }
    },
    {
      "format": "typescript",
      "lines": 6,
      "fragment": ");\n  if (filters.search) params.append('search', filters.search);\n  if (filters.limit) params.append('limit', filters.limit.toString());\n  if (filters.skip) params.append('skip', filters.skip.toString());\n  \n  const response = await fetch(`/api/patterns?",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 59,
        "end": 64,
        "startLoc": {
          "line": 59,
          "column": 11,
          "position": 407
        },
        "endLoc": {
          "line": 64,
          "column": 16,
          "position": 497
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 59,
        "end": 64,
        "startLoc": {
          "line": 59,
          "column": 5,
          "position": 391
        },
        "endLoc": {
          "line": 64,
          "column": 15,
          "position": 481
        }
      }
    },
    {
      "format": "typescript",
      "lines": 15,
      "fragment": "?? [],\n    total: data?.total ?? 0,\n    page: data?.page ?? 1,\n    pages: data?.pages ?? 1,\n    source: data?.source,\n    error,\n    isLoading,\n    isValidating,\n    refetch: mutate,\n  };\n}\n\n/**\n * Hook for fetching a single pattern by ID or slug\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 102,
        "end": 116,
        "startLoc": {
          "line": 102,
          "column": 2,
          "position": 754
        },
        "endLoc": {
          "line": 116,
          "column": 4,
          "position": 842
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 102,
        "end": 116,
        "startLoc": {
          "line": 102,
          "column": 2,
          "position": 738
        },
        "endLoc": {
          "line": 116,
          "column": 4,
          "position": 826
        }
      }
    },
    {
      "format": "typescript",
      "lines": 21,
      "fragment": "({ ...filters, limit, skip });\n\n  const nextPage = useCallback(() => {\n    if (page < result.pages) {\n      setPage((p) => p + 1);\n    }\n  }, [page, result.pages]);\n\n  const prevPage = useCallback(() => {\n    if (page > 1) {\n      setPage((p) => p - 1);\n    }\n  }, [page]);\n\n  const goToPage = useCallback((newPage: number) => {\n    if (newPage >= 1 && newPage <= result.pages) {\n      setPage(newPage);\n    }\n  }, [result.pages]);\n\n  const updateFilters = useCallback((newFilters: Partial<PatternFilters",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 159,
        "end": 179,
        "startLoc": {
          "line": 159,
          "column": 12,
          "position": 1184
        },
        "endLoc": {
          "line": 179,
          "column": 15,
          "position": 1409
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 159,
        "end": 179,
        "startLoc": {
          "line": 159,
          "column": 11,
          "position": 1168
        },
        "endLoc": {
          "line": 179,
          "column": 14,
          "position": 1393
        }
      }
    },
    {
      "format": "typescript",
      "lines": 27,
      "fragment": ">) => {\n    setFilters((f) => ({ ...f, ...newFilters }));\n    setPage(1); // Reset to first page when filters change\n  }, []);\n\n  const clearFilters = useCallback(() => {\n    setFilters(initialFilters);\n    setPage(1);\n  }, [initialFilters]);\n\n  return {\n    ...result,\n    page,\n    filters,\n    nextPage,\n    prevPage,\n    goToPage,\n    updateFilters,\n    clearFilters,\n    hasNextPage: page < result.pages,\n    hasPrevPage: page > 1,\n  };\n}\n\n/**\n * Hook for searching patterns with debounce\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 179,
        "end": 205,
        "startLoc": {
          "line": 179,
          "column": 15,
          "position": 1410
        },
        "endLoc": {
          "line": 205,
          "column": 4,
          "position": 1570
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 179,
        "end": 205,
        "startLoc": {
          "line": 179,
          "column": 14,
          "position": 1394
        },
        "endLoc": {
          "line": 205,
          "column": 4,
          "position": 1554
        }
      }
    },
    {
      "format": "typescript",
      "lines": 14,
      "fragment": "(initialQuery = '', debounceMs = 300) {\n  const [query, setQuery] = useState(initialQuery);\n  const [debouncedQuery, setDebouncedQuery] = useState(initialQuery);\n\n  // Debounce search query\n  useState(() => {\n    const timer = setTimeout(() => {\n      setDebouncedQuery(query);\n    }, debounceMs);\n\n    return () => clearTimeout(timer);\n  });\n\n  const result = usePatterns",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 206,
        "end": 219,
        "startLoc": {
          "line": 206,
          "column": 17,
          "position": 1577
        },
        "endLoc": {
          "line": 219,
          "column": 12,
          "position": 1703
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 206,
        "end": 219,
        "startLoc": {
          "line": 206,
          "column": 16,
          "position": 1561
        },
        "endLoc": {
          "line": 219,
          "column": 11,
          "position": 1687
        }
      }
    },
    {
      "format": "typescript",
      "lines": 24,
      "fragment": "({ search: debouncedQuery });\n\n  const updateQuery = useCallback((newQuery: string) => {\n    setQuery(newQuery);\n  }, []);\n\n  const clearQuery = useCallback(() => {\n    setQuery('');\n    setDebouncedQuery('');\n  }, []);\n\n  return {\n    ...result,\n    query,\n    debouncedQuery,\n    updateQuery,\n    clearQuery,\n    isSearching: query !== debouncedQuery || result.isValidating,\n  };\n}\n\n/**\n * Hook for patterns by category\n */",
      "tokens": 0,
      "firstFile": {
        "name": "src/hooks/usePatterns.ts",
        "start": 219,
        "end": 242,
        "startLoc": {
          "line": 219,
          "column": 12,
          "position": 1704
        },
        "endLoc": {
          "line": 242,
          "column": 4,
          "position": 1844
        }
      },
      "secondFile": {
        "name": "src/hooks/usePrompts.ts",
        "start": 219,
        "end": 242,
        "startLoc": {
          "line": 219,
          "column": 11,
          "position": 1688
        },
        "endLoc": {
          "line": 242,
          "column": 4,
          "position": 1828
        }
      }
    },
    {
      "format": "typescript",
      "lines": 18,
      "fragment": "export interface PatternDetail {\n  id: string;\n  name: string;\n  category: string;\n  level: 'beginner' | 'intermediate' | 'advanced';\n  shortDescription: string;\n  fullDescription: string;\n  howItWorks: string;\n  whenToUse: string[];\n  example: {\n    before: string;\n    after: string;\n    explanation: string;\n  };\n  bestPractices: string[];\n  commonMistakes: string[];\n  relatedPatterns: string[];\n}",
      "tokens": 0,
      "firstFile": {
        "name": "src/data/pattern-details.ts",
        "start": 8,
        "end": 25,
        "startLoc": {
          "line": 8,
          "column": 1,
          "position": 3
        },
        "endLoc": {
          "line": 25,
          "column": 2,
          "position": 135
        }
      },
      "secondFile": {
        "name": "src/lib/db/schemas/pattern.ts",
        "start": 43,
        "end": 60,
        "startLoc": {
          "line": 43,
          "column": 1,
          "position": 410
        },
        "endLoc": {
          "line": 60,
          "column": 2,
          "position": 542
        }
      }
    }
  ]
}